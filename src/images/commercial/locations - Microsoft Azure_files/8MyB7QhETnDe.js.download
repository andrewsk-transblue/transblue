"use strict";var __extends,__assign,__rest,__decorate,__param,__metadata,__awaiter,__generator,__exportStar,__values,__read,__spread,__spreadArrays,__spreadArray,__await,__asyncGenerator,__asyncDelegator,__asyncValues,__makeTemplateObject,__importStar,__importDefault,__classPrivateFieldGet,__classPrivateFieldSet,__createBinding,Reflect,ko,executeInDevelopmentModeOnly,ShellWorkerImpl,FxImpl;typeof self.importScripts=="function"&&(window=
(function(n){function f(){}function r(){var n={parentNode:null,toString:function(){return"FakeElement:"+n.nodeType},getAttribute:f,setAttribute:f,removeChild:f,addEventListener:f,removeEventListener:f,getElementById:r,createElement:r,cloneNode:r,createDocumentFragment:r,ownerDocument:t,documentElement:t,appendChild:function(n){return n},checked:!0,defaultValue:"checked",nodeType:1};return n.lastChild=n.firstChild=n,n.getElementsByTagName=n.getElementsByClassName=function(){return[n]},n}var t,u,i;return n.window=n,t=n.document=r(),t.head=r(),t.body=r(),t.ownerDocument=t.documentElement=t,t.nodeType=9,u={},i={},i.clear=function(){u={}},i.getItem=function(n){return u[n]||null},i.setItem=function(n,t){u[n]=t},i.removeItem=function(n){delete u[n]},i.key=function(n){return Object.keys(u)[n]},n.sessionStorage=i,n.localStorage=i,n})(self),document=window.document),
(function(){var n=window,u;n.module=undefined;n.performance||(n.performance={});n.performance.mark||(n.performance.mark=function(){});n.performance.measure||(n.performance.measure=function(){});var i=n.fx=n.fx||{},r=Date.now,f=r(),t=n.performance,e=t.now&&function(){return t.now()};t.mark("OssStart");u=i.getTimestamp=i.getTimestamp||e||function(){return r()-f};t.now||(t.now=i.getTimestamp);i.bootstrapTelemetry={ossFxScriptsBegin:u(),ossFxScriptsEnd:0,fxScriptsBegin:0,fxScriptsEnd:0}})();
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.
Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.
THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
(function(n){function t(n,t){return n!==i&&(typeof Object.create=="function"?Object.defineProperty(n,"__esModule",{value:!0}):n.__esModule=!0),function(i,r){return n[i]=t?t(i,r):r}}var i=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?(
define("tslib",["exports"],(function(r){n(t(i,t(r)))})),require(["tslib"])):typeof module=="object"&&typeof module.exports=="object"?n(t(i,t(module.exports))):n(t(i))})((function(n){var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])},t;__extends=function(n,t){function r(){Object.defineProperty(this,"constructor",{configurable:!0,value:n,writable:!0})}i(n,t);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)};__assign=Object.assign||function(n){for(var t,r,i=1,u=arguments.length;i<u;i++){t=arguments[i];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n};__rest=function(n,t){var u={},r;for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(u[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(u[i[r]]=n[i[r]]);return u};__decorate=function(n,t,i,r){var f=arguments.length,u=f<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r,e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,t,i,r);else for(o=n.length-1;o>=0;o--)(e=n[o])&&(u=(f<3?e(u):f>3?e(t,i,u):e(t,i))||u);return f>3&&u&&Object.defineProperty(t,i,u),u};__param=function(n,t){return function(i,r){t(i,r,n)}};__metadata=function(n,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,t)};__awaiter=function(n,t,i,r){function u(n){return n instanceof i?n:new i(function(t){t(n)})}return new(i||(i=Promise))(function(i,f){function o(n){try{e(r.next(n))}catch(t){f(t)}}function s(n){try{e(r["throw"](n))}catch(t){f(t)}}function e(n){n.done?i(n.value):u(n.value).then(o,s)}e((r=r.apply(n,t||[])).next())})};__generator=function(n,t){function o(n){return function(t){return s([n,t])}}function s(e){if(f)throw new TypeError("Generator is already executing.");while(r)try{if(f=1,u&&(i=e[0]&2?u["return"]:e[0]?u["throw"]||((i=u["return"])&&i.call(u),0):u.next)&&!(i=i.call(u,e[1])).done)return i;(u=0,i)&&(e=[e[0]&2,i.value]);switch(e[0]){case 0:case 1:i=e;break;case 4:return r.label++,{value:e[1],done:!1};case 5:r.label++;u=e[1];e=[0];continue;case 7:e=r.ops.pop();r.trys.pop();continue;default:if(!(i=r.trys,i=i.length>0&&i[i.length-1])&&(e[0]===6||e[0]===2)){r=0;continue}if(e[0]===3&&(!i||e[1]>i[0]&&e[1]<i[3])){r.label=e[1];break}if(e[0]===6&&r.label<i[1]){r.label=i[1];i=e;break}if(i&&r.label<i[2]){r.label=i[2];r.ops.push(e);break}i[2]&&r.ops.pop();r.trys.pop();continue}e=t.call(n,r)}catch(o){e=[6,o];u=0}finally{f=i=0}if(e[0]&5)throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},f,u,i,e;return e={next:o(0),"throw":o(1),"return":o(2)},typeof Symbol=="function"&&(e[Symbol.iterator]=function(){return this}),e};__exportStar=function(n,t){for(var i in n)i==="default"||t.hasOwnProperty(i)||__createBinding(t,n,i)};__createBinding=Object.create?function(n,t,i,r){r===undefined&&(r=i);Object.defineProperty(n,r,{enumerable:!0,get:function(){return t[i]}})}:function(n,t,i,r){r===undefined&&(r=i);n[r]=t[i]};__values=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,i=t&&n[t],r=0;if(i)return i.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.");};__read=function(n,t){var i=typeof Symbol=="function"&&n[Symbol.iterator],r,u,f,e;if(!i)return n;r=i.call(n);f=[];try{while((t===void 0||t-->0)&&!(u=r.next()).done)f.push(u.value)}catch(o){e={error:o}}finally{try{u&&!u.done&&(i=r["return"])&&i.call(r)}finally{if(e)throw e.error;}}return f};__spread=function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(__read(arguments[t]));return n};__spreadArrays=function(){for(var i=0,n=0,r=arguments.length;n<r;n++)i+=arguments[n].length;for(var u=Array(i),f=0,n=0;n<r;n++)for(var e=arguments[n],t=0,o=e.length;t<o;t++,f++)u[f]=e[t];return u};__spreadArray=function(n,t){for(var i=0,u=t.length,r=n.length;i<u;i++,r++)n[r]=t[i];return n};__await=function(n){return this instanceof __await?(this.v=n,this):new __await(n)};__asyncGenerator=function(n,t,i){function e(n){o[n]&&(u[n]=function(t){return new Promise(function(i,u){r.push([n,t,i,u])>1||f(n,t)})})}function f(n,t){try{h(o[n](t))}catch(i){s(r[0][3],i)}}function h(n){n.value instanceof __await?Promise.resolve(n.value.v).then(c,l):s(r[0][2],n)}function c(n){f("next",n)}function l(n){f("throw",n)}function s(n,t){(n(t),r.shift(),r.length)&&f(r[0][0],r[0][1])}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=i.apply(n,t||[]),u,r=[];return u={},e("next"),e("throw"),e("return"),u[Symbol.asyncIterator]=function(){return this},u};__asyncDelegator=function(n){function i(i,u){t[i]=n[i]?function(t){return(r=!r)?{value:__await(n[i](t)),done:i==="return"}:u?u(t):t}:u}var t,r;return t={},i("next"),i("throw",(function(n){throw n;})),i("return"),t[Symbol.iterator]=function(){return this},t};__asyncValues=function(n){function i(i){t[i]=n[i]&&function(t){return new Promise(function(r,f){t=n[i](t);u(r,f,t.done,t.value)})}}function u(n,t,i,r){Promise.resolve(r).then((function(t){n({value:t,done:i})}),t)}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n[Symbol.asyncIterator],t;return r?r.call(n):(n=typeof __values=="function"?__values(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t)};__makeTemplateObject=function(n,t){return Object.defineProperty?Object.defineProperty(n,"raw",{value:t}):n.raw=t,n};t=Object.create?function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}:function(n,t){n["default"]=t};__importStar=function(n){var i,r;if(n&&n.__esModule)return n;if(i={},n!=null)for(r in n)Object.hasOwnProperty.call(n,r)&&(i[r]=n[r]);return t(i,n),i};__importDefault=function(n){return n&&n.__esModule?n:{"default":n}};__classPrivateFieldGet=function(n,t,i,r){if(i==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?n!==t||!r:!t.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?r:i==="a"?r.call(n):r?r.value:t.get(n)};__classPrivateFieldSet=function(n,t,i,r,u){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!u)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?n!==t||!u:!t.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?u.call(n,i):u?u.value=i:t.set(n,i),i};n("__extends",__extends);n("__assign",__assign);n("__rest",__rest);n("__decorate",__decorate);n("__param",__param);n("__metadata",__metadata);n("__awaiter",__awaiter);n("__generator",__generator);n("__exportStar",__exportStar);n("__createBinding",__createBinding);n("__values",__values);n("__read",__read);n("__spread",__spread);n("__spreadArrays",__spreadArrays);n("__spreadArray",__spreadArray);n("__await",__await);n("__asyncGenerator",__asyncGenerator);n("__asyncDelegator",__asyncDelegator);n("__asyncValues",__asyncValues);n("__makeTemplateObject",__makeTemplateObject);n("__importStar",__importStar);n("__importDefault",__importDefault);n("__classPrivateFieldGet",__classPrivateFieldGet);n("__classPrivateFieldSet",__classPrivateFieldSet)})),
(function(){var n;(function(){function t(n,t,i){Object.defineProperty(n,t,{enumerable:!1,writable:!0,value:i})}function u(n,t){var i={threw:!1,result:null};try{i.result=n(t)}catch(r){i.threw=!0;i.result=r}return i}function r(n){return r.resolve(n)}var n=window||self,i=Promise;(function(r){function v(n){var t=this;return t=(Reflect===null||Reflect===void 0?void 0:Reflect.construct)?Reflect.construct(i,[n],this.constructor):i.call(this,n),t||this}function o(){var n,t,i=new f(function(i,r){n=i;t=r});return{resolve:n,reject:t,notify:function(n){return i.notify(n)},promise:i}}function w(n,t,i,u){return t||i||u?r(n).then(t,i,u):r(n)}function b(n){for(var i=[],t=1;t<arguments.length;t++)i[t-1]=arguments[t];return a().then((function(){return n.apply(void 0,i)}))}function k(n){return h(n,(function(n,t){return n.resolve(t)}),(function(n,t,i){return i===0&&n.reject(new Error("Can't get fulfillment value from any promise, all promises were rejected."))}),(function(n,t){return n.resolve(t)}))}function h(n,t,i,r){var u=o(),f=1;try{n.forEach((function(n,e){s(n)?(++f,n.then((function(n){return t(u,n,e,--f)}),(function(n){return i(u,n,--f)}),(function(n){return u.notify({index:e,value:n})}))):r&&r(u,n)}))}catch(e){u.reject(e)}return--f==0&&u.resolve(n),u.promise}function d(n,t){return n.progress(t)}function g(n,t,i){return t?n[t+""].apply(n,i):n.apply(n,i)}function c(n){return h(n,(function(t,i,r,u){n[r]=i;u===0&&t.resolve(n)}),(function(n,t){return n.reject(t)}))}function nt(n){return c(n.map(r.resolve).map((function(n){return n.then((function(){return n.inspect()}),(function(){return n.inspect()}))})))}function tt(n){return h(n,(function(t,i,r,u){return u===0&&t.resolve(n)}),(function(t,i,r){return r===0&&t.resolve(n)}))}function y(n,t,i){return c(n).then((function(n){return t.apply(void 0,n)}),i)}function it(n,t,i){if(n.timeout)return n.timeout(t,i);var r=o();return n.then(r.resolve,r.reject,r.notify),r.promise.timeout(t,i)}function rt(t,i){return e(t)?t.delay(i):i!==undefined?new f(function(t){n.setTimeout((function(){t()}),i)}).then((function(){return t})):new f(function(i){n.setTimeout((function(){i()}),t)})}function ut(n){return e(n)?n.isFulfilled():!0}function ft(n){return e(n)?n.isRejected():!1}function et(n){return e(n)?n.isPending():!1}function ot(){return o()}function st(n){return new f(function(t,i){i(n)})}function p(n){var t=o();return n(t.resolve,t.reject,t.notify),t.promise}function ht(n){return p(n)}function e(n){return!!(n===null||n===void 0?void 0:n._qState)}function s(n){return!!(n&&typeof n.then=="function")}function l(t){a().then((function(){var i=u(t);i.threw&&n.setTimeout((function(){throw i.result;}))}))}function a(n){if(n){if(e(n))return n;if(n instanceof i)return new f(function(t){t(n)});if(s(n)){var t=o();return l((function(){var i=u((function(){return n.then((function(n){return t.resolve(n)}),(function(n){return t.reject(n)}),(function(n){return t.notify(n)}))}));i.threw&&t.reject(i.result)})),t.promise}return new f(function(t){t(n)})}return new f(function(t){t(n)})}n.__extends(v,i);var f=(function(i){function f(n){var r=this,f,o,u;return r=i.call(this,(function(n,t){f=n;o=t}))||this,t(r,"_qState","pending"),t(r,"_qResult",undefined),t(r,"_qSettling",!1),t(r,"_qProgressHandlers",[]),t(r,"_qChildProgressHandlers",[]),u=function(n,t){if(r._qSettling=!0,n==="rejected")r._qProgressHandlers=null,r._qChildProgressHandlers=null,r._qState="rejected",r._qResult=t,o(t);else if(e(t)&&!t.isPending()){var i=t.inspect();t.isFulfilled()?u("fulfilled",i.value):(t.catch((function(){})),u("rejected",i.reason))}else s(t)?t.then((function(n){u("fulfilled",n)}),(function(n){u("rejected",n)})):(r._qProgressHandlers=null,r._qChildProgressHandlers=null,r._qState="fulfilled",r._qResult=t,f(t))},n((function(n){var t;r._qState!=="pending"||r._qSettling||(e(n)&&r._qChildProgressHandlers&&r._qChildProgressHandlers.length&&n._qChildProgressHandlers&&(t=n._qChildProgressHandlers).push.apply(t,r._qChildProgressHandlers),u("fulfilled",n))}),(function(n){r._qState!=="pending"||r._qSettling||u("rejected",n)})),r}return __extends(f,i),f.prototype.then=function(n,t,r){var u=i.prototype.then.call(this,n,t);return r&&u._qProgressHandlers&&u._qProgressHandlers.push(r),this._qChildProgressHandlers&&this._qChildProgressHandlers.push((function(n){return u.notify(n)})),u},f.prototype.catch=function(n){return this.then(undefined,n)},f.prototype.finally=function(n){return i.prototype.finally.call(this,n)},f.prototype.spread=function(n,t){return this.then((function(i){return y(i,n,t)}))},f.prototype.progress=function(n){return this.then(undefined,undefined,n)},f.prototype.done=function(n,t,i){var u=n||t||i?this.then(n,t,i):this;u.catch((function(n){l((function(){if(r.onerror)r.onerror(n);else throw n;}))}))},f.prototype.get=function(n){return this.then((function(t){return t[n+""]}))},f.prototype.set=function(n,t){return this.then((function(i){i[n+""]=t}))},f.prototype.delete=function(n){return this.then((function(t){delete t[n+""]}))},f.prototype.del=function(n){return this.delete(n)},f.prototype.post=function(n,t){return this.then((function(i){return n?i[n+""].apply(i,t):i.apply(i,t)}))},f.prototype.invoke=function(){return this.post.apply(this,arguments)},f.prototype.keys=function(){return this.then(Object.keys)},f.prototype.thenResolve=function(n){return this.then((function(){return n}))},f.prototype.thenReject=function(n){return this.then((function(){throw n;}))},f.prototype.timeout=function(t,i){var r=o();return this.then(r.resolve,r.reject,r.notify),n.setTimeout((function(){if(r.promise.isPending()){var n=void 0;i!==undefined?typeof i=="string"||i instanceof String?(n=new Error(i),n.code="ETIMEDOUT"):n=i:(n=new Error("Timed out after ".concat(t," ms")),n.code="ETIMEDOUT");r.reject(n)}}),t),r.promise},f.prototype.delay=function(t){var i=o();return this.then((function(r){n.setTimeout((function(){i.resolve(r)}),t)}),i.reject,i.notify),i.promise},f.prototype.isFulfilled=function(){return this._qState==="fulfilled"},f.prototype.isRejected=function(){return this._qState==="rejected"},f.prototype.isPending=function(){return this._qState==="pending"},f.prototype.valueOf=function(){return this.inspect().value},f.prototype.inspect=function(){var n={state:this._qState};return this._qResult!==undefined&&(this.isFulfilled()?n.value=this._qResult:this.isRejected()&&(n.reason=this._qResult)),n},f.prototype.notify=function(n){if(this.isPending()){var t=!0;this._qProgressHandlers&&this._qProgressHandlers.forEach((function(i){var f=u(i,n);f.threw?(t=!1,r===null||r===void 0?void 0:r.onerror(f.result)):f.result&&(n=f.result)}));this._qChildProgressHandlers&&t&&this._qChildProgressHandlers.forEach((function(t){t(n)}))}return n},f})(v);r.QPromise=f;r.when=w;r.fcall=b;r.any=k;r.progress=d;r.post=g;r.all=c;r.allSettled=nt;r.allResolved=tt;r.spread=y;r.timeout=it;r.delay=rt;r.isFulfilled=ut;r.isRejected=ft;r.isPending=et;r.defer=ot;r.reject=st;r.promise=p;r.Promise=ht;r.isPromise=e;r.isPromiseAlike=s;r.nextTick=l;r.resolve=a})(r||(r={}));n.Q=r})(n||(n={}))})(FxImpl||(FxImpl={})),
(function(n){(function(t){function u(n,t){return function(i,r){typeof n[i]!="function"&&Object.defineProperty(n,i,{configurable:!0,writable:!0,value:r});t&&t(i,r)}}var i=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:Function("return this;")(),r=u(n);typeof i.Reflect=="undefined"?i.Reflect=n:r=u(i.Reflect,r);t(r)})((function(n){function g(n,f,e,o){if(t(e)){if(!k(n))throw new TypeError;if(!d(f))throw new TypeError;return ht(n,f)}if(!k(n))throw new TypeError;if(!i(f))throw new TypeError;if(!i(o)&&!t(o)&&!u(o))throw new TypeError;return u(o)&&(o=undefined),e=r(e),ct(n,f,e,o)}function nt(n,r){function u(u,f){if(!i(u))throw new TypeError;if(!t(f)&&!wt(f))throw new TypeError;y(n,r,u,f)}return u}function tt(n,u,f,e){if(!i(f))throw new TypeError;return t(e)||(e=r(e)),y(n,u,f,e)}function it(n,u,f){if(!i(u))throw new TypeError;return t(f)||(f=r(f)),l(n,u,f)}function rt(n,u,f){if(!i(u))throw new TypeError;return t(f)||(f=r(f)),s(n,u,f)}function ut(n,u,f){if(!i(u))throw new TypeError;return t(f)||(f=r(f)),a(n,u,f)}function ft(n,u,f){if(!i(u))throw new TypeError;return t(f)||(f=r(f)),v(n,u,f)}function et(n,u){if(!i(n))throw new TypeError;return t(u)||(u=r(u)),p(n,u)}function ot(n,u){if(!i(n))throw new TypeError;return t(u)||(u=r(u)),w(n,u)}function st(n,u,e){var s,h;if(!i(u))throw new TypeError;return(t(e)||(e=r(e)),s=f(u,e,!1),t(s))?!1:s.delete(n)?s.size>0?!0:(h=o.get(u),h.delete(e),h.size>0)?!0:(o.delete(u),!0):!1}function ht(n,i){for(var e,r,f=n.length-1;f>=0;--f)if(e=n[f],r=e(i),!t(r)&&!u(r)){if(!d(r))throw new TypeError;i=r}return i}function ct(n,r,f,e){for(var h,o,s=n.length-1;s>=0;--s)if(h=n[s],o=h(r,f,e),!t(o)&&!u(o)){if(!i(o))throw new TypeError;e=o}return e}function f(n,i,r){var u=o.get(n),f;if(t(u)){if(!r)return undefined;u=new Map;o.set(n,u)}if(f=u.get(i),t(f)){if(!r)return undefined;f=new Map;u.set(i,f)}return f}function l(n,t,i){var f=s(n,t,i),r;return f?!0:(r=h(t),!u(r))?l(n,r,i):!1}function s(n,i,r){var u=f(i,r,!1);return t(u)?!1:yt(u.has(n))}function a(n,t,i){var f=s(n,t,i),r;return f?v(n,t,i):(r=h(t),!u(r))?a(n,r,i):undefined}function v(n,i,r){var u=f(i,r,!1);return t(u)?undefined:u.get(n)}function y(n,t,i,r){var u=f(i,r,!0);u.set(n,t)}function p(n,t){var c=w(n,t),v=h(n),u,r,f,e,l,s,a,i,o;if(v===null||(u=p(v,t),u.length<=0))return c;if(c.length<=0)return u;for(r=new Set,f=[],e=0,l=c;e<l.length;e++)i=l[e],o=r.has(i),o||(r.add(i),f.push(i));for(s=0,a=u;s<a.length;s++)i=a[s],o=r.has(i),o||(r.add(i),f.push(i));return f}function w(n,i){var r=[],o=f(n,i,!1),e,h;if(t(o))return r;for(var c=o.keys(),s=bt(c),u=0;;){if(e=dt(s),!e)return r.length=u,r;h=kt(e);try{r[u]=h}catch(l){try{gt(s)}finally{throw l;}}u++}}function b(n){if(n===null)return 1;switch(typeof n){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return n===null?1:6;default:return 6}}function t(n){return n===undefined}function u(n){return n===null}function lt(n){return typeof n=="symbol"}function i(n){return typeof n=="object"?n!==null:typeof n=="function"}function at(n,t){var r,u,f;switch(b(n)){case 0:return n;case 1:return n;case 2:return n;case 3:return n;case 4:return n;case 5:return n}if(r=t===3?"string":t===5?"number":"default",u=n[Symbol.toPrimitive],u!==undefined){if(f=u.call(n,r),i(f))throw new TypeError;return f}return vt(n,r==="default"?"number":r)}function vt(n,t){var f,u,o,r;if(t==="string"){if((f=n.toString,e(f)&&(r=f.call(n),!i(r)))||(u=n.valueOf,e(u)&&(r=u.call(n),!i(r))))return r}else if((u=n.valueOf,e(u)&&(r=u.call(n),!i(r)))||(o=n.toString,e(o)&&(r=o.call(n),!i(r))))return r;throw new TypeError;}function yt(n){return!!n}function pt(n){return""+n}function r(n){var t=at(n,3);return lt(t)?t:pt(t)}function k(n){return Array.isArray?Array.isArray(n):n instanceof Object?n instanceof Array:Object.prototype.toString.call(n)==="[object Array]"}function e(n){return typeof n=="function"}function d(n){return typeof n=="function"}function wt(n){switch(b(n)){case 3:return!0;case 4:return!0;default:return!1}}function bt(n){var r=n[Symbol.iterator],t;if(!e(r))throw new TypeError;if(t=r.call(n),!i(t))throw new TypeError;return t}function kt(n){return n.value}function dt(n){var t=n.next();return t.done?!1:t}function gt(n){var t=n["return"];t&&t.call(n)}function h(n){var t=Object.getPrototypeOf(n),u,i,r;return typeof n!="function"||n===c?t:t!==c?t:(u=n.prototype,i=u&&Object.getPrototypeOf(u),i==null||i===Object.prototype)?t:(r=i.constructor,typeof r!="function")?t:r===n?t:r}var c=Object.getPrototypeOf(Function),o=new WeakMap;n("decorate",g);n("metadata",nt);n("defineMetadata",tt);n("hasMetadata",it);n("hasOwnMetadata",rt);n("getMetadata",ut);n("getOwnMetadata",ft);n("getMetadataKeys",et);n("getOwnMetadataKeys",ot);n("deleteMetadata",st)}))})(Reflect||(Reflect={}));
/*!
 * jQuery JavaScript Library v3.6.0
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2021-03-02T17:08Z
 */
(function(n,t){t(n)})(typeof window!="undefined"?window:this,(function(n,t){function pr(n,t,i){i=i||f;var r,e,u=i.createElement("script");if(u.text=n,t)for(r in fe)e=t[r]||t.getAttribute&&t.getAttribute(r),e&&u.setAttribute(r,e);i.head.appendChild(u).parentNode.removeChild(u)}function rt(n){return n==null?n+"":typeof n=="object"||typeof n=="function"?ti[vr.call(n)]||"object":typeof n}function ai(n){var t=!!n&&"length"in n&&n.length,i=rt(n);return u(n)||it(n)?!1:i==="array"||t===0||typeof t=="number"&&t>0&&t-1 in n}function l(n,t){return n.nodeName&&n.nodeName.toLowerCase()===t.toLowerCase()}function yi(n,t,r){return u(t)?i.grep(n,(function(n,i){return!!t.call(n,i,n)!==r})):t.nodeType?i.grep(n,(function(n){return n===t!==r})):typeof t!="string"?i.grep(n,(function(n){return ni.call(t,n)>-1!==r})):i.filter(t,n,r)}function ru(n,t){while((n=n[t])&&n.nodeType!==1);return n}function ee(n){var t={};return i.each(n.match(a)||[],(function(n,i){t[i]=!0})),t}function ft(n){return n}function ri(n){throw n;}function uu(n,t,i,r){var f;try{n&&u(f=n.promise)?f.call(n).done(t).fail(i):n&&u(f=n.then)?f.call(n,t,i):t.apply(undefined,[n].slice(r))}catch(n){i.apply(undefined,[n])}}function fi(){f.removeEventListener("DOMContentLoaded",fi);n.removeEventListener("load",fi);i.ready()}function he(n,t){return t.toUpperCase()}function y(n){return n.replace(oe,"ms-").replace(se,he)}function pt(){this.expando=i.expando+pt.uid++}function ae(n){return n==="true"?!0:n==="false"?!1:n==="null"?null:n===+n+""?+n:ce.test(n)?JSON.parse(n):n}function eu(n,t,i){var r;if(i===undefined&&n.nodeType===1)if(r="data-"+t.replace(le,"-$&").toLowerCase(),i=n.getAttribute(r),typeof i=="string"){try{i=ae(i)}catch(u){}o.set(n,t,i)}else i=undefined;return i}function su(n,t,r,u){var s,h,c=20,l=u?function(){return u.cur()}:function(){return i.css(n,t,"")},o=l(),e=r&&r[3]||(i.cssNumber[t]?"":"px"),f=n.nodeType&&(i.cssNumber[t]||e!=="px"&&+o)&&wt.exec(i.css(n,t));if(f&&f[3]!==e){for(o=o/2,e=e||f[3],f=+o||1;c--;)i.style(n,t,f+e),(1-h)*(1-(h=l()/o||.5))<=0&&(c=0),f=f/h;f=f*2;i.style(n,t,f+e);r=r||[]}return r&&(f=+f||+o||0,s=r[1]?f+(r[1]+1)*r[2]:+r[2],u&&(u.unit=e,u.start=f,u.end=s)),s}function ye(n){var r,f=n.ownerDocument,u=n.nodeName,t=pi[u];return t?t:(r=f.body.appendChild(f.createElement(u)),t=i.css(r,"display"),r.parentNode.removeChild(r),t==="none"&&(t="block"),pi[u]=t,t)}function st(n,t){for(var e,u,f=[],i=0,o=n.length;i<o;i++)(u=n[i],u.style)&&(e=u.style.display,t?(e==="none"&&(f[i]=r.get(u,"display")||null,f[i]||(u.style.display="")),u.style.display===""&&bt(u)&&(f[i]=ye(u))):e!=="none"&&(f[i]="none",r.set(u,"display",e)));for(i=0;i<o;i++)f[i]!=null&&(n[i].style.display=f[i]);return n}function s(n,t){var r;return(r=typeof n.getElementsByTagName!="undefined"?n.getElementsByTagName(t||"*"):typeof n.querySelectorAll!="undefined"?n.querySelectorAll(t||"*"):[],t===undefined||t&&l(n,t))?i.merge([n],r):r}function wi(n,t){for(var i=0,u=n.length;i<u;i++)r.set(n[i],"globalEval",!t||r.get(t[i],"globalEval"))}function au(n,t,r,u,f){for(var e,o,p,a,w,v,h=t.createDocumentFragment(),y=[],l=0,b=n.length;l<b;l++)if(e=n[l],e||e===0)if(rt(e)==="object")i.merge(y,e.nodeType?[e]:e);else if(lu.test(e)){for(o=o||h.appendChild(t.createElement("div")),p=(hu.exec(e)||["",""])[1].toLowerCase(),a=c[p]||c._default,o.innerHTML=a[1]+i.htmlPrefilter(e)+a[2],v=a[0];v--;)o=o.lastChild;i.merge(y,o.childNodes);o=h.firstChild;o.textContent=""}else y.push(t.createTextNode(e));for(h.textContent="",l=0;e=y[l++];){if(u&&i.inArray(e,u)>-1){f&&f.push(e);continue}if(w=ot(e),o=s(h.appendChild(e),"script"),w&&wi(o),r)for(v=0;e=o[v++];)cu.test(e.type||"")&&r.push(e)}return h}function ht(){return!0}function ct(){return!1}function pe(n,t){return n===we()==(t==="focus")}function we(){try{return f.activeElement}catch(n){}}function ki(n,t,r,u,f,e){var o,s;if(typeof t=="object"){typeof r!="string"&&(u=u||r,r=undefined);for(s in t)ki(n,s,r,u,t[s],e);return n}if(u==null&&f==null?(f=r,u=r=undefined):f==null&&(typeof r=="string"?(f=u,u=undefined):(f=u,u=r,r=undefined)),f===!1)f=ct;else if(!f)return n;return e===1&&(o=f,f=function(n){return i().off(n),o.apply(this,arguments)},f.guid=o.guid||(o.guid=i.guid++)),n.each((function(){i.event.add(this,t,f,u,r)}))}function ei(n,t,u){if(!u){r.get(n,t)===undefined&&i.event.add(n,t,ht);return}r.set(n,t,!1);i.event.add(n,t,{namespace:!1,handler:function(n){var o,e,f=r.get(this,t);if(n.isTrigger&1&&this[t]){if(f.length)(i.event.special[t]||{}).delegateType&&n.stopPropagation();else if(f=k.call(arguments),r.set(this,t,f),o=u(this,t),this[t](),e=r.get(this,t),f!==e||o?r.set(this,t,!1):e={},f!==e)return n.stopImmediatePropagation(),n.preventDefault(),e&&e.value}else f.length&&(r.set(this,t,{value:i.event.trigger(i.extend(f[0],i.Event.prototype),f.slice(1),this)}),n.stopImmediatePropagation())}})}function vu(n,t){return l(n,"table")&&l(t.nodeType!==11?t:t.firstChild,"tr")?i(n).children("tbody")[0]||n:n}function ge(n){return n.type=(n.getAttribute("type")!==null)+"/"+n.type,n}function no(n){return(n.type||"").slice(0,5)==="true/"?n.type=n.type.slice(5):n.removeAttribute("type"),n}function yu(n,t){var f,s,e,h,c,l,u;if(t.nodeType===1){if(r.hasData(n)&&(h=r.get(n),u=h.events,u)){r.remove(t,"handle events");for(e in u)for(f=0,s=u[e].length;f<s;f++)i.event.add(t,e,u[e][f])}o.hasData(n)&&(c=o.access(n),l=i.extend({},c),o.set(t,l))}}function to(n,t){var i=t.nodeName.toLowerCase();i==="input"&&kt.test(n.type)?t.checked=n.checked:(i==="input"||i==="textarea")&&(t.defaultValue=n.defaultValue)}function lt(n,t,f,o){t=ar(t);var a,b,l,v,h,y,c=0,p=n.length,d=p-1,w=t[0],k=u(w);if(k||p>1&&typeof w=="string"&&!e.checkClone&&ke.test(w))return n.each((function(i){var r=n.eq(i);k&&(t[0]=w.call(this,i,r.html()));lt(r,t,f,o)}));if(p&&(a=au(t,n[0].ownerDocument,!1,n,o),b=a.firstChild,a.childNodes.length===1&&(a=b),b||o)){for(l=i.map(s(a,"script"),ge),v=l.length;c<p;c++)h=a,c!==d&&(h=i.clone(h,!0,!0),v&&i.merge(l,s(h,"script"))),f.call(n[c],h,c);if(v)for(y=l[l.length-1].ownerDocument,i.map(l,no),c=0;c<v;c++)h=l[c],cu.test(h.type||"")&&!r.access(h,"globalEval")&&i.contains(y,h)&&(h.src&&(h.type||"").toLowerCase()!=="module"?i._evalUrl&&!h.noModule&&i._evalUrl(h.src,{nonce:h.nonce||h.getAttribute("nonce")},y):pr(h.textContent.replace(de,""),h,y))}return n}function pu(n,t,r){for(var u,e=t?i.filter(t,n):n,f=0;(u=e[f])!=null;f++)r||u.nodeType!==1||i.cleanData(s(u)),u.parentNode&&(r&&ot(u)&&wi(s(u,"script")),u.parentNode.removeChild(u));return n}function dt(n,t,r){var o,s,h,u,f=n.style;return r=r||oi(n),r&&(u=r.getPropertyValue(t)||r[t],u!==""||ot(n)||(u=i.style(n,t)),!e.pixelBoxStyles()&&di.test(u)&&io.test(t)&&(o=f.width,s=f.minWidth,h=f.maxWidth,f.minWidth=f.maxWidth=f.width=u,u=r.width,f.width=o,f.minWidth=s,f.maxWidth=h)),u!==undefined?u+"":u}function bu(n,t){return{get:function(){if(n()){delete this.get;return}return(this.get=t).apply(this,arguments)}}}function ro(n){for(var i=n[0].toUpperCase()+n.slice(1),t=ku.length;t--;)if(n=ku[t]+i,n in du)return n}function gi(n){var t=i.cssProps[n]||gu[n];return t?t:n in du?n:gu[n]=ro(n)||n}function rf(n,t,i){var r=wt.exec(t);return r?Math.max(0,r[2]-(i||0))+(r[3]||"px"):t}function nr(n,t,r,u,f,e){var o=t==="width"?1:0,h=0,s=0;if(r===(u?"border":"content"))return 0;for(;o<4;o+=2)r==="margin"&&(s+=i.css(n,r+b[o],!0,f)),u?(r==="content"&&(s-=i.css(n,"padding"+b[o],!0,f)),r!=="margin"&&(s-=i.css(n,"border"+b[o]+"Width",!0,f))):(s+=i.css(n,"padding"+b[o],!0,f),r!=="padding"?s+=i.css(n,"border"+b[o]+"Width",!0,f):h+=i.css(n,"border"+b[o]+"Width",!0,f));return!u&&e>=0&&(s+=Math.max(0,Math.ceil(n["offset"+t[0].toUpperCase()+t.slice(1)]-e-s-h-.5))||0),s}function uf(n,t,r){var f=oi(n),c=!e.boxSizingReliable()||r,o=c&&i.css(n,"boxSizing",!1,f)==="border-box",s=o,u=dt(n,t,f),h="offset"+t[0].toUpperCase()+t.slice(1);if(di.test(u)){if(!r)return u;u="auto"}return(!e.boxSizingReliable()&&o||!e.reliableTrDimensions()&&l(n,"tr")||u==="auto"||!parseFloat(u)&&i.css(n,"display",!1,f)==="inline")&&n.getClientRects().length&&(o=i.css(n,"boxSizing",!1,f)==="border-box",s=h in n,s&&(u=n[h])),u=parseFloat(u)||0,u+nr(n,t,r||(o?"border":"content"),s,f,u)+"px"}function h(n,t,i,r,u){return new h.prototype.init(n,t,i,r,u)}function tr(){si&&(f.hidden===!1&&n.requestAnimationFrame?n.requestAnimationFrame(tr):n.setTimeout(tr,i.fx.interval),i.fx.tick())}function sf(){return n.setTimeout((function(){at=undefined})),at=Date.now()}function hi(n,t){var r,u=0,i={height:n};for(t=t?1:0;u<4;u+=2-t)r=b[u],i["margin"+r]=i["padding"+r]=n;return t&&(i.opacity=i.width=n),i}function hf(n,t,i){for(var u,f=(v.tweeners[t]||[]).concat(v.tweeners["*"]),r=0,e=f.length;r<e;r++)if(u=f[r].call(i,t,n))return u}function eo(n,t,u){var f,y,w,c,b,s,o,l,k="width"in t||"height"in t,v=this,p={},h=n.style,a=n.nodeType&&bt(n),e=r.get(n,"fxshow");u.queue||(c=i._queueHooks(n,"fx"),c.unqueued==null&&(c.unqueued=0,b=c.empty.fire,c.empty.fire=function(){c.unqueued||b()}),c.unqueued++,v.always((function(){v.always((function(){c.unqueued--;i.queue(n,"fx").length||c.empty.fire()}))})));for(f in t)if(y=t[f],ff.test(y)){if(delete t[f],w=w||y==="toggle",y===(a?"hide":"show"))if(y==="show"&&e&&e[f]!==undefined)a=!0;else continue;p[f]=e&&e[f]||i.style(n,f)}if(s=!i.isEmptyObject(t),s||!i.isEmptyObject(p)){k&&n.nodeType===1&&(u.overflow=[h.overflow,h.overflowX,h.overflowY],o=e&&e.display,o==null&&(o=r.get(n,"display")),l=i.css(n,"display"),l==="none"&&(o?l=o:(st([n],!0),o=n.style.display||o,l=i.css(n,"display"),st([n]))),(l==="inline"||l==="inline-block"&&o!=null)&&i.css(n,"float")==="none"&&(s||(v.done((function(){h.display=o})),o==null&&(l=h.display,o=l==="none"?"":l)),h.display="inline-block"));u.overflow&&(h.overflow="hidden",v.always((function(){h.overflow=u.overflow[0];h.overflowX=u.overflow[1];h.overflowY=u.overflow[2]})));s=!1;for(f in p)s||(e?"hidden"in e&&(a=e.hidden):e=r.access(n,"fxshow",{display:o}),w&&(e.hidden=!a),a&&st([n],!0),v.done((function(){a||st([n]);r.remove(n,"fxshow");for(f in p)i.style(n,f,p[f])}))),s=hf(a?e[f]:0,f,v),f in e||(e[f]=s.start,a&&(s.end=s.start,s.start=0))}}function oo(n,t){var r,f,e,u,o;for(r in n)if(f=y(r),e=t[f],u=n[r],Array.isArray(u)&&(e=u[1],u=n[r]=u[0]),r!==f&&(n[f]=u,delete n[r]),o=i.cssHooks[f],o&&"expand"in o){u=o.expand(u);delete n[f];for(r in u)r in n||(n[r]=u[r],t[r]=e)}else t[f]=e}function v(n,t,r){var o,s,h=0,a=v.prefilters.length,e=i.Deferred().always((function(){delete l.elem})),l=function(){if(s)return!1;for(var o=at||sf(),t=Math.max(0,f.startTime+f.duration-o),h=t/f.duration||0,i=1-h,r=0,u=f.tweens.length;r<u;r++)f.tweens[r].run(i);return(e.notifyWith(n,[f,i,t]),i<1&&u)?t:(u||e.notifyWith(n,[f,1,0]),e.resolveWith(n,[f]),!1)},f=e.promise({elem:n,props:i.extend({},t),opts:i.extend(!0,{specialEasing:{},easing:i.easing._default},r),originalProperties:t,originalOptions:r,startTime:at||sf(),duration:r.duration,tweens:[],createTween:function(t,r){var u=i.Tween(n,f.opts,t,r,f.opts.specialEasing[t]||f.opts.easing);return f.tweens.push(u),u},stop:function(t){var i=0,r=t?f.tweens.length:0;if(s)return this;for(s=!0;i<r;i++)f.tweens[i].run(1);return t?(e.notifyWith(n,[f,1,0]),e.resolveWith(n,[f,t])):e.rejectWith(n,[f,t]),this}}),c=f.props;for(oo(c,f.opts.specialEasing);h<a;h++)if(o=v.prefilters[h].call(f,n,c,f.opts),o)return u(o.stop)&&(i._queueHooks(f.elem,f.opts.queue).stop=o.stop.bind(o)),o;return i.map(c,hf,f),u(f.opts.start)&&f.opts.start.call(n,f),f.progress(f.opts.progress).done(f.opts.done,f.opts.complete).fail(f.opts.fail).always(f.opts.always),i.fx.timer(i.extend(l,{elem:n,anim:f,queue:f.opts.queue})),f}function nt(n){var t=n.match(a)||[];return t.join(" ")}function tt(n){return n.getAttribute&&n.getAttribute("class")||""}function ir(n){return Array.isArray(n)?n:typeof n=="string"?n.match(a)||[]:[]}function er(n,t,r,u){var f;if(Array.isArray(t))i.each(t,(function(t,i){r||so.test(n)?u(n,i):er(n+"["+(typeof i=="object"&&i!=null?t:"")+"]",i,r,u)}));else if(r||rt(t)!=="object")u(n,t);else for(f in t)er(n+"["+f+"]",t[f],r,u)}function kf(n){return function(t,i){typeof t!="string"&&(i=t,t="*");var r,f=0,e=t.toLowerCase().match(a)||[];if(u(i))while(r=e[f++])r[0]==="+"?(r=r.slice(1)||"*",(n[r]=n[r]||[]).unshift(i)):(n[r]=n[r]||[]).push(i)}}function df(n,t,r,u){function e(s){var h;return f[s]=!0,i.each(n[s]||[],(function(n,i){var s=i(t,r,u);if(typeof s!="string"||o||f[s]){if(o)return!(h=s)}else return t.dataTypes.unshift(s),e(s),!1})),h}var f={},o=n===or;return e(t.dataTypes[0])||!f["*"]&&e("*")}function hr(n,t){var r,u,f=i.ajaxSettings.flatOptions||{};for(r in t)t[r]!==undefined&&((f[r]?n:u||(u={}))[r]=t[r]);return u&&i.extend(!0,n,u),n}function bo(n,t,i){for(var e,u,f,o,s=n.contents,r=n.dataTypes;r[0]==="*";)r.shift(),e===undefined&&(e=n.mimeType||t.getResponseHeader("Content-Type"));if(e)for(u in s)if(s[u]&&s[u].test(e)){r.unshift(u);break}if(r[0]in i)f=r[0];else{for(u in i){if(!r[0]||n.converters[u+" "+r[0]]){f=u;break}o||(o=u)}f=f||o}if(f)return f!==r[0]&&r.unshift(f),i[f]}function ko(n,t,i,r){var h,u,f,s,e,o={},c=n.dataTypes.slice();if(c[1])for(f in n.converters)o[f.toLowerCase()]=n.converters[f];for(u=c.shift();u;)if(n.responseFields[u]&&(i[n.responseFields[u]]=t),!e&&r&&n.dataFilter&&(t=n.dataFilter(t,n.dataType)),e=u,u=c.shift(),u)if(u==="*")u=e;else if(e!=="*"&&e!==u){if(f=o[e+" "+u]||o["* "+u],!f)for(h in o)if(s=h.split(" "),s[1]===u&&(f=o[e+" "+s[0]]||o["* "+s[0]],f)){f===!0?f=o[h]:o[h]!==!0&&(u=s[0],c.unshift(s[1]));break}if(f!==!0)if(f&&n.throws)t=f(t);else try{t=f(t)}catch(l){return{state:"parsererror",error:f?l:"No conversion from "+e+" to "+u}}}return{state:"success",data:t}}var p=[],lr=Object.getPrototypeOf,k=p.slice,ar=p.flat?function(n){return p.flat.call(n)}:function(n){return p.concat.apply([],n)},li=p.push,ni=p.indexOf,ti={},vr=ti.toString,ii=ti.hasOwnProperty,yr=ii.toString,re=yr.call(Object),e={},ue=typeof importScripts=="function",u=function(n){return typeof n=="function"&&typeof n.nodeType!="number"&&typeof n.item!="function"},it=function(n){return n!=null&&n===n.window},f=n.document,fe={type:!0,src:!0,nonce:!0,noModule:!0},wr="3.6.0",i=function(n,t){return new i.fn.init(n,t)},d,vi,dr,gr,nu,tu,iu,a,fu,ui,et,bt,pi,c,lu,bi,at,si,ff,ef,cf,vt,lf,af,vf,rr,ur,gf,yt,cr,ci,ne,te,ie;i.fn=i.prototype={jquery:wr,constructor:i,length:0,toArray:function(){return k.call(this)},get:function(n){return n==null?k.call(this):n<0?this[n+this.length]:this[n]},pushStack:function(n){var t=i.merge(this.constructor(),n);return t.prevObject=this,t},each:function(n){return i.each(this,n)},map:function(n){return this.pushStack(i.map(this,(function(t,i){return n.call(t,i,t)})))},slice:function(){return this.pushStack(k.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(i.grep(this,(function(n,t){return(t+1)%2})))},odd:function(){return this.pushStack(i.grep(this,(function(n,t){return t%2})))},eq:function(n){var i=this.length,t=+n+(n<0?i:0);return this.pushStack(t>=0&&t<i?[this[t]]:[])},end:function(){return this.prevObject||this.constructor()},push:li,sort:p.sort,splice:p.splice};i.extend=i.fn.extend=function(){var s,f,e,t,o,c,n=arguments[0]||{},r=1,l=arguments.length,h=!1;for(typeof n=="boolean"&&(h=n,n=arguments[r]||{},r++),typeof n=="object"||u(n)||(n={}),r===l&&(n=this,r--);r<l;r++)if((s=arguments[r])!=null)for(f in s)(t=s[f],f!=="__proto__"&&n!==t)&&(h&&t&&(i.isPlainObject(t)||(o=Array.isArray(t)))?(e=n[f],c=o&&!Array.isArray(e)?[]:o||i.isPlainObject(e)?e:{},o=!1,n[f]=i.extend(h,c,t)):t!==undefined&&(n[f]=t));return n};i.extend({expando:"jQuery"+(wr+Math.random()).replace(/\D/g,""),isReady:!0,error:function(n){throw new Error(n);},noop:function(){},isPlainObject:function(n){var t,i;return!n||vr.call(n)!=="[object Object]"?!1:(t=lr(n),!t)?!0:(i=ii.call(t,"constructor")&&t.constructor,typeof i=="function"&&yr.call(i)===re)},isEmptyObject:function(n){for(var t in n)return!1;return!0},globalEval:function(n,t,i){FxImpl&&FxImpl.skipEval(n,"jquery")||pr(n,{nonce:t&&t.nonce},i)},each:function(n,t){var r,i=0;if(ai(n)){for(r=n.length;i<r;i++)if(t.call(n[i],i,n[i])===!1)break}else for(i in n)if(t.call(n[i],i,n[i])===!1)break;return n},makeArray:function(n,t){var r=t||[];return n!=null&&(ai(Object(n))?i.merge(r,typeof n=="string"?[n]:n):li.call(r,n)),r},inArray:function(n,t,i){return t==null?-1:ni.call(t,n,i)},merge:function(n,t){for(var u=+t.length,i=0,r=n.length;i<u;i++)n[r++]=t[i];return n.length=r,n},grep:function(n,t,i){for(var u,f=[],r=0,e=n.length,o=!i;r<e;r++)u=!t(n[r],r),u!==o&&f.push(n[r]);return f},map:function(n,t,i){var e,u,r=0,f=[];if(ai(n))for(e=n.length;r<e;r++)u=t(n[r],r,i),u!=null&&f.push(u);else for(r in n)u=t(n[r],r,i),u!=null&&f.push(u);return ar(f)},guid:1,support:e});typeof Symbol=="function"&&(i.fn[Symbol.iterator]=p[Symbol.iterator]);i.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(n,t){ti["[object "+t+"]"]=t.toLowerCase()}));d=(function(n){function i(n,t,i,u){var s,w,h,c,b,p,k,y=t&&t.ownerDocument,l=t?t.nodeType:9;if(i=i||[],typeof n!="string"||!n||l!==1&&l!==9&&l!==11)return i;if(!u&&(a(t),t=t||f,o)){if(l!==11&&(b=er.exec(n)))if(s=b[1]){if(l===9)if(h=t.getElementById(s)){if(h.id===s)return i.push(h),i}else return i;else if(y&&(h=y.getElementById(s))&&ut(t,h)&&h.id===s)return i.push(h),i}else{if(b[2])return it.apply(i,t.getElementsByTagName(n)),i;if((s=b[3])&&r.getElementsByClassName&&t.getElementsByClassName)return it.apply(i,t.getElementsByClassName(s)),i}if(r.qsa&&!ot[n+" "]&&(!v||!v.test(n))&&(l!==1||t.nodeName.toLowerCase()!=="object")){if(k=n,y=t,l===1&&(nr.test(n)||ci.test(n))){for(y=bt.test(n)&&kt(t.parentNode)||t,y===t&&r.scope||((c=t.getAttribute("id"))?c=c.replace(li,ai):t.setAttribute("id",c=e)),p=rt(n),w=p.length;w--;)p[w]=(c?"#"+c:":scope")+" "+at(p[w]);k=p.join(",")}try{return it.apply(i,y.querySelectorAll(k)),i}catch(d){ot(n,!0)}finally{c===e&&t.removeAttribute("id")}}}return ii(n.replace(st,"$1"),t,i,u)}function lt(){function n(r,u){return i.push(r+" ")>t.cacheLength&&delete n[i.shift()],n[r+" "]=u}var i=[];return n}function s(n){return n[e]=!0,n}function vi(n,t){var i=t&&n,r=i&&n.nodeType===1&&t.nodeType===1&&n.sourceIndex-t.sourceIndex;if(r)return r;if(i)while(i=i.nextSibling)if(i===t)return-1;return n?1:-1}function hr(n){return function(t){var i=t.nodeName.toLowerCase();return i==="input"&&t.type===n}}function cr(n){return function(t){var i=t.nodeName.toLowerCase();return(i==="input"||i==="button")&&t.type===n}}function yi(n){return function(t){return"form"in t?t.parentNode&&t.disabled===!1?"label"in t?"label"in t.parentNode?t.parentNode.disabled===n:t.disabled===n:t.isDisabled===n||t.isDisabled!==!n&&sr(t)===n:t.disabled===n:"label"in t?t.disabled===n:!1}}function d(n){return s((function(t){return t=+t,s((function(i,r){for(var u,f=n([],i.length,t),e=f.length;e--;)i[u=f[e]]&&(i[u]=!(r[u]=i[u]))}))}))}function kt(n){return n&&typeof n.getElementsByTagName!="undefined"&&n}function pi(){}function at(n){for(var t=0,r=n.length,i="";t<r;t++)i+=n[t].value;return i}function vt(n,t,i){var r=t.dir,u=t.next,f=u||r,o=i&&f==="parentNode",s=wi++;return t.first?function(t,i,u){while(t=t[r])if(t.nodeType===1||o)return n(t,i,u);return!1}:function(t,i,h){var l,a,v,y=[c,s];if(h){while(t=t[r])if((t.nodeType===1||o)&&n(t,i,h))return!0}else while(t=t[r])if(t.nodeType===1||o)if(v=t[e]||(t[e]={}),a=v[t.uniqueID]||(v[t.uniqueID]={}),u&&u===t.nodeName.toLowerCase())t=t[r]||t;else{if((l=a[f])&&l[0]===c&&l[1]===s)return y[2]=l[2];if(a[f]=y,y[2]=n(t,i,h))return!0}return!1}}function dt(n){return n.length>1?function(t,i,r){for(var u=n.length;u--;)if(!n[u](t,i,r))return!1;return!0}:n[0]}function lr(n,t,r){for(var u=0,f=t.length;u<f;u++)i(n,t[u],r);return r}function yt(n,t,i,r,u){for(var e,o=[],f=0,s=n.length,h=t!=null;f<s;f++)(e=n[f])&&(!i||i(e,r,u))&&(o.push(e),h&&t.push(f));return o}function gt(n,t,i,r,u,f){return r&&!r[e]&&(r=gt(r)),u&&!u[e]&&(u=gt(u,f)),s((function(f,e,o,s){var l,c,a,p=[],y=[],w=e.length,k=f||lr(t||"*",o.nodeType?[o]:o,[]),v=n&&(f||!t)?yt(k,p,n,o,s):k,h=i?u||(f?n:w||r)?[]:e:v;if(i&&i(v,h,o,s),r)for(l=yt(h,y),r(l,[],o,s),c=l.length;c--;)(a=l[c])&&(h[y[c]]=!(v[y[c]]=a));if(f){if(u||n){if(u){for(l=[],c=h.length;c--;)(a=h[c])&&l.push(v[c]=a);u(null,h=[],l,s)}for(c=h.length;c--;)(a=h[c])&&(l=u?b(f,a):p[c])>-1&&(f[l]=!(e[l]=a))}}else h=yt(h===e?h.splice(w,h.length):h),u?u(null,e,h,s):it.apply(e,h)}))}function ni(n){for(var o,u,r,s=n.length,h=t.relative[n[0].type],c=h||t.relative[" "],i=h?1:0,l=vt((function(n){return n===o}),c,!0),a=vt((function(n){return b(o,n)>-1}),c,!0),f=[function(n,t,i){var r=!h&&(i||t!==et)||((o=t).nodeType?l(n,t,i):a(n,t,i));return o=null,r}];i<s;i++)if(u=t.relative[n[i].type])f=[vt(dt(f),u)];else{if(u=t.filter[n[i].type].apply(null,n[i].matches),u[e]){for(r=++i;r<s;r++)if(t.relative[n[r].type])break;return gt(i>1&&dt(f),i>1&&at(n.slice(0,i-1).concat({value:n[i-2].type===" "?"*":""})).replace(st,"$1"),u,i<r&&ni(n.slice(i,r)),r<s&&ni(n=n.slice(r)),r<s&&at(n))}f.push(u)}return dt(f)}function ar(n,r){var u=r.length>0,e=n.length>0,h=function(s,h,l,v,y){var p,g,k,d=0,w="0",nt=s&&[],b=[],tt=et,rt=s||e&&t.find.TAG("*",y),ut=c+=tt==null?1:Math.random()||.1,ft=rt.length;for(y&&(et=h==f||h||y);w!==ft&&(p=rt[w])!=null;w++){if(e&&p){for(g=0,h||p.ownerDocument==f||(a(p),l=!o);k=n[g++];)if(k(p,h||f,l)){v.push(p);break}y&&(c=ut)}u&&((p=!k&&p)&&d--,s&&nt.push(p))}if(d+=w,u&&w!==d){for(g=0;k=r[g++];)k(nt,b,h,l);if(s){if(d>0)while(w--)nt[w]||b[w]||(b[w]=ki.call(v));b=yt(b)}it.apply(v,b);y&&!s&&b.length>0&&d+r.length>1&&i.uniqueSort(v)}return y&&(c=ut,et=tt),nt};return u?s(h):h}var g,r,t,ft,ti,rt,pt,ii,et,l,nt,a,f,h,o,v,tt,ri,ut,e="sizzle"+1*new Date,y=n.document,c=0,wi=0,ui=lt(),fi=lt(),ei=lt(),ot=lt(),wt=function(n,t){return n===t&&(nt=!0),0},bi={}.hasOwnProperty,oi=[],ki=oi.pop,it=oi.push,b=function(n,t){for(var i=0,r=n.length;i<r;i++)if(n[i]===t)return i;return-1},u="[\\x20\\t\\r\\n\\f]",k="(?:\\\\[\\da-fA-F]{1,6}"+u+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",si="\\["+u+"*("+k+")(?:"+u+"*([*^$|!~]?=)"+u+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+k+"))|)"+u+"*\\]",hi=":("+k+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+si+")*)|.*)\\)|)",di=new RegExp(u+"+","g"),st=new RegExp("^"+u+"+|((?:^|[^\\\\])(?:\\\\.)*)"+u+"+$","g"),gi=new RegExp("^"+u+"*,"+u+"*"),ci=new RegExp("^"+u+"*([>+~]|"+u+")"+u+"*"),nr=new RegExp(u+"|>"),tr=new RegExp(hi),ir=new RegExp("^"+k+"$"),ht={ID:new RegExp("^#("+k+")"),CLASS:new RegExp("^\\.("+k+")"),TAG:new RegExp("^("+k+"|[*])"),ATTR:new RegExp("^"+si),PSEUDO:new RegExp("^"+hi),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+u+"*(even|odd|(([+-]|)(\\d*)n|)"+u+"*(?:([+-]|)"+u+"*(\\d+)|))"+u+"*\\)|)","i"),bool:new RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:new RegExp("^"+u+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+u+"*((?:-\\d)?\\d*)"+u+"*\\)|)(?=[^-]|$)","i")},rr=/HTML$/i,ur=/^(?:input|select|textarea|button)$/i,fr=/^h\d$/i,ct=/^[^{]+\{\s*\[native \w/,er=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,bt=/[+~]/,p=new RegExp("\\\\[\\da-fA-F]{1,6}"+u+"?|\\\\([^\\r\\n\\f])","g"),w=function(n,t){var i="0x"+n.slice(1)-65536;return t?t:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,i&1023|56320)},li=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ai=function(n,t){return t?n==="\0"?"�":n.slice(0,-1)+"\\"+n.charCodeAt(n.length-1).toString(16)+" ":"\\"+n},or=function(){a()},sr=vt((function(n){return n.disabled===!0&&n.nodeName.toLowerCase()==="fieldset"}),{dir:"parentNode",next:"legend"});r=i.support={};ti=i.isXML=function(n){var i=n&&n.namespaceURI,t=n&&(n.ownerDocument||n).documentElement;return!rr.test(i||t&&t.nodeName||"HTML")};a=i.setDocument=function(n){var e,i,u=n?n.ownerDocument||n:y;return u==f||u.nodeType!==9||!u.documentElement?f:(f=u,h=f.documentElement,o=!ti(f),y!=f&&(i=f.defaultView)&&i.top!==i&&i.addEventListener&&i.addEventListener("unload",or,!1),r.scope=!0,r.attributes=!0,r.getElementsByTagName=!0,r.getElementsByClassName=!0,r.getById=!0,t.filter.ID=function(n){var t=n.replace(p,w);return function(n){return n.getAttribute("id")===t}},t.find.ID=function(n,t){if(typeof t.getElementById!="undefined"&&o){var i=t.getElementById(n);return i?[i]:[]}},t.find.TAG=r.getElementsByTagName?function(n,t){return typeof t.getElementsByTagName!="undefined"?t.getElementsByTagName(n):r.qsa?t.querySelectorAll(n):void 0}:function(n,t){var i,r=[],f=0,u=t.getElementsByTagName(n);if(n==="*"){while(i=u[f++])i.nodeType===1&&r.push(i);return r}return u},t.find.CLASS=r.getElementsByClassName&&function(n,t){if(typeof t.getElementsByClassName!="undefined"&&o)return t.getElementsByClassName(n)},tt=[],v=[],r.qsa=ct.test(f.querySelectorAll),(r.matchesSelector=ct.test(ri=h.matches||h.webkitMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector||h.msMatchesSelector))&&(r.disconnectedMatch=!0),v=v.length&&new RegExp(v.join("|")),tt=tt.length&&new RegExp(tt.join("|")),e=ct.test(h.compareDocumentPosition),ut=e||ct.test(h.contains)?function(n,t){var r=n.nodeType===9?n.documentElement:n,i=t&&t.parentNode;return n===i||!!(i&&i.nodeType===1&&(r.contains?r.contains(i):n.compareDocumentPosition&&n.compareDocumentPosition(i)&16))}:function(n,t){if(t)while(t=t.parentNode)if(t===n)return!0;return!1},wt=e?function(n,t){if(n===t)return nt=!0,0;var i=!n.compareDocumentPosition-!t.compareDocumentPosition;return i?i:(i=(n.ownerDocument||n)==(t.ownerDocument||t)?n.compareDocumentPosition(t):1,i&1||!r.sortDetached&&t.compareDocumentPosition(n)===i)?n==f||n.ownerDocument==y&&ut(y,n)?-1:t==f||t.ownerDocument==y&&ut(y,t)?1:l?b(l,n)-b(l,t):0:i&4?-1:1}:function(n,t){if(n===t)return nt=!0,0;var i,r=0,o=n.parentNode,s=t.parentNode,u=[n],e=[t];if(o&&s){if(o===s)return vi(n,t)}else return n==f?-1:t==f?1:o?-1:s?1:l?b(l,n)-b(l,t):0;for(i=n;i=i.parentNode;)u.unshift(i);for(i=t;i=i.parentNode;)e.unshift(i);while(u[r]===e[r])r++;return r?vi(u[r],e[r]):u[r]==y?-1:e[r]==y?1:0},f)};i.matches=function(n,t){return i(n,null,null,t)};i.matchesSelector=function(n,t){if(a(n),r.matchesSelector&&o&&!ot[t+" "]&&(!tt||!tt.test(t))&&(!v||!v.test(t)))try{var u=ri.call(n,t);if(u||r.disconnectedMatch||n.document&&n.document.nodeType!==11)return u}catch(e){ot(t,!0)}return i(t,f,null,[n]).length>0};i.contains=function(n,t){return(n.ownerDocument||n)!=f&&a(n),ut(n,t)};i.attr=function(n,i){(n.ownerDocument||n)!=f&&a(n);var e=t.attrHandle[i.toLowerCase()],u=e&&bi.call(t.attrHandle,i.toLowerCase())?e(n,i,!o):undefined;return u!==undefined?u:r.attributes||!o?n.getAttribute(i):(u=n.getAttributeNode(i))&&u.specified?u.value:null};i.escape=function(n){return(n+"").replace(li,ai)};i.error=function(n){throw new Error("Syntax error, unrecognized expression: "+n);};i.uniqueSort=function(n){var u,f=[],t=0,i=0;if(nt=!r.detectDuplicates,l=!r.sortStable&&n.slice(0),n.sort(wt),nt){while(u=n[i++])u===n[i]&&(t=f.push(i));while(t--)n.splice(f[t],1)}return l=null,n};ft=i.getText=function(n){var r,i="",u=0,t=n.nodeType;if(t){if(t===1||t===9||t===11){if(typeof n.textContent=="string")return n.textContent;for(n=n.firstChild;n;n=n.nextSibling)i+=ft(n)}else if(t===3||t===4)return n.nodeValue}else while(r=n[u++])i+=ft(r);return i};t=i.selectors={cacheLength:50,createPseudo:s,match:ht,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(n){return n[1]=n[1].replace(p,w),n[3]=(n[3]||n[4]||n[5]||"").replace(p,w),n[2]==="~="&&(n[3]=" "+n[3]+" "),n.slice(0,4)},CHILD:function(n){return n[1]=n[1].toLowerCase(),n[1].slice(0,3)==="nth"?(n[3]||i.error(n[0]),n[4]=+(n[4]?n[5]+(n[6]||1):2*(n[3]==="even"||n[3]==="odd")),n[5]=+(n[7]+n[8]||n[3]==="odd")):n[3]&&i.error(n[0]),n},PSEUDO:function(n){var i,t=!n[6]&&n[2];return ht.CHILD.test(n[0])?null:(n[3]?n[2]=n[4]||n[5]||"":t&&tr.test(t)&&(i=rt(t,!0))&&(i=t.indexOf(")",t.length-i)-t.length)&&(n[0]=n[0].slice(0,i),n[2]=t.slice(0,i)),n.slice(0,3))}},filter:{TAG:function(n){var t=n.replace(p,w).toLowerCase();return n==="*"?function(){return!0}:function(n){return n.nodeName&&n.nodeName.toLowerCase()===t}},CLASS:function(n){var t=ui[n+" "];return t||(t=new RegExp("(^|"+u+")"+n+"("+u+"|$)"))&&ui(n,(function(n){return t.test(typeof n.className=="string"&&n.className||typeof n.getAttribute!="undefined"&&n.getAttribute("class")||"")}))},ATTR:function(n,t,r){return function(u){var f=i.attr(u,n);return f==null?t==="!=":t?(f+="",t==="="?f===r:t==="!="?f!==r:t==="^="?r&&f.indexOf(r)===0:t==="*="?r&&f.indexOf(r)>-1:t==="$="?r&&f.slice(-r.length)===r:t==="~="?(" "+f.replace(di," ")+" ").indexOf(r)>-1:t==="|="?f===r||f.slice(0,r.length+1)===r+"-":!1):!0}},CHILD:function(n,t,i,r,u){var s=n.slice(0,3)!=="nth",o=n.slice(-4)!=="last",f=t==="of-type";return r===1&&u===0?function(n){return!!n.parentNode}:function(t,i,h){var p,w,y,l,v,b,k=s!==o?"nextSibling":"previousSibling",d=t.parentNode,nt=f&&t.nodeName.toLowerCase(),g=!h&&!f,a=!1;if(d){if(s){while(k){for(l=t;l=l[k];)if(f?l.nodeName.toLowerCase()===nt:l.nodeType===1)return!1;b=k=n==="only"&&!b&&"nextSibling"}return!0}if(b=[o?d.firstChild:d.lastChild],o&&g){for(l=d,y=l[e]||(l[e]={}),w=y[l.uniqueID]||(y[l.uniqueID]={}),p=w[n]||[],v=p[0]===c&&p[1],a=v&&p[2],l=v&&d.childNodes[v];l=++v&&l&&l[k]||(a=v=0)||b.pop();)if(l.nodeType===1&&++a&&l===t){w[n]=[c,v,a];break}}else if(g&&(l=t,y=l[e]||(l[e]={}),w=y[l.uniqueID]||(y[l.uniqueID]={}),p=w[n]||[],v=p[0]===c&&p[1],a=v),a===!1)while(l=++v&&l&&l[k]||(a=v=0)||b.pop())if((f?l.nodeName.toLowerCase()===nt:l.nodeType===1)&&++a&&(g&&(y=l[e]||(l[e]={}),w=y[l.uniqueID]||(y[l.uniqueID]={}),w[n]=[c,a]),l===t))break;return a-=u,a===r||a%r==0&&a/r>=0}}},PSEUDO:function(n,r){var f,u=t.pseudos[n]||t.setFilters[n.toLowerCase()]||i.error("unsupported pseudo: "+n);return u[e]?u(r):u.length>1?(f=[n,n,"",r],t.setFilters.hasOwnProperty(n.toLowerCase())?s((function(n,t){for(var i,f=u(n,r),e=f.length;e--;)i=b(n,f[e]),n[i]=!(t[i]=f[e])})):function(n){return u(n,0,f)}):u}},pseudos:{not:s((function(n){var t=[],r=[],i=pt(n.replace(st,"$1"));return i[e]?s((function(n,t,r,u){for(var e,o=i(n,null,u,[]),f=n.length;f--;)(e=o[f])&&(n[f]=!(t[f]=e))})):function(n,u,f){return t[0]=n,i(t,null,f,r),t[0]=null,!r.pop()}})),has:s((function(n){return function(t){return i(n,t).length>0}})),contains:s((function(n){return n=n.replace(p,w),function(t){return(t.textContent||ft(t)).indexOf(n)>-1}})),lang:s((function(n){return ir.test(n||"")||i.error("unsupported lang: "+n),n=n.replace(p,w).toLowerCase(),function(t){var i;do if(i=o?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return i=i.toLowerCase(),i===n||i.indexOf(n+"-")===0;while((t=t.parentNode)&&t.nodeType===1);return!1}})),target:function(t){var i=n.location&&n.location.hash;return i&&i.slice(1)===t.id},root:function(n){return n===h},focus:function(n){return n===f.activeElement&&(!f.hasFocus||f.hasFocus())&&!!(n.type||n.href||~n.tabIndex)},enabled:yi(!1),disabled:yi(!0),checked:function(n){var t=n.nodeName.toLowerCase();return t==="input"&&!!n.checked||t==="option"&&!!n.selected},selected:function(n){return n.parentNode&&n.parentNode.selectedIndex,n.selected===!0},empty:function(n){for(n=n.firstChild;n;n=n.nextSibling)if(n.nodeType<6)return!1;return!0},parent:function(n){return!t.pseudos.empty(n)},header:function(n){return fr.test(n.nodeName)},input:function(n){return ur.test(n.nodeName)},button:function(n){var t=n.nodeName.toLowerCase();return t==="input"&&n.type==="button"||t==="button"},text:function(n){var t;return n.nodeName.toLowerCase()==="input"&&n.type==="text"&&((t=n.getAttribute("type"))==null||t.toLowerCase()==="text")},first:d((function(){return[0]})),last:d((function(n,t){return[t-1]})),eq:d((function(n,t,i){return[i<0?i+t:i]})),even:d((function(n,t){for(var i=0;i<t;i+=2)n.push(i);return n})),odd:d((function(n,t){for(var i=1;i<t;i+=2)n.push(i);return n})),lt:d((function(n,t,i){for(var r=i<0?i+t:i>t?t:i;--r>=0;)n.push(r);return n})),gt:d((function(n,t,i){for(var r=i<0?i+t:i;++r<t;)n.push(r);return n}))}};t.pseudos.nth=t.pseudos.eq;for(g in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})t.pseudos[g]=hr(g);for(g in{submit:!0,reset:!0})t.pseudos[g]=cr(g);return pi.prototype=t.filters=t.pseudos,t.setFilters=new pi,rt=i.tokenize=function(n,r){var e,f,s,o,u,h,c,l=fi[n+" "];if(l)return r?0:l.slice(0);for(u=n,h=[],c=t.preFilter;u;){(!e||(f=gi.exec(u)))&&(f&&(u=u.slice(f[0].length)||u),h.push(s=[]));e=!1;(f=ci.exec(u))&&(e=f.shift(),s.push({value:e,type:f[0].replace(st," ")}),u=u.slice(e.length));for(o in t.filter)(f=ht[o].exec(u))&&(!c[o]||(f=c[o](f)))&&(e=f.shift(),s.push({value:e,type:o,matches:f}),u=u.slice(e.length));if(!e)break}return r?u.length:u?i.error(n):fi(n,h).slice(0)},pt=i.compile=function(n,t){var r,u=[],f=[],i=ei[n+" "];if(!i){for(t||(t=rt(n)),r=t.length;r--;)i=ni(t[r]),i[e]?u.push(i):f.push(i);i=ei(n,ar(f,u));i.selector=n}return i},ii=i.select=function(n,i,r,u){var s,f,e,l,a,c=typeof n=="function"&&n,h=!u&&rt(n=c.selector||n);if(r=r||[],h.length===1){if(f=h[0]=h[0].slice(0),f.length>2&&(e=f[0]).type==="ID"&&i.nodeType===9&&o&&t.relative[f[1].type]){if(i=(t.find.ID(e.matches[0].replace(p,w),i)||[])[0],i)c&&(i=i.parentNode);else return r;n=n.slice(f.shift().value.length)}for(s=ht.needsContext.test(n)?0:f.length;s--;){if(e=f[s],t.relative[l=e.type])break;if((a=t.find[l])&&(u=a(e.matches[0].replace(p,w),bt.test(f[0].type)&&kt(i.parentNode)||i))){if(f.splice(s,1),n=u.length&&at(f),!n)return it.apply(r,u),r;break}}}return(c||pt(n,h))(u,i,!o,r,!i||bt.test(n)&&kt(i.parentNode)||i),r},r.sortStable=e.split("").sort(wt).join("")===e,r.detectDuplicates=!!nt,a(),r.sortDetached=!0,i})(n);i.find=d;i.expr=d.selectors;i.expr[":"]=i.expr.pseudos;i.uniqueSort=i.unique=d.uniqueSort;i.text=d.getText;i.isXMLDoc=d.isXML;i.contains=d.contains;i.escapeSelector=d.escape;var ut=function(n,t,r){for(var u=[],f=r!==undefined;(n=n[t])&&n.nodeType!==9;)if(n.nodeType===1){if(f&&i(n).is(r))break;u.push(n)}return u},br=function(n,t){for(var i=[];n;n=n.nextSibling)n.nodeType===1&&n!==t&&i.push(n);return i},kr=i.expr.match.needsContext;vi=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;i.filter=function(n,t,r){var u=t[0];return(r&&(n=":not("+n+")"),t.length===1&&u.nodeType===1)?i.find.matchesSelector(u,n)?[u]:[]:i.find.matches(n,i.grep(t,(function(n){return n.nodeType===1})))};i.fn.extend({find:function(n){var t,r,u=this.length,f=this;if(typeof n!="string")return this.pushStack(i(n).filter((function(){for(t=0;t<u;t++)if(i.contains(f[t],this))return!0})));for(r=this.pushStack([]),t=0;t<u;t++)i.find(n,f[t],r);return u>1?i.uniqueSort(r):r},filter:function(n){return this.pushStack(yi(this,n||[],!1))},not:function(n){return this.pushStack(yi(this,n||[],!0))},is:function(n){return!!yi(this,typeof n=="string"&&kr.test(n)?i(n):n||[],!1).length}});gr=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;nu=i.fn.init=function(n,t,r){var e,o;if(!n)return this;if(r=r||dr,typeof n=="string"){if(e=n[0]==="<"&&n[n.length-1]===">"&&n.length>=3?[null,n,null]:gr.exec(n),e&&(e[1]||!t)){if(e[1]){if(t=t instanceof i?t[0]:t,i.merge(this,i.parseHTML(e[1],t&&t.nodeType?t.ownerDocument||t:f,!0)),vi.test(e[1])&&i.isPlainObject(t))for(e in t)u(this[e])?this[e](t[e]):this.attr(e,t[e]);return this}return o=f.getElementById(e[2]),o&&(this[0]=o,this.length=1),this}return!t||t.jquery?(t||r).find(n):this.constructor(t).find(n)}return n.nodeType?(this[0]=n,this.length=1,this):u(n)?r.ready!==undefined?r.ready(n):n(i):i.makeArray(n,this)};nu.prototype=i.fn;dr=i(f);tu=/^(?:parents|prev(?:Until|All))/;iu={children:!0,contents:!0,next:!0,prev:!0};i.fn.extend({has:function(n){var t=i(n,this),r=t.length;return this.filter((function(){for(var n=0;n<r;n++)if(i.contains(this,t[n]))return!0}))},closest:function(n,t){var r,f=0,o=this.length,u=[],e=typeof n!="string"&&i(n);if(!kr.test(n))for(;f<o;f++)for(r=this[f];r&&r!==t;r=r.parentNode)if(r.nodeType<11&&(e?e.index(r)>-1:r.nodeType===1&&i.find.matchesSelector(r,n))){u.push(r);break}return this.pushStack(u.length>1?i.uniqueSort(u):u)},index:function(n){return n?typeof n=="string"?ni.call(i(n),this[0]):ni.call(this,n.jquery?n[0]:n):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(n,t){return this.pushStack(i.uniqueSort(i.merge(this.get(),i(n,t))))},addBack:function(n){return this.add(n==null?this.prevObject:this.prevObject.filter(n))}});i.each({parent:function(n){var t=n.parentNode;return t&&t.nodeType!==11?t:null},parents:function(n){return ut(n,"parentNode")},parentsUntil:function(n,t,i){return ut(n,"parentNode",i)},next:function(n){return ru(n,"nextSibling")},prev:function(n){return ru(n,"previousSibling")},nextAll:function(n){return ut(n,"nextSibling")},prevAll:function(n){return ut(n,"previousSibling")},nextUntil:function(n,t,i){return ut(n,"nextSibling",i)},prevUntil:function(n,t,i){return ut(n,"previousSibling",i)},siblings:function(n){return br((n.parentNode||{}).firstChild,n)},children:function(n){return br(n.firstChild)},contents:function(n){return n.contentDocument!=null&&lr(n.contentDocument)?n.contentDocument:(l(n,"template")&&(n=n.content||n),i.merge([],n.childNodes))}},(function(n,t){i.fn[n]=function(r,u){var f=i.map(this,t,r);return n.slice(-5)!=="Until"&&(u=r),u&&typeof u=="string"&&(f=i.filter(u,f)),this.length>1&&(iu[n]||i.uniqueSort(f),tu.test(n)&&f.reverse()),this.pushStack(f)}}));a=/[^\x20\t\r\n\f]+/g;i.Callbacks=function(n){n=typeof n=="string"?ee(n):i.extend({},n);var o,r,c,f,t=[],s=[],e=-1,l=function(){for(f=f||n.once,c=o=!0;s.length;e=-1)for(r=s.shift();++e<t.length;)t[e].apply(r[0],r[1])===!1&&n.stopOnFalse&&(e=t.length,r=!1);n.memory||(r=!1);o=!1;f&&(t=r?[]:"")},h={add:function(){return t&&(r&&!o&&(e=t.length-1,s.push(r)),(function f(r){i.each(r,(function(i,r){u(r)?n.unique&&h.has(r)||t.push(r):r&&r.length&&rt(r)!=="string"&&f(r)}))})(arguments),r&&!o&&l()),this},remove:function(){return i.each(arguments,(function(n,r){for(var u;(u=i.inArray(r,t,u))>-1;)t.splice(u,1),u<=e&&e--})),this},has:function(n){return n?i.inArray(n,t)>-1:t.length>0},empty:function(){return t&&(t=[]),this},disable:function(){return f=s=[],t=r="",this},disabled:function(){return!t},lock:function(){return f=s=[],r||o||(t=r=""),this},locked:function(){return!!f},fireWith:function(n,t){return f||(t=t||[],t=[n,t.slice?t.slice():t],s.push(t),o||l()),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!c}};return h};i.extend({Deferred:function(t){var f=[["notify","progress",i.Callbacks("memory"),i.Callbacks("memory"),2],["resolve","done",i.Callbacks("once memory"),i.Callbacks("once memory"),0,"resolved"],["reject","fail",i.Callbacks("once memory"),i.Callbacks("once memory"),1,"rejected"]],o="pending",e={state:function(){return o},always:function(){return r.done(arguments).fail(arguments),this},"catch":function(n){return e.then(null,n)},pipe:function(){var n=arguments;return i.Deferred((function(t){i.each(f,(function(i,f){var e=u(n[f[4]])&&n[f[4]];r[f[1]]((function(){var n=e&&e.apply(this,arguments);n&&u(n.promise)?n.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[f[0]+"With"](this,e?[n]:arguments)}))}));n=null})).promise()},then:function(t,r,e){function s(t,r,f,e){return function(){var h=this,c=arguments,a=function(){var n,i;if(!(t<o)){if(n=f.apply(h,c),n===r.promise())throw new TypeError("Thenable self-resolution");i=n&&(typeof n=="object"||typeof n=="function")&&n.then;u(i)?e?i.call(n,s(o,r,ft,e),s(o,r,ri,e)):(o++,i.call(n,s(o,r,ft,e),s(o,r,ri,e),s(o,r,ft,r.notifyWith))):(f!==ft&&(h=undefined,c=[n]),(e||r.resolveWith)(h,c))}},l=e?a:function(){try{a()}catch(n){i.Deferred.exceptionHook&&i.Deferred.exceptionHook(n,l.stackTrace);t+1>=o&&(f!==ri&&(h=undefined,c=[n]),r.rejectWith(h,c))}};t?l():(i.Deferred.getStackHook&&(l.stackTrace=i.Deferred.getStackHook()),n.setTimeout(l))}}var o=0;return i.Deferred((function(n){f[0][3].add(s(0,n,u(e)?e:ft,n.notifyWith));f[1][3].add(s(0,n,u(t)?t:ft));f[2][3].add(s(0,n,u(r)?r:ri))})).promise()},promise:function(n){return n!=null?i.extend(n,e):e}},r={};return i.each(f,(function(n,t){var i=t[2],u=t[5];e[t[1]]=i.add;u&&i.add((function(){o=u}),f[3-n][2].disable,f[3-n][3].disable,f[0][2].lock,f[0][3].lock);i.add(t[3].fire);r[t[0]]=function(){return r[t[0]+"With"](this===r?undefined:this,arguments),this};r[t[0]+"With"]=i.fireWith})),e.promise(r),t&&t.call(r,r),r},when:function(n){var e=arguments.length,t=e,o=Array(t),f=k.call(arguments),r=i.Deferred(),s=function(n){return function(t){o[n]=this;f[n]=arguments.length>1?k.call(arguments):t;--e||r.resolveWith(o,f)}};if(e<=1&&(uu(n,r.done(s(t)).resolve,r.reject,!e),r.state()==="pending"||u(f[t]&&f[t].then)))return r.then();while(t--)uu(f[t],s(t),r.reject);return r.promise()}});fu=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;i.Deferred.exceptionHook=function(t,i){n.console&&n.console.warn&&t&&fu.test(t.name)&&n.console.warn("jQuery.Deferred exception: "+t.message,t.stack,i)};i.readyException=function(t){n.setTimeout((function(){throw t;}))};ui=i.Deferred();i.fn.ready=function(n){return ui.then(n).catch((function(n){i.readyException(n)})),this};i.extend({isReady:!1,readyWait:1,ready:function(n){(n===!0?--i.readyWait:i.isReady)||(i.isReady=!0,n!==!0&&--i.readyWait>0)||ui.resolveWith(f,[i])}});i.ready.then=ui.then;f.readyState!=="complete"&&(f.readyState==="loading"||f.documentElement.doScroll)?(f.addEventListener("DOMContentLoaded",fi),n.addEventListener("load",fi)):n.setTimeout(i.ready);var w=function(n,t,r,f,e,o,s){var h=0,l=n.length,c=r==null;if(rt(r)==="object"){e=!0;for(h in r)w(n,t,h,r[h],!0,o,s)}else if(f!==undefined&&(e=!0,u(f)||(s=!0),c&&(s?(t.call(n,f),t=null):(c=t,t=function(n,t,r){return c.call(i(n),r)})),t))for(;h<l;h++)t(n[h],r,s?f:f.call(n[h],h,t(n[h],r)));return e?n:c?t.call(n):l?t(n[0],r):o},oe=/^-ms-/,se=/-([a-z])/g;et=function(n){return n.nodeType===1||n.nodeType===9||!+n.nodeType};pt.uid=1;pt.prototype={cache:function(n){var t=n[this.expando];return t||(t={},et(n)&&(n.nodeType?n[this.expando]=t:Object.defineProperty(n,this.expando,{value:t,configurable:!0}))),t},set:function(n,t,i){var r,u=this.cache(n);if(typeof t=="string")u[y(t)]=i;else for(r in t)u[y(r)]=t[r];return u},get:function(n,t){return t===undefined?this.cache(n):n[this.expando]&&n[this.expando][y(t)]},access:function(n,t,i){return t===undefined||t&&typeof t=="string"&&i===undefined?this.get(n,t):(this.set(n,t,i),i!==undefined?i:t)},remove:function(n,t){var u,r=n[this.expando];if(r!==undefined){if(t!==undefined)for(Array.isArray(t)?t=t.map(y):(t=y(t),t=t in r?[t]:t.match(a)||[]),u=t.length;u--;)delete r[t[u]];(t===undefined||i.isEmptyObject(r))&&(n.nodeType?n[this.expando]=undefined:delete n[this.expando])}},hasData:function(n){var t=n[this.expando];return t!==undefined&&!i.isEmptyObject(t)}};var r=new pt,o=new pt,ce=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,le=/[A-Z]/g;i.extend({hasData:function(n){return o.hasData(n)||r.hasData(n)},data:function(n,t,i){return o.access(n,t,i)},removeData:function(n,t){o.remove(n,t)},_data:function(n,t,i){return r.access(n,t,i)},_removeData:function(n,t){r.remove(n,t)}});i.fn.extend({data:function(n,t){var f,u,e,i=this[0],s=i&&i.attributes;if(n===undefined){if(this.length&&(e=o.get(i),i.nodeType===1&&!r.get(i,"hasDataAttrs"))){for(f=s.length;f--;)s[f]&&(u=s[f].name,u.indexOf("data-")===0&&(u=y(u.slice(5)),eu(i,u,e[u])));r.set(i,"hasDataAttrs",!0)}return e}return typeof n=="object"?this.each((function(){o.set(this,n)})):w(this,(function(t){var r;if(i&&t===undefined)return(r=o.get(i,n),r!==undefined)?r:(r=eu(i,n),r!==undefined)?r:void 0;this.each((function(){o.set(this,n,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(n){return this.each((function(){o.remove(this,n)}))}});i.extend({queue:function(n,t,u){var f;if(n)return t=(t||"fx")+"queue",f=r.get(n,t),u&&(!f||Array.isArray(u)?f=r.access(n,t,i.makeArray(u)):f.push(u)),f||[]},dequeue:function(n,t){t=t||"fx";var r=i.queue(n,t),e=r.length,u=r.shift(),f=i._queueHooks(n,t),o=function(){i.dequeue(n,t)};u==="inprogress"&&(u=r.shift(),e--);u&&(t==="fx"&&r.unshift("inprogress"),delete f.stop,u.call(n,o,f));!e&&f&&f.empty.fire()},_queueHooks:function(n,t){var u=t+"queueHooks";return r.get(n,u)||r.access(n,u,{empty:i.Callbacks("once memory").add((function(){r.remove(n,[t+"queue",u])}))})}});i.fn.extend({queue:function(n,t){var r=2;return(typeof n!="string"&&(t=n,n="fx",r--),arguments.length<r)?i.queue(this[0],n):t===undefined?this:this.each((function(){var r=i.queue(this,n,t);i._queueHooks(this,n);n==="fx"&&r[0]!=="inprogress"&&i.dequeue(this,n)}))},dequeue:function(n){return this.each((function(){i.dequeue(this,n)}))},clearQueue:function(n){return this.queue(n||"fx",[])},promise:function(n,t){var u,e=1,o=i.Deferred(),f=this,s=this.length,h=function(){--e||o.resolveWith(f,[f])};for(typeof n!="string"&&(t=n,n=undefined),n=n||"fx";s--;)u=r.get(f[s],n+"queueHooks"),u&&u.empty&&(e++,u.empty.add(h));return h(),o.promise(t)}});var ou=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,wt=new RegExp("^(?:([+-])=|)("+ou+")([a-z%]*)$","i"),b=["Top","Right","Bottom","Left"],g=f.documentElement,ot=function(n){return i.contains(n.ownerDocument,n)},ve={composed:!0};g.getRootNode&&(ot=function(n){return i.contains(n.ownerDocument,n)||n.getRootNode(ve)===n.ownerDocument});bt=function(n,t){return n=t||n,n.style.display==="none"||n.style.display===""&&ot(n)&&i.css(n,"display")==="none"};pi={};i.fn.extend({show:function(){return st(this,!0)},hide:function(){return st(this)},toggle:function(n){return typeof n=="boolean"?n?this.show():this.hide():this.each((function(){bt(this)?i(this).show():i(this).hide()}))}});var kt=/^(?:checkbox|radio)$/i,hu=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,cu=/^$|^module$|\/(?:java|ecma)script/i;(function(){var i=f.createDocumentFragment(),n=i.appendChild(f.createElement("div")),t=f.createElement("input");t.setAttribute("type","radio");t.setAttribute("checked","checked");t.setAttribute("name","t");n.appendChild(t);e.checkClone=n.cloneNode(!0).cloneNode(!0).lastChild.checked;n.innerHTML="<textarea>x<\/textarea>";e.noCloneChecked=!!n.cloneNode(!0).lastChild.defaultValue;n.innerHTML="<option><\/option>";e.option=!!n.lastChild})();c={thead:[1,"<table>","<\/table>"],col:[2,"<table><colgroup>","<\/colgroup><\/table>"],tr:[2,"<table><tbody>","<\/tbody><\/table>"],td:[3,"<table><tbody><tr>","<\/tr><\/tbody><\/table>"],_default:[0,"",""]};c.tbody=c.tfoot=c.colgroup=c.caption=c.thead;c.th=c.td;e.option||(c.optgroup=c.option=[1,"<select multiple='multiple'>","<\/select>"]);lu=/<|&#?\w+;/;bi=/^([^.]*)(?:\.(.+)|)/;i.event={global:{},add:function(n,t,u,f,e){var l,v,w,y,b,h,s,c,o,k,d,p=r.get(n);if(et(n))for(u.handler&&(l=u,u=l.handler,e=l.selector),e&&i.find.matchesSelector(g,e),u.guid||(u.guid=i.guid++),(y=p.events)||(y=p.events=Object.create(null)),(v=p.handle)||(v=p.handle=function(t){return typeof i!="undefined"&&i.event.triggered!==t.type?i.event.dispatch.apply(n,arguments):undefined}),t=(t||"").match(a)||[""],b=t.length;b--;)(w=bi.exec(t[b])||[],o=d=w[1],k=(w[2]||"").split(".").sort(),o)&&(s=i.event.special[o]||{},o=(e?s.delegateType:s.bindType)||o,s=i.event.special[o]||{},h=i.extend({type:o,origType:d,data:f,handler:u,guid:u.guid,selector:e,needsContext:e&&i.expr.match.needsContext.test(e),namespace:k.join(".")},l),(c=y[o])||(c=y[o]=[],c.delegateCount=0,s.setup&&s.setup.call(n,f,k,v)!==!1||n.addEventListener&&n.addEventListener(o,v)),s.add&&(s.add.call(n,h),h.handler.guid||(h.handler.guid=u.guid)),e?c.splice(c.delegateCount++,0,h):c.push(h),i.event.global[o]=!0)},remove:function(n,t,u,f,e){var y,k,h,v,p,s,c,l,o,b,d,w=r.hasData(n)&&r.get(n);if(w&&(v=w.events)){for(t=(t||"").match(a)||[""],p=t.length;p--;){if(h=bi.exec(t[p])||[],o=d=h[1],b=(h[2]||"").split(".").sort(),!o){for(o in v)i.event.remove(n,o+t[p],u,f,!0);continue}for(c=i.event.special[o]||{},o=(f?c.delegateType:c.bindType)||o,l=v[o]||[],h=h[2]&&new RegExp("(^|\\.)"+b.join("\\.(?:.*\\.|)")+"(\\.|$)"),k=y=l.length;y--;)s=l[y],(e||d===s.origType)&&(!u||u.guid===s.guid)&&(!h||h.test(s.namespace))&&(!f||f===s.selector||f==="**"&&s.selector)&&(l.splice(y,1),s.selector&&l.delegateCount--,c.remove&&c.remove.call(n,s));k&&!l.length&&(c.teardown&&c.teardown.call(n,b,w.handle)!==!1||i.removeEvent(n,o,w.handle),delete v[o])}i.isEmptyObject(v)&&r.remove(n,"handle events")}},dispatch:function(n){var u,c,s,e,f,l,h=new Array(arguments.length),t=i.event.fix(n),a=(r.get(this,"events")||Object.create(null))[t.type]||[],o=i.event.special[t.type]||{};for(h[0]=t,u=1;u<arguments.length;u++)h[u]=arguments[u];if(t.delegateTarget=this,!o.preDispatch||o.preDispatch.call(this,t)!==!1){for(l=i.event.handlers.call(this,t,a),u=0;(e=l[u++])&&!t.isPropagationStopped();)for(t.currentTarget=e.elem,c=0;(f=e.handlers[c++])&&!t.isImmediatePropagationStopped();)(!t.rnamespace||f.namespace===!1||t.rnamespace.test(f.namespace))&&(t.handleObj=f,t.data=f.data,s=((i.event.special[f.origType]||{}).handle||f.handler).apply(e.elem,h),s!==undefined&&(t.result=s)===!1&&(t.preventDefault(),t.stopPropagation()));return o.postDispatch&&o.postDispatch.call(this,t),t.result}},handlers:function(n,t){var f,e,u,o,s,c=[],h=t.delegateCount,r=n.target;if(h&&r.nodeType&&!(n.type==="click"&&n.button>=1))for(;r!==this;r=r.parentNode||this)if(r.nodeType===1&&!(n.type==="click"&&r.disabled===!0)){for(o=[],s={},f=0;f<h;f++)e=t[f],u=e.selector+" ",s[u]===undefined&&(s[u]=e.needsContext?i(u,this).index(r)>-1:i.find(u,this,null,[r]).length),s[u]&&o.push(e);o.length&&c.push({elem:r,handlers:o})}return r=this,h<t.length&&c.push({elem:r,handlers:t.slice(h)}),c},addProp:function(n,t){Object.defineProperty(i.Event.prototype,n,{enumerable:!0,configurable:!0,get:u(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[n]},set:function(t){Object.defineProperty(this,n,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(n){return n[i.expando]?n:new i.Event(n)},special:{load:{noBubble:!0},click:{setup:function(n){var t=this||n;return kt.test(t.type)&&t.click&&l(t,"input")&&ei(t,"click",ht),!1},trigger:function(n){var t=this||n;return kt.test(t.type)&&t.click&&l(t,"input")&&ei(t,"click"),!0},_default:function(n){var t=n.target;return kt.test(t.type)&&t.click&&l(t,"input")&&r.get(t,"click")||l(t,"a")}},beforeunload:{postDispatch:function(n){n.result!==undefined&&n.originalEvent&&(n.originalEvent.returnValue=n.result)}}}};i.removeEvent=function(n,t,i){n.removeEventListener&&n.removeEventListener(t,i)};i.Event=function(n,t){if(!(this instanceof i.Event))return new i.Event(n,t);n&&n.type?(this.originalEvent=n,this.type=n.type,this.isDefaultPrevented=n.defaultPrevented||n.defaultPrevented===undefined&&n.returnValue===!1?ht:ct,this.target=n.target&&n.target.nodeType===3?n.target.parentNode:n.target,this.currentTarget=n.currentTarget,this.relatedTarget=n.relatedTarget):this.type=n;t&&i.extend(this,t);this.timeStamp=n&&n.timeStamp||Date.now();this[i.expando]=!0};i.Event.prototype={constructor:i.Event,isDefaultPrevented:ct,isPropagationStopped:ct,isImmediatePropagationStopped:ct,isSimulated:!1,preventDefault:function(){var n=this.originalEvent;this.isDefaultPrevented=ht;n&&!this.isSimulated&&n.preventDefault()},stopPropagation:function(){var n=this.originalEvent;this.isPropagationStopped=ht;n&&!this.isSimulated&&n.stopPropagation()},stopImmediatePropagation:function(){var n=this.originalEvent;this.isImmediatePropagationStopped=ht;n&&!this.isSimulated&&n.stopImmediatePropagation();this.stopPropagation()}};i.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},i.event.addProp);i.each({focus:"focusin",blur:"focusout"},(function(n,t){i.event.special[n]={setup:function(){return ei(this,n,pe),!1},trigger:function(){return ei(this,n),!0},_default:function(){return!0},delegateType:t}}));i.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(n,t){i.event.special[n]={delegateType:t,bindType:t,handle:function(n){var u,f=this,r=n.relatedTarget,e=n.handleObj;return r&&(r===f||i.contains(f,r))||(n.type=e.origType,u=e.handler.apply(this,arguments),n.type=t),u}}}));i.fn.extend({on:function(n,t,i,r){return ki(this,n,t,i,r)},one:function(n,t,i,r){return ki(this,n,t,i,r,1)},off:function(n,t,r){var u,f;if(n&&n.preventDefault&&n.handleObj)return u=n.handleObj,i(n.delegateTarget).off(u.namespace?u.origType+"."+u.namespace:u.origType,u.selector,u.handler),this;if(typeof n=="object"){for(f in n)this.off(f,t,n[f]);return this}return(t===!1||typeof t=="function")&&(r=t,t=undefined),r===!1&&(r=ct),this.each((function(){i.event.remove(this,n,r,t)}))}});var be=/<script|<style|<link/i,ke=/checked\s*(?:[^=]|=\s*.checked.)/i,de=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;i.extend({htmlPrefilter:function(n){return n},clone:function(n,t,r){var u,c,o,f,h=n.cloneNode(!0),l=ot(n);if(!e.noCloneChecked&&(n.nodeType===1||n.nodeType===11)&&!i.isXMLDoc(n))for(f=s(h),o=s(n),u=0,c=o.length;u<c;u++)to(o[u],f[u]);if(t)if(r)for(o=o||s(n),f=f||s(h),u=0,c=o.length;u<c;u++)yu(o[u],f[u]);else yu(n,h);return f=s(h,"script"),f.length>0&&wi(f,!l&&s(n,"script")),h},cleanData:function(n){for(var u,t,f,s=i.event.special,e=0;(t=n[e])!==undefined;e++)if(et(t)){if(u=t[r.expando]){if(u.events)for(f in u.events)s[f]?i.event.remove(t,f):i.removeEvent(t,f,u.handle);t[r.expando]=undefined}t[o.expando]&&(t[o.expando]=undefined)}}});i.fn.extend({detach:function(n){return pu(this,n,!0)},remove:function(n){return pu(this,n)},text:function(n){return w(this,(function(n){return n===undefined?i.text(this):this.empty().each((function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=n)}))}),null,n,arguments.length)},append:function(){return lt(this,arguments,(function(n){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=vu(this,n);t.appendChild(n)}}))},prepend:function(){return lt(this,arguments,(function(n){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=vu(this,n);t.insertBefore(n,t.firstChild)}}))},before:function(){return lt(this,arguments,(function(n){this.parentNode&&this.parentNode.insertBefore(n,this)}))},after:function(){return lt(this,arguments,(function(n){this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling)}))},empty:function(){for(var n,t=0;(n=this[t])!=null;t++)n.nodeType===1&&(i.cleanData(s(n,!1)),n.textContent="");return this},clone:function(n,t){return n=n==null?!1:n,t=t==null?n:t,this.map((function(){return i.clone(this,n,t)}))},html:function(n){return w(this,(function(n){var t=this[0]||{},r=0,u=this.length;if(n===undefined&&t.nodeType===1)return t.innerHTML;if(typeof n=="string"&&!be.test(n)&&!c[(hu.exec(n)||["",""])[1].toLowerCase()]){n=i.htmlPrefilter(n);try{for(;r<u;r++)t=this[r]||{},t.nodeType===1&&(i.cleanData(s(t,!1)),t.innerHTML=n);t=0}catch(f){}}t&&this.empty().append(n)}),null,n,arguments.length)},replaceWith:function(){var n=[];return lt(this,arguments,(function(t){var r=this.parentNode;i.inArray(this,n)<0&&(i.cleanData(s(this)),r&&r.replaceChild(t,this))}),n)}});i.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(n,t){i.fn[n]=function(n){for(var u,f=[],e=i(n),o=e.length-1,r=0;r<=o;r++)u=r===o?this:this.clone(!0),i(e[r])[t](u),li.apply(f,u.get());return this.pushStack(f)}}));var di=new RegExp("^("+ou+")(?!px)[a-z%]+$","i"),oi=function(t){var i=t.ownerDocument.defaultView;return i&&i.opener||(i=n),i.getComputedStyle(t)},wu=function(n,t,i){var u,r,f={};for(r in t)f[r]=n.style[r],n.style[r]=t[r];u=i.call(n);for(r in t)n.style[r]=f[r];return u},io=new RegExp(b.join("|"),"i");(function(){function r(){if(t){s.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0";t.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%";g.appendChild(s).appendChild(t);var i=n.getComputedStyle(t);h=i.top!=="1%";v=u(i.marginLeft)===12;t.style.right="60%";a=u(i.right)===36;c=u(i.width)===36;t.style.position="absolute";l=u(t.offsetWidth/3)===12;g.removeChild(s);t=null}}function u(n){return Math.round(parseFloat(n))}var h,c,l,a,o,v,s=f.createElement("div"),t=f.createElement("div");t.style&&(t.style.backgroundClip="content-box",t.cloneNode(!0).style.backgroundClip="",e.clearCloneStyle=t.style.backgroundClip==="content-box",i.extend(e,{boxSizingReliable:function(){return r(),c},pixelBoxStyles:function(){return r(),a},pixelPosition:function(){return r(),h},reliableMarginLeft:function(){return r(),v},scrollboxSize:function(){return r(),l},reliableTrDimensions:function(){var i,t,r,u;return o==null&&(i=f.createElement("table"),t=f.createElement("tr"),r=f.createElement("div"),i.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="border:1px solid",t.style.height="1px",r.style.height="9px",r.style.display="block",g.appendChild(i).appendChild(t).appendChild(r),u=n.getComputedStyle(t),o=parseInt(u.height,10)+parseInt(u.borderTopWidth,10)+parseInt(u.borderBottomWidth,10)===t.offsetHeight,g.removeChild(i)),o}}))})();var ku=["Webkit","Moz","ms"],du=f.createElement("div").style,gu={};var uo=/^(none|table(?!-c[ea]).+)/,nf=/^--/,fo={position:"absolute",visibility:"hidden",display:"block"},tf={letterSpacing:"0",fontWeight:"400"};i.extend({cssHooks:{opacity:{get:function(n,t){if(t){var i=dt(n,"opacity");return i===""?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(n,t,r,u){if(n&&n.nodeType!==3&&n.nodeType!==8&&n.style){var f,s,o,c=y(t),l=nf.test(t),h=n.style;if(l||(t=gi(c)),o=i.cssHooks[t]||i.cssHooks[c],r!==undefined){if(s=typeof r,s==="string"&&(f=wt.exec(r))&&f[1]&&(r=su(n,t,f),s="number"),r==null||r!==r)return;s!=="number"||l||(r+=f&&f[3]||(i.cssNumber[c]?"":"px"));e.clearCloneStyle||r!==""||t.indexOf("background")!==0||(h[t]="inherit");o&&"set"in o&&(r=o.set(n,r,u))===undefined||(l?h.setProperty(t,r):h[t]=r)}else return o&&"get"in o&&(f=o.get(n,!1,u))!==undefined?f:h[t]}},css:function(n,t,r,u){var f,o,e,s=y(t),h=nf.test(t);return(h||(t=gi(s)),e=i.cssHooks[t]||i.cssHooks[s],e&&"get"in e&&(f=e.get(n,!0,r)),f===undefined&&(f=dt(n,t,u)),f==="normal"&&t in tf&&(f=tf[t]),r===""||r)?(o=parseFloat(f),r===!0||isFinite(o)?o||0:f):f}});i.each(["height","width"],(function(n,t){i.cssHooks[t]={get:function(n,r,u){if(r)return uo.test(i.css(n,"display"))&&(!n.getClientRects().length||!n.getBoundingClientRect().width)?wu(n,fo,(function(){return uf(n,t,u)})):uf(n,t,u)},set:function(n,r,u){var s,f=oi(n),h=!e.scrollboxSize()&&f.position==="absolute",l=h||u,c=l&&i.css(n,"boxSizing",!1,f)==="border-box",o=u?nr(n,t,u,c,f):0;return c&&h&&(o-=Math.ceil(n["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(f[t])-nr(n,t,"border",!1,f)-.5)),o&&(s=wt.exec(r))&&(s[3]||"px")!=="px"&&(n.style[t]=r,r=i.css(n,t)),rf(n,r,o)}}}));i.cssHooks.marginLeft=bu(e.reliableMarginLeft,(function(n,t){if(t)return(parseFloat(dt(n,"marginLeft"))||n.getBoundingClientRect().left-wu(n,{marginLeft:0},(function(){return n.getBoundingClientRect().left})))+"px"}));i.each({margin:"",padding:"",border:"Width"},(function(n,t){i.cssHooks[n+t]={expand:function(i){for(var r=0,f={},u=typeof i=="string"?i.split(" "):[i];r<4;r++)f[n+b[r]+t]=u[r]||u[r-2]||u[0];return f}};n!=="margin"&&(i.cssHooks[n+t].set=rf)}));i.fn.extend({css:function(n,t){return w(this,(function(n,t,r){var f,e,o={},u=0;if(Array.isArray(t)){for(f=oi(n),e=t.length;u<e;u++)o[t[u]]=i.css(n,t[u],!1,f);return o}return r!==undefined?i.style(n,t,r):i.css(n,t)}),n,t,arguments.length>1)}});i.Tween=h;h.prototype={constructor:h,init:function(n,t,r,u,f,e){this.elem=n;this.prop=r;this.easing=f||i.easing._default;this.options=t;this.start=this.now=this.cur();this.end=u;this.unit=e||(i.cssNumber[r]?"":"px")},cur:function(){var n=h.propHooks[this.prop];return n&&n.get?n.get(this):h.propHooks._default.get(this)},run:function(n){var t,r=h.propHooks[this.prop];return this.pos=this.options.duration?t=i.easing[this.easing](n,this.options.duration*n,0,1,this.options.duration):t=n,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),r&&r.set?r.set(this):h.propHooks._default.set(this),this}};h.prototype.init.prototype=h.prototype;h.propHooks={_default:{get:function(n){var t;return n.elem.nodeType!==1||n.elem[n.prop]!=null&&n.elem.style[n.prop]==null?n.elem[n.prop]:(t=i.css(n.elem,n.prop,""),!t||t==="auto"?0:t)},set:function(n){i.fx.step[n.prop]?i.fx.step[n.prop](n):n.elem.nodeType===1&&(i.cssHooks[n.prop]||n.elem.style[gi(n.prop)]!=null)?i.style(n.elem,n.prop,n.now+n.unit):n.elem[n.prop]=n.now}}};h.propHooks.scrollTop=h.propHooks.scrollLeft={set:function(n){n.elem.nodeType&&n.elem.parentNode&&(n.elem[n.prop]=n.now)}};i.easing={linear:function(n){return n},swing:function(n){return.5-Math.cos(n*Math.PI)/2},_default:"swing"};i.fx=h.prototype.init;i.fx.step={};ff=/^(?:toggle|show|hide)$/;ef=/queueHooks$/;i.Animation=i.extend(v,{tweeners:{"*":[function(n,t){var i=this.createTween(n,t);return su(i.elem,n,wt.exec(t),i),i}]},tweener:function(n,t){u(n)?(t=n,n=["*"]):n=n.match(a);for(var i,r=0,f=n.length;r<f;r++)i=n[r],v.tweeners[i]=v.tweeners[i]||[],v.tweeners[i].unshift(t)},prefilters:[eo],prefilter:function(n,t){t?v.prefilters.unshift(n):v.prefilters.push(n)}});i.speed=function(n,t,r){var f=n&&typeof n=="object"?i.extend({},n):{complete:r||!r&&t||u(n)&&n,duration:n,easing:r&&t||t&&!u(t)&&t};return i.fx.off?f.duration=0:typeof f.duration!="number"&&(f.duration=f.duration in i.fx.speeds?i.fx.speeds[f.duration]:i.fx.speeds._default),(f.queue==null||f.queue===!0)&&(f.queue="fx"),f.old=f.complete,f.complete=function(){u(f.old)&&f.old.call(this);f.queue&&i.dequeue(this,f.queue)},f};i.fn.extend({fadeTo:function(n,t,i,r){return this.filter(bt).css("opacity",0).show().end().animate({opacity:t},n,i,r)},animate:function(n,t,u,f){var s=i.isEmptyObject(n),o=i.speed(t,u,f),e=function(){var t=v(this,i.extend({},n),o);(s||r.get(this,"finish"))&&t.stop(!0)};return e.finish=e,s||o.queue===!1?this.each(e):this.queue(o.queue,e)},stop:function(n,t,u){var f=function(n){var t=n.stop;delete n.stop;t(u)};return typeof n!="string"&&(u=t,t=n,n=undefined),t&&this.queue(n||"fx",[]),this.each((function(){var s=!0,t=n!=null&&n+"queueHooks",o=i.timers,e=r.get(this);if(t)e[t]&&e[t].stop&&f(e[t]);else for(t in e)e[t]&&e[t].stop&&ef.test(t)&&f(e[t]);for(t=o.length;t--;)o[t].elem===this&&(n==null||o[t].queue===n)&&(o[t].anim.stop(u),s=!1,o.splice(t,1));(s||!u)&&i.dequeue(this,n)}))},finish:function(n){return n!==!1&&(n=n||"fx"),this.each((function(){var t,e=r.get(this),u=e[n+"queue"],o=e[n+"queueHooks"],f=i.timers,s=u?u.length:0;for(e.finish=!0,i.queue(this,n,[]),o&&o.stop&&o.stop.call(this,!0),t=f.length;t--;)f[t].elem===this&&f[t].queue===n&&(f[t].anim.stop(!0),f.splice(t,1));for(t=0;t<s;t++)u[t]&&u[t].finish&&u[t].finish.call(this);delete e.finish}))}});i.each(["toggle","show","hide"],(function(n,t){var r=i.fn[t];i.fn[t]=function(n,i,u){return n==null||typeof n=="boolean"?r.apply(this,arguments):this.animate(hi(t,!0),n,i,u)}}));i.each({slideDown:hi("show"),slideUp:hi("hide"),slideToggle:hi("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(n,t){i.fn[n]=function(n,i,r){return this.animate(t,n,i,r)}}));i.timers=[];i.fx.tick=function(){var r,n=0,t=i.timers;for(at=Date.now();n<t.length;n++)r=t[n],r()||t[n]!==r||t.splice(n--,1);t.length||i.fx.stop();at=undefined};i.fx.timer=function(n){i.timers.push(n);i.fx.start()};i.fx.interval=13;i.fx.start=function(){si||(si=!0,tr())};i.fx.stop=function(){si=null};i.fx.speeds={slow:600,fast:200,_default:400};i.fn.delay=function(t,r){return t=i.fx?i.fx.speeds[t]||t:t,r=r||"fx",this.queue(r,(function(i,r){var u=n.setTimeout(i,t);r.stop=function(){n.clearTimeout(u)}}))},(function(){var n=f.createElement("input"),t=f.createElement("select"),i=t.appendChild(f.createElement("option"));n.type="checkbox";e.checkOn=n.value!=="";e.optSelected=i.selected;n=f.createElement("input");n.value="t";n.type="radio";e.radioValue=n.value==="t"})();vt=i.expr.attrHandle;i.fn.extend({attr:function(n,t){return w(this,i.attr,n,t,arguments.length>1)},removeAttr:function(n){return this.each((function(){i.removeAttr(this,n)}))}});i.extend({attr:function(n,t,r){var u,f,e=n.nodeType;if(e!==3&&e!==8&&e!==2){if(typeof n.getAttribute=="undefined")return i.prop(n,t,r);if(e===1&&i.isXMLDoc(n)||(f=i.attrHooks[t.toLowerCase()]||(i.expr.match.bool.test(t)?cf:undefined)),r!==undefined){if(r===null){i.removeAttr(n,t);return}return f&&"set"in f&&(u=f.set(n,r,t))!==undefined?u:(n.setAttribute(t,r+""),r)}return f&&"get"in f&&(u=f.get(n,t))!==null?u:(u=i.find.attr(n,t),u==null?undefined:u)}},attrHooks:{type:{set:function(n,t){if(!e.radioValue&&t==="radio"&&l(n,"input")){var i=n.value;return n.setAttribute("type",t),i&&(n.value=i),t}}}},removeAttr:function(n,t){var i,u=0,r=t&&t.match(a);if(r&&n.nodeType===1)while(i=r[u++])n.removeAttribute(i)}});cf={set:function(n,t,r){return t===!1?i.removeAttr(n,r):n.setAttribute(r,r),r}};i.each(i.expr.match.bool.source.match(/\w+/g),(function(n,t){var r=vt[t]||i.find.attr;vt[t]=function(n,t,i){var f,e,u=t.toLowerCase();return i||(e=vt[u],vt[u]=f,f=r(n,t,i)!=null?u:null,vt[u]=e),f}}));lf=/^(?:input|select|textarea|button)$/i;af=/^(?:a|area)$/i;i.fn.extend({prop:function(n,t){return w(this,i.prop,n,t,arguments.length>1)},removeProp:function(n){return this.each((function(){delete this[i.propFix[n]||n]}))}});i.extend({prop:function(n,t,r){var f,u,e=n.nodeType;if(e!==3&&e!==8&&e!==2)return(e===1&&i.isXMLDoc(n)||(t=i.propFix[t]||t,u=i.propHooks[t]),r!==undefined)?u&&"set"in u&&(f=u.set(n,r,t))!==undefined?f:n[t]=r:u&&"get"in u&&(f=u.get(n,t))!==null?f:n[t]},propHooks:{tabIndex:{get:function(n){var t=i.find.attr(n,"tabindex");return t?parseInt(t,10):lf.test(n.nodeName)||af.test(n.nodeName)&&n.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}});e.optSelected||(i.propHooks.selected={get:function(n){var t=n.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(n){var t=n.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}});i.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){i.propFix[this.toLowerCase()]=this}));i.fn.extend({addClass:function(n){var f,r,t,e,o,h,s,c=0;if(u(n))return this.each((function(t){i(this).addClass(n.call(this,t,tt(this)))}));if(f=ir(n),f.length)while(r=this[c++])if(e=tt(r),t=r.nodeType===1&&" "+nt(e)+" ",t){for(h=0;o=f[h++];)t.indexOf(" "+o+" ")<0&&(t+=o+" ");s=nt(t);e!==s&&r.setAttribute("class",s)}return this},removeClass:function(n){var f,r,t,e,o,h,s,c=0;if(u(n))return this.each((function(t){i(this).removeClass(n.call(this,t,tt(this)))}));if(!arguments.length)return this.attr("class","");if(f=ir(n),f.length)while(r=this[c++])if(e=tt(r),t=r.nodeType===1&&" "+nt(e)+" ",t){for(h=0;o=f[h++];)while(t.indexOf(" "+o+" ")>-1)t=t.replace(" "+o+" "," ");s=nt(t);e!==s&&r.setAttribute("class",s)}return this},toggleClass:function(n,t){var f=typeof n,e=f==="string"||Array.isArray(n);return typeof t=="boolean"&&e?t?this.addClass(n):this.removeClass(n):u(n)?this.each((function(r){i(this).toggleClass(n.call(this,r,tt(this),t),t)})):this.each((function(){var t,o,u,s;if(e)for(o=0,u=i(this),s=ir(n);t=s[o++];)u.hasClass(t)?u.removeClass(t):u.addClass(t);else(n===undefined||f==="boolean")&&(t=tt(this),t&&r.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||n===!1?"":r.get(this,"__className__")||""))}))},hasClass:function(n){for(var t,r=0,i=" "+n+" ";t=this[r++];)if(t.nodeType===1&&(" "+nt(tt(t))+" ").indexOf(i)>-1)return!0;return!1}});vf=/\r/g;i.fn.extend({val:function(n){var t,r,e,f=this[0];return arguments.length?(e=u(n),this.each((function(r){var u;this.nodeType===1&&(u=e?n.call(this,r,i(this).val()):n,u==null?u="":typeof u=="number"?u+="":Array.isArray(u)&&(u=i.map(u,(function(n){return n==null?"":n+""}))),t=i.valHooks[this.type]||i.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&t.set(this,u,"value")!==undefined||(this.value=u))}))):f?(t=i.valHooks[f.type]||i.valHooks[f.nodeName.toLowerCase()],t&&"get"in t&&(r=t.get(f,"value"))!==undefined)?r:(r=f.value,typeof r=="string")?r.replace(vf,""):r==null?"":r:void 0}});i.extend({valHooks:{option:{get:function(n){var t=i.find.attr(n,"value");return t!=null?t:nt(i.text(n))}},select:{get:function(n){for(var e,t,o=n.options,u=n.selectedIndex,f=n.type==="select-one",s=f?null:[],h=f?u+1:o.length,r=u<0?h:f?u:0;r<h;r++)if(t=o[r],(t.selected||r===u)&&!t.disabled&&(!t.parentNode.disabled||!l(t.parentNode,"optgroup"))){if(e=i(t).val(),f)return e;s.push(e)}return s},set:function(n,t){for(var u,r,f=n.options,e=i.makeArray(t),o=f.length;o--;)r=f[o],(r.selected=i.inArray(i.valHooks.option.get(r),e)>-1)&&(u=!0);return u||(n.selectedIndex=-1),e}}}});i.each(["radio","checkbox"],(function(){i.valHooks[this]={set:function(n,t){if(Array.isArray(t))return n.checked=i.inArray(i(n).val(),t)>-1}};e.checkOn||(i.valHooks[this].get=function(n){return n.getAttribute("value")===null?"on":n.value})}));e.focusin="onfocusin"in n;rr=/^(?:focusinfocus|focusoutblur)$/;ur=function(n){n.stopPropagation()};i.extend(i.event,{trigger:function(t,e,o,s){var k,c,l,d,v,y,a,w,b=[o||f],h=ii.call(t,"type")?t.type:t,p=ii.call(t,"namespace")?t.namespace.split("."):[];if((c=w=l=o=o||f,o.nodeType!==3&&o.nodeType!==8)&&!rr.test(h+i.event.triggered)&&(h.indexOf(".")>-1&&(p=h.split("."),h=p.shift(),p.sort()),v=h.indexOf(":")<0&&"on"+h,t=t[i.expando]?t:new i.Event(h,typeof t=="object"&&t),t.isTrigger=s?2:3,t.namespace=p.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=undefined,t.target||(t.target=o),e=e==null?[t]:i.makeArray(e,[t]),a=i.event.special[h]||{},s||!a.trigger||a.trigger.apply(o,e)!==!1)){if(!s&&!a.noBubble&&!it(o)){for(d=a.delegateType||h,rr.test(d+h)||(c=c.parentNode);c;c=c.parentNode)b.push(c),l=c;l===(o.ownerDocument||f)&&b.push(l.defaultView||l.parentWindow||n)}for(k=0;(c=b[k++])&&!t.isPropagationStopped();)w=c,t.type=k>1?d:a.bindType||h,y=(r.get(c,"events")||Object.create(null))[t.type]&&r.get(c,"handle"),y&&y.apply(c,e),y=v&&c[v],y&&y.apply&&et(c)&&(t.result=y.apply(c,e),t.result===!1&&t.preventDefault());return t.type=h,s||t.isDefaultPrevented()||(!a._default||a._default.apply(b.pop(),e)===!1)&&et(o)&&v&&u(o[h])&&!it(o)&&(l=o[v],l&&(o[v]=null),i.event.triggered=h,t.isPropagationStopped()&&w.addEventListener(h,ur),o[h](),t.isPropagationStopped()&&w.removeEventListener(h,ur),i.event.triggered=undefined,l&&(o[v]=l)),t.result}},simulate:function(n,t,r){var u=i.extend(new i.Event,r,{type:n,isSimulated:!0});i.event.trigger(u,null,t)}});i.fn.extend({trigger:function(n,t){return this.each((function(){i.event.trigger(n,t,this)}))},triggerHandler:function(n,t){var r=this[0];if(r)return i.event.trigger(n,t,r,!0)}});e.focusin||i.each({focus:"focusin",blur:"focusout"},(function(n,t){var u=function(n){i.event.simulate(t,n.target,i.event.fix(n))};i.event.special[t]={setup:function(){var i=this.ownerDocument||this.document||this,f=r.access(i,t);f||i.addEventListener(n,u,!0);r.access(i,t,(f||0)+1)},teardown:function(){var i=this.ownerDocument||this.document||this,f=r.access(i,t)-1;f?r.access(i,t,f):(i.removeEventListener(n,u,!0),r.remove(i,t))}}}));var gt=n.location,yf={guid:Date.now()},fr=/\?/;i.parseXML=function(t){var r,u;if(!t||typeof t!="string")return null;try{r=(new n.DOMParser).parseFromString(t,"text/xml")}catch(f){}return u=r&&r.getElementsByTagName("parsererror")[0],(!r||u)&&i.error("Invalid XML: "+(u?i.map(u.childNodes,(function(n){return n.textContent})).join("\n"):t)),r};var so=/\[\]$/,pf=/\r?\n/g,ho=/^(?:submit|button|image|reset|file)$/i,co=/^(?:input|select|textarea|keygen)/i;i.param=function(n,t){var r,f=[],e=function(n,t){var i=u(t)?t():t;f[f.length]=encodeURIComponent(n)+"="+encodeURIComponent(i==null?"":i)};if(n==null)return"";if(Array.isArray(n)||n.jquery&&!i.isPlainObject(n))i.each(n,(function(){e(this.name,this.value)}));else for(r in n)er(r,n[r],t,e);return f.join("&")};i.fn.extend({serialize:function(){return i.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var n=i.prop(this,"elements");return n?i.makeArray(n):this})).filter((function(){var n=this.type;return this.name&&!i(this).is(":disabled")&&co.test(this.nodeName)&&!ho.test(n)&&(this.checked||!kt.test(n))})).map((function(n,t){var r=i(this).val();return r==null?null:Array.isArray(r)?i.map(r,(function(n){return{name:t.name,value:n.replace(pf,"\r\n")}})):{name:t.name,value:r.replace(pf,"\r\n")}})).get()}});var lo=/%20/g,ao=/#.*$/,vo=/([?&])_=[^&]*/,yo=/^(.*?):[ \t]*([^\r\n]*)$/mg,po=/^(?:GET|HEAD)$/,wo=/^\/\//,wf={},or={},bf="*/".concat("*"),sr=f.createElement("a");return sr.href=gt.href,i.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:gt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(gt.protocol),global:!0,processData:!0,"async":!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":bf,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":i.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(n,t){return t?hr(hr(n,i.ajaxSettings),t):hr(i.ajaxSettings,n)},ajaxPrefilter:kf(wf),ajaxTransport:kf(or),ajax:function(t,r){function b(t,r,f,l){var v,rt,g,p,b,a=r;s||(s=!0,d&&n.clearTimeout(d),c=undefined,k=l||"",e.readyState=t>0?4:0,v=t>=200&&t<300||t===304,f&&(p=bo(u,e,f)),!v&&i.inArray("script",u.dataTypes)>-1&&i.inArray("json",u.dataTypes)<0&&(u.converters["text script"]=function(){}),p=ko(u,p,e,v),v?(u.ifModified&&(b=e.getResponseHeader("Last-Modified"),b&&(i.lastModified[o]=b),b=e.getResponseHeader("etag"),b&&(i.etag[o]=b)),t===204||u.type==="HEAD"?a="nocontent":t===304?a="notmodified":(a=p.state,rt=p.data,g=p.error,v=!g)):(g=a,(t||!a)&&(a="error",t<0&&(t=0))),e.status=t,e.statusText=(r||a)+"",v?tt.resolveWith(h,[rt,a,e]):tt.rejectWith(h,[e,a,g]),e.statusCode(w),w=undefined,y&&nt.trigger(v?"ajaxSuccess":"ajaxError",[e,u,v?rt:g]),it.fireWith(h,[e,a]),y&&(nt.trigger("ajaxComplete",[e,u]),--i.active||i.event.trigger("ajaxStop")))}typeof t=="object"&&(r=t,t=undefined);r=r||{};var c,o,k,v,d,l,s,y,g,p,u=i.ajaxSetup({},r),h=u.context||u,nt=u.context&&(h.nodeType||h.jquery)?i(h):i.event,tt=i.Deferred(),it=i.Callbacks("once memory"),w=u.statusCode||{},rt={},ut={},ft="canceled",e={readyState:0,getResponseHeader:function(n){var t;if(s){if(!v)for(v={};t=yo.exec(k);)v[t[1].toLowerCase()+" "]=(v[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=v[n.toLowerCase()+" "]}return t==null?null:t.join(", ")},getAllResponseHeaders:function(){return s?k:null},setRequestHeader:function(n,t){return s==null&&(n=ut[n.toLowerCase()]=ut[n.toLowerCase()]||n,rt[n]=t),this},overrideMimeType:function(n){return s==null&&(u.mimeType=n),this},statusCode:function(n){var t;if(n)if(s)e.always(n[e.status]);else for(t in n)w[t]=[w[t],n[t]];return this},abort:function(n){var t=n||ft;return c&&c.abort(t),b(0,t),this}};if(tt.promise(e),u.url=((t||u.url||gt.href)+"").replace(wo,gt.protocol+"//"),u.type=r.method||r.type||u.method||u.type,u.dataTypes=(u.dataType||"*").toLowerCase().match(a)||[""],u.crossDomain==null){l=f.createElement("a");try{l.href=u.url;l.href=l.href;u.crossDomain=sr.protocol+"//"+sr.host!=l.protocol+"//"+l.host}catch(et){u.crossDomain=!0}}if(u.data&&u.processData&&typeof u.data!="string"&&(u.data=i.param(u.data,u.traditional)),df(wf,u,r,e),s)return e;y=i.event&&u.global;y&&i.active++==0&&i.event.trigger("ajaxStart");u.type=u.type.toUpperCase();u.hasContent=!po.test(u.type);o=u.url.replace(ao,"");u.hasContent?u.data&&u.processData&&(u.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(u.data=u.data.replace(lo,"+")):(p=u.url.slice(o.length),u.data&&(u.processData||typeof u.data=="string")&&(o+=(fr.test(o)?"&":"?")+u.data,delete u.data),u.cache===!1&&(o=o.replace(vo,"$1"),p=(fr.test(o)?"&":"?")+"_="+yf.guid+++p),u.url=o+p);u.ifModified&&(i.lastModified[o]&&e.setRequestHeader("If-Modified-Since",i.lastModified[o]),i.etag[o]&&e.setRequestHeader("If-None-Match",i.etag[o]));(u.data&&u.hasContent&&u.contentType!==!1||r.contentType)&&e.setRequestHeader("Content-Type",u.contentType);e.setRequestHeader("Accept",u.dataTypes[0]&&u.accepts[u.dataTypes[0]]?u.accepts[u.dataTypes[0]]+(u.dataTypes[0]!=="*"?", "+bf+"; q=0.01":""):u.accepts["*"]);for(g in u.headers)e.setRequestHeader(g,u.headers[g]);if(u.beforeSend&&(u.beforeSend.call(h,e,u)===!1||s))return e.abort();if(ft="abort",it.add(u.complete),e.done(u.success),e.fail(u.error),c=df(or,u,r,e),c){if(e.readyState=1,y&&nt.trigger("ajaxSend",[e,u]),s)return e;u.async&&u.timeout>0&&(d=n.setTimeout((function(){e.abort("timeout")}),u.timeout));try{s=!1;c.send(rt,b)}catch(et){if(s)throw et;b(-1,et)}}else b(-1,"No Transport");return e},getJSON:function(n,t,r){return i.get(n,t,r,"json")},getScript:function(n,t){return i.get(n,undefined,t,"script")}}),i.each(["get","post"],(function(n,t){i[t]=function(n,r,f,e){return u(r)&&(e=e||f,f=r,r=undefined),i.ajax(i.extend({url:n,type:t,dataType:e,data:r,success:f},i.isPlainObject(n)&&n))}})),i.ajaxPrefilter((function(n){for(var t in n.headers)t.toLowerCase()==="content-type"&&(n.contentType=n.headers[t]||"")})),i._evalUrl=function(n,t,r){return i.ajax({url:n,type:"GET",dataType:"script",cache:!0,"async":!1,global:!1,converters:{"text script":function(){}},dataFilter:function(n){i.globalEval(n,t,r)}})},i.fn.extend({wrapAll:function(n){var t;return this[0]&&(u(n)&&(n=n.call(this[0])),t=i(n,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var n=this;n.firstElementChild;)n=n.firstElementChild;return n})).append(this)),this},wrapInner:function(n){return u(n)?this.each((function(t){i(this).wrapInner(n.call(this,t))})):this.each((function(){var t=i(this),r=t.contents();r.length?r.wrapAll(n):t.append(n)}))},wrap:function(n){var t=u(n);return this.each((function(r){i(this).wrapAll(t?n.call(this,r):n)}))},unwrap:function(n){return this.parent(n).not("body").each((function(){i(this).replaceWith(this.childNodes)})),this}}),i.expr.pseudos.hidden=function(n){return!i.expr.pseudos.visible(n)},i.expr.pseudos.visible=function(n){return!!(n.offsetWidth||n.offsetHeight||n.getClientRects().length)},i.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(t){}},gf={0:200,1223:204},yt=i.ajaxSettings.xhr(),e.cors=!!yt&&"withCredentials"in yt,e.ajax=yt=!!yt,i.ajaxTransport((function(t){var i,r;if(e.cors||yt&&!t.crossDomain)return{send:function(u,f){var o,e=t.xhr();if(e.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)e[o]=t.xhrFields[o];t.mimeType&&e.overrideMimeType&&e.overrideMimeType(t.mimeType);ue||t.crossDomain||u["X-Requested-With"]||(u["X-Requested-With"]="XMLHttpRequest");for(o in u)e.setRequestHeader(o,u[o]);i=function(n){return function(){i&&(i=r=e.onload=e.onerror=e.onabort=e.ontimeout=e.onreadystatechange=null,n==="abort"?e.abort():n==="error"?typeof e.status!="number"?f(0,"error"):f(e.status,e.statusText):f(gf[e.status]||e.status,e.statusText,(e.responseType||"text")!=="text"||typeof e.responseText!="string"?{binary:e.response}:{text:e.responseText},e.getAllResponseHeaders()))}};e.onload=i();r=e.onerror=e.ontimeout=i("error");e.onabort!==undefined?e.onabort=r:e.onreadystatechange=function(){e.readyState===4&&n.setTimeout((function(){i&&r()}))};i=i("abort");try{e.send(t.hasContent&&t.data||null)}catch(s){if(i)throw s;}},abort:function(){i&&i()}}})),i.ajaxPrefilter((function(n){n.crossDomain&&(n.contents.script=!1)})),i.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(n){return i.globalEval(n),n}}}),i.ajaxPrefilter("script",(function(n){n.cache===undefined&&(n.cache=!1);n.crossDomain&&(n.type="GET")})),i.ajaxTransport("script",(function(n){if(n.crossDomain||n.scriptAttrs){var r,t;return{send:function(u,e){r=i("<script>").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on("load error",t=function(n){r.remove();t=null;n&&e(n.type==="error"?404:200,n.type)});f.head.appendChild(r[0])},abort:function(){t&&t()}}}})),cr=[],ci=/(=)\?(?=&|$)|\?\?/,i.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var n=cr.pop()||i.expando+"_"+yf.guid++;return this[n]=!0,n}}),i.ajaxPrefilter("json jsonp",(function(t,r,f){var e,o,s,h=t.jsonp!==!1&&(ci.test(t.url)?"url":typeof t.data=="string"&&(t.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&ci.test(t.data)&&"data");if(h||t.dataTypes[0]==="jsonp")return e=t.jsonpCallback=u(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,h?t[h]=t[h].replace(ci,"$1"+e):t.jsonp!==!1&&(t.url+=(fr.test(t.url)?"&":"?")+t.jsonp+"="+e),t.converters["script json"]=function(){return s||i.error(e+" was not called"),s[0]},t.dataTypes[0]="json",o=n[e],n[e]=function(){s=arguments},f.always((function(){o===undefined?i(n).removeProp(e):n[e]=o;t[e]&&(t.jsonpCallback=r.jsonpCallback,cr.push(e));s&&u(o)&&o(s[0]);s=o=undefined})),"script"})),e.createHTMLDocument=(function(){if(!f.implementation)return!1;var n=f.implementation.createHTMLDocument("").body;return n.innerHTML="<form><\/form><form><\/form>",n.childNodes.length===2})(),i.parseHTML=function(n,t,r){if(typeof n!="string")return[];typeof t=="boolean"&&(r=t,t=!1);var s,u,o;return(t||(e.createHTMLDocument?(t=f.implementation.createHTMLDocument(""),s=t.createElement("base"),s.href=f.location.href,t.head.appendChild(s)):t=f),u=vi.exec(n),o=!r&&[],u)?[t.createElement(u[1])]:(u=au([n],t,o),o&&o.length&&i(o).remove(),i.merge([],u.childNodes))},i.fn.load=function(n,t,r){var f,s,h,e=this,o=n.indexOf(" ");return o>-1&&(f=nt(n.slice(o)),n=n.slice(0,o)),u(t)?(r=t,t=undefined):t&&typeof t=="object"&&(s="POST"),e.length>0&&i.ajax({url:n,type:s||"GET",dataType:"html",data:t}).done((function(n){h=arguments;e.html(f?i("<div>").append(i.parseHTML(n)).find(f):n)})).always(r&&function(n,t){e.each((function(){r.apply(this,h||[n.responseText,t,n])}))}),this},i.expr.pseudos.animated=function(n){return i.grep(i.timers,(function(t){return n===t.elem})).length},i.offset={setOffset:function(n,t,r){var o,s,h,c,f,l,y,a=i.css(n,"position"),v=i(n),e={};a==="static"&&(n.style.position="relative");f=v.offset();h=i.css(n,"top");l=i.css(n,"left");y=(a==="absolute"||a==="fixed")&&(h+l).indexOf("auto")>-1;y?(o=v.position(),c=o.top,s=o.left):(c=parseFloat(h)||0,s=parseFloat(l)||0);u(t)&&(t=t.call(n,r,i.extend({},f)));t.top!=null&&(e.top=t.top-f.top+c);t.left!=null&&(e.left=t.left-f.left+s);"using"in t?t.using.call(n,e):v.css(e)}},i.fn.extend({offset:function(n){if(arguments.length)return n===undefined?this:this.each((function(t){i.offset.setOffset(this,n,t)}));var r,u,t=this[0];if(t)return t.getClientRects().length?(r=t.getBoundingClientRect(),u=t.ownerDocument.defaultView,{top:r.top+u.pageYOffset,left:r.left+u.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var n,u,f,t=this[0],r={top:0,left:0};if(i.css(t,"position")==="fixed")u=t.getBoundingClientRect();else{for(u=this.offset(),f=t.ownerDocument,n=t.offsetParent||f.documentElement;n&&(n===f.body||n===f.documentElement)&&i.css(n,"position")==="static";)n=n.parentNode;n&&n!==t&&n.nodeType===1&&(r=i(n).offset(),r.top+=i.css(n,"borderTopWidth",!0),r.left+=i.css(n,"borderLeftWidth",!0))}return{top:u.top-r.top-i.css(t,"marginTop",!0),left:u.left-r.left-i.css(t,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var n=this.offsetParent;n&&i.css(n,"position")==="static";)n=n.offsetParent;return n||g}))}}),i.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(n,t){var r="pageYOffset"===t;i.fn[n]=function(i){return w(this,(function(n,i,u){var f;if(it(n)?f=n:n.nodeType===9&&(f=n.defaultView),u===undefined)return f?f[t]:n[i];f?f.scrollTo(r?f.pageXOffset:u,r?u:f.pageYOffset):n[i]=u}),n,i,arguments.length)}})),i.each(["top","left"],(function(n,t){i.cssHooks[t]=bu(e.pixelPosition,(function(n,r){if(r)return r=dt(n,t),di.test(r)?i(n).position()[t]+"px":r}))})),i.each({Height:"height",Width:"width"},(function(n,t){i.each({padding:"inner"+n,content:t,"":"outer"+n},(function(r,u){i.fn[u]=function(f,e){var o=arguments.length&&(r||typeof f!="boolean"),s=r||(f===!0||e===!0?"margin":"border");return w(this,(function(t,r,f){var e;return it(t)?u.indexOf("outer")===0?t["inner"+n]:t.document.documentElement["client"+n]:t.nodeType===9?(e=t.documentElement,Math.max(t.body["scroll"+n],e["scroll"+n],t.body["offset"+n],e["offset"+n],e["client"+n])):f===undefined?i.css(t,r,s):i.style(t,r,f,s)}),t,o?f:undefined,o)}}))})),i.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(n,t){i.fn[t]=function(n){return this.on(t,n)}})),i.fn.extend({bind:function(n,t,i){return this.on(n,null,t,i)},unbind:function(n,t){return this.off(n,null,t)},delegate:function(n,t,i,r){return this.on(t,n,i,r)},undelegate:function(n,t,i){return arguments.length===1?this.off(n,"**"):this.off(t,n||"**",i)},hover:function(n,t){return this.mouseenter(n).mouseleave(t||n)}}),i.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(n,t){i.fn[t]=function(n,i){return arguments.length>0?this.on(t,null,n,i):this.trigger(t)}})),ne=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,i.proxy=function(n,t){var f,e,r;return(typeof t=="string"&&(f=n[t],t=n,n=f),!u(n))?undefined:(e=k.call(arguments,2),r=function(){return n.apply(t||this,e.concat(k.call(arguments)))},r.guid=n.guid=n.guid||i.guid++,r)},i.holdReady=function(n){n?i.readyWait++:i.ready(!0)},i.isArray=Array.isArray,i.parseJSON=JSON.parse,i.nodeName=l,i.isFunction=u,i.isWindow=it,i.camelCase=y,i.type=rt,i.now=Date.now,i.isNumeric=function(n){var t=i.type(n);return(t==="number"||t==="string")&&!isNaN(n-parseFloat(n))},i.trim=function(n){return n==null?"":(n+"").replace(ne,"")},typeof define=="function"&&define.amd&&
define("jquery",[],(function(){return i})),te=n.jQuery,ie=n.$,i.noConflict=function(t){return n.$===i&&(n.$=ie),t&&n.jQuery===i&&(n.jQuery=te),i},typeof t=="undefined"&&(n.jQuery=n.$=i),i}));"use strict";
/*!
 * Knockout JavaScript library v3.4.1
 * (c) The Knockout.js team - http://knockoutjs.com/
 * License: MIT (http://www.opensource.org/licenses/mit-license.php)
 */
(function(n){function i(n,t){return n.nodeType===t}function h(t,i){for(var r=t.split("."),u=n,f=0;f<r.length-1;f++)u=u[r[f]];u[r[r.length-1]]=i}function c(n,t,i){n[t]=i}function a(n,t){var i=n===null||typeof n in o;return i?n===t:!1}var s=typeof self.importScripts=="function",t=s?undefined:window.document,u,r,f,e,l,o,v;n.version="3.4.1";n.options={deferUpdates:!1,useOnlyNativeEvents:!1};n.isNodeType=i;n.exportSymbol=h;n.exportProperty=c;u=(function(){function n(n,t,i){this._target=n;this.callback=t;this.disposeCallback=i;this.isDisposed=!1}return n.prototype.dispose=function(){this.isDisposed=!0;this.disposeCallback()},n})();n.subscription=u,(function(t){function r(t){return typeof t=="string"&&(t=n.utils.stringTrim(t),t)?JSON&&JSON.parse?JSON.parse(t):new Function("return "+t)():null}function u(n){return n===null||n===undefined?"":n.trim?n.trim():n.toString().replace(/^\s+|\s+$/g,"")}function f(n){return i?Symbol(n):n}function e(n,t){return(n=n||"",t.length>n.length)?!1:n.substring(0,t.length)===t}function o(n){for(var i=[],t=0,r=n.length;t<r;t++)i.push(n[t]);return i}function s(n,t){var u,f,i,e,r;if(!n)return n;for(u={},f=Object.keys(n),i=0,e=f.length;i<e;i++)r=f[i],u[r]=t(n[r],r,n);return u}function h(t,i){var u,r;for(t=n.utils.unwrapObservable(t),i=n.utils.unwrapObservable(i),u=[],r=t;r<=i;r++)u.push(r);return u}var i=typeof Symbol=="function";t.parseJson=r;t.stringTrim=u;t.createSymbolOrString=f;t.stringStartsWith=e;t.makeArray=o;t.objectMap=s;t.range=h})(r=n.utils||(n.utils={})),(function(r){function h(n){var t=n.match(/^<([a-z]+)[ >]/);return t&&s[t[1]]||o}function c(i,r){r||(r=t);var e=r.parentWindow||r.defaultView||window,s=n.utils.stringTrim(i).toLowerCase(),u=r.createElement("div"),f=h(s),c=f[0],o="ignored<div>"+f[1]+i+f[2]+"<\/div>";for(typeof e.innerShiv=="function"?u.appendChild(e.innerShiv(o)):u.innerHTML=o;c--;)u=u.lastChild;return n.utils.makeArray(u.lastChild.childNodes)}function l(n,t){var u,r;if($.parseHTML)return $.parseHTML(n,t)||[];if(u=$.clean([n],t),u&&u[0]){for(r=u[0];r.parentNode&&!i(r.parentNode,11);)r=r.parentNode;r.parentNode&&r.parentNode.removeChild(r)}return u}function a(n,t){return $?l(n,t):c(n,t)}function v(t,i){var u,r;if(n.utils.emptyDomNode(t),i=n.utils.unwrapObservable(i),i!==null&&i!==undefined)if(typeof i!="string"&&(i=i.toString()),$)$(t).html(i);else for(u=n.utils.parseHtmlFragment(i,t.ownerDocument),r=0;r<u.length;r++)t.appendChild(u[r])}var o=[0,"",""],u=[1,"<table>","<\/table>"],f=[3,"<table><tbody><tr>","<\/tr><\/tbody><\/table>"],e=[1,"<select multiple='multiple'>","<\/select>"],s={thead:u,tbody:u,tfoot:u,tr:[2,"<table><tbody>","<\/tbody><\/table>"],td:f,th:f,option:e,optgroup:e};r.parseHtmlFragment=a;r.setHtml=v})(r=n.utils||(n.utils={})),(function(n){function i(){return((1+Math.random())*4294967296|0).toString(16).substring(1)}function r(){return i()+i()}function u(n){if(typeof n!="function")throw new Error("You can only pass a function to ko.memoization.memoize()");var i=r();return t[i]=n,"<!--[ko_memo:"+i+"]-->"}function f(n,i){var r=t[n];if(r===undefined)throw new Error("Couldn't find any memo with ID "+n+". Perhaps it's already been unmemoized.");try{return r.apply(null,i||[]),!0}finally{delete t[n]}}function e(n){var t=n.match(/^\[ko_memo:(.*?)\]$/);return t?t[1]:null}var t={};n.memoize=u;n.unmemoize=f;n.parseMemoText=e})(f=n.memoization||(n.memoization={})),(function(r){function h(n,t){for(var r,u=Object.keys(n),i=0,f=u.length;i<f;i++)r=u[i],t(r,n[r])}function v(t,i,r){var u=n.utils.arrayIndexOf(n.utils.peekObservable(t),i);u<0?r&&t.push(i):r||t.splice(u,1)}function y(n,t){if(n&&n.length){for(t=t.nodeType===8&&t.parentNode||t;n.length&&n[0].parentNode!==t;)n.splice(0,1);while(n.length>1&&n[n.length-1].parentNode!==t)n.length--;if(n.length>1){var i=n[0],r=n[n.length-1];for(n.length=0;i!==r;)n.push(i),i=i.nextSibling;n.push(r)}}return n}function p(t){while(t.firstChild)n.removeNode(t.firstChild)}function w(i){for(var r=n.utils.makeArray(i),e=r[0]&&r[0].ownerDocument||t,f=e.createElement("div"),u=0,o=r.length;u<o;u++)f.appendChild(n.cleanNode(r[u]));return f}function b(t,i){for(var u,f=[],r=0,e=t.length;r<e;r++)u=t[r].cloneNode(!0),f.push(i?n.cleanNode(u):u);return f}function k(t,i){if(n.utils.emptyDomNode(t),i)for(var r=0,u=i.length;r<u;r++)t.appendChild(i[r])}function d(t,i){var u=t.nodeType?[t]:t,e,o,r,f;if(u.length>0){for(e=u[0],o=e.parentNode,r=0,f=i.length;r<f;r++)o.insertBefore(i[r],e);for(r=0,f=u.length;r<f;r++)n.removeNode(u[r])}}function g(n,t){n.selected=t}function nt(n,t){if(n===t)return!0;if(i(n,11))return!1;if(t.contains)return t.contains(i(n,3)?n.parentNode:n);if(t.compareDocumentPosition)return(t.compareDocumentPosition(n)&16)==16;while(n&&n!==t)n=n.parentNode;return!!n}function tt(t){return!!t.ownerDocument.documentElement&&n.utils.domNodeIsContainedBy(t,t.ownerDocument.documentElement)}function it(t){return!!n.utils.arrayFirst(t,n.utils.domNodeIsAttachedToDocument)}function rt(n){return n&&n.tagName&&n.tagName.toLowerCase()}function ut(t){return n.onError?function(){try{return t.apply(this,arguments)}catch(i){n.onError&&n.onError(i);throw i;}}:t}function e(t,i){return window.setTimeout(n.utils.catchFunctionErrors(t),i)}function ft(t){e((function(){n.onError&&n.onError(t);throw t;}),0)}function et(n,t){n.name=t}function ot(){}function st(){}function ht(t,i){for(var u=n.utils.makeArray(t.getElementsByTagName("input")).concat(n.utils.makeArray(t.getElementsByTagName("textarea"))),e=typeof i=="string"?function(n){return n.name===i}:function(n){return i.test(n.name)},f=[],r=u.length-1;r>=0;r--)e(u[r])&&f.push(u[r]);return f}function ct(t,i,r){var u=n.utils.catchFunctionErrors(r);if(!n.options.useOnlyNativeEvents&&$)$(t).bind(i,u);else if(typeof t.addEventListener=="function")t.addEventListener(i,u,!1);else throw new Error("Browser doesn't support addEventListener or attachEvent");}function lt(t,i){if(n.utils.tagNameLower(t)!=="input"||!t.type||i.toLowerCase()!=="click")return!1;var r=t.type;return r==="checkbox"||r==="radio"}function at(i,r){var u,e,f;if(!(i&&i.nodeType))throw new Error("element must be a DOM node when calling triggerEvent");if(u=lt(i,r),n.options.useOnlyNativeEvents||!$||u)if(typeof t.createEvent=="function")if(typeof i.dispatchEvent=="function")e=s[r]||"HTMLEvents",f=t.createEvent(e),f.initEvent(r,!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,i),i.dispatchEvent(f);else throw new Error("The supplied element doesn't support dispatchEvent");else if(u&&i.click)i.click();else if(typeof i.fireEvent!="undefined")i.fireEvent("on"+r);else throw new Error("Browser doesn't support triggering events");else $(i).trigger(r)}function vt(t,i,r){var f;i&&(typeof t.classList=="object"?(f=t.classList[r?"add":"remove"],n.utils.arrayForEach(i.match(u),(function(n){f.call(t.classList,n)}))):typeof t.className.baseVal=="string"?o(t.className,"baseVal",i,r):o(t,"className",i,r))}function o(t,i,r,f){var e=t[i].match(u)||[];n.utils.arrayForEach(r.match(u),(function(t){n.utils.addOrRemoveItem(e,t,f)}));t[i]=e.join(" ")}function yt(t,i,r){if(!JSON||!JSON.stringify)throw new Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");return JSON.stringify(n.utils.unwrapObservable(t),i,r)}function pt(i,u,f){var a,c,l,s,o,v,h;f=f||{};var y=f.params||{},p=f.includeFields||r.fieldsIncludedWithJsonPost,w=i;if(typeof i=="object"&&n.utils.tagNameLower(i)==="form")for(a=i,w=a.action,c=p.length-1;c>=0;c--)for(l=n.utils.getFormFields(a,p[c]),s=l.length-1;s>=0;s--)y[l[s].name]=l[s].value;u=n.utils.unwrapObservable(u);o=t.createElement("form");o.style.display="none";o.action=w;o.method="post";for(v in u)h=t.createElement("input"),h.type="hidden",h.name=v,h.value=n.utils.stringifyJson(n.utils.unwrapObservable(u[v])),o.appendChild(h);n.utils.objectForEach(y,(function(n,i){var r=t.createElement("input");r.type="hidden";r.name=n;r.value=i;o.appendChild(r)}));t.body.appendChild(o);f.submitter?f.submitter(o):o.submit();e((function(){o.parentNode.removeChild(o)}),0)}function wt(n,t,i){if(n.length&&t.length)for(var u=void 0,o=void 0,r=void 0,f=void 0,e=void 0,u=o=0;(!i||u<i)&&(f=n[o]);++o){for(r=0;e=t[r];++r)if(f.value===e.value){f.moved=e.index;e.moved=f.index;t.splice(r,1);u=r=0;break}u+=r}}var c,l,u;(function(n){function r(n,r){var f=n[t],e=f&&f!=="null"&&i[f];if(!e){if(!r)return undefined;f=n[t]="ko"+u++;i[f]={}}return i[f]}function f(n,t){var i=r(n,!1);return i===undefined?undefined:i[t]}function e(n,t,i){if(i!==undefined||r(n,!1)!==undefined){var u=r(n,!0);u[t]=i}}function o(n){var r=n[t];return r?(delete i[r],n[t]=null,!0):!1}function s(){return u+++t}var u=0,t="__ko__"+(new Date).getTime(),i={};n.get=f;n.set=e;n.clear=o;n.nextKey=s})(c=r.domData||(r.domData={})),(function(t){function u(t,i){var u=n.utils.domData.get(t,r);return u===undefined&&i&&(u=[],n.utils.domData.set(t,r,u)),u}function s(t){n.utils.domData.set(t,r,undefined)}function f(t){var i=u(t,!1),r;if(i)for(i=i.slice(0),r=0;r<i.length;r++)i[r](t);n.utils.domData.clear(t);n.utils.domNodeDisposal.cleanExternalData(t);e[t.nodeType]&&h(t)}function h(n){for(var t,r=n.firstChild;t=r;)r=t.nextSibling,i(t,8)&&f(t)}function c(n,t){if(typeof t!="function")throw new Error("Callback must be a function");u(n,!0).push(t)}function l(t,i){var r=u(t,!1);r&&(n.utils.arrayRemoveItem(r,i),r.length===0&&s(t))}function a(t){var i,r,u;if(o[t.nodeType]&&(f(t),e[t.nodeType]))for(i=[],n.utils.arrayPushAll(i,t.getElementsByTagName("*")),r=0,u=i.length;r<u;r++)f(i[r]);return t}function v(t){n.cleanNode(t);t.parentNode&&t.parentNode.removeChild(t)}function y(n){$&&typeof $.cleanData=="function"&&$.cleanData([n])}var r=n.utils.domData.nextKey(),o={1:!0,8:!0,9:!0},e={1:!0,9:!0};t.addDisposeCallback=c;t.removeDisposeCallback=l;t.cleanNode=a;t.removeNode=v;t.cleanExternalData=y})(l=r.domNodeDisposal||(r.domNodeDisposal={}));r.fieldsIncludedWithJsonPost=["authenticity_token",/^__RequestVerificationToken(_.*)?$/];var f={},s={},a=navigator&&/Firefox\/2/i.test(navigator.userAgent)?"KeyboardEvent":"UIEvents";f[a]=["keyup","keydown","keypress"];f.MouseEvents=["click","dblclick","mousedown","mouseup","mousemove","mouseover","mouseout","mouseenter","mouseleave"];h(f,(function(n,t){if(t.length)for(var i=0,r=t.length;i<r;i++)s[t[i]]=n}));r.objectForEach=h;r.addOrRemoveItem=v;r.fixUpContinuousNodeArray=y;r.emptyDomNode=p;r.moveCleanedNodesToContainerElement=w;r.cloneNodes=b;r.setDomNodeChildren=k;r.replaceDomNodes=d;r.setOptionNodeSelectionState=g;r.domNodeIsContainedBy=nt;r.domNodeIsAttachedToDocument=tt;r.anyDomNodeIsAttachedToDocument=it;r.tagNameLower=rt;r.catchFunctionErrors=ut;r.setTimeout=e;r.deferError=ft;r.setElementName=et;r.forceRefresh=ot;r.ensureSelectElementIsRenderedCorrectly=st;r.getFormFields=ht;r.registerEventHandler=ct;r.triggerEvent=at;u=/\S+/g;r.toggleDomNodeCssClass=vt;r.toggleObjectClassPropertyString=o;r.stringifyJson=yt;r.postJson=pt;r.findMovesInArrayComparison=wt})(r=n.utils||(n.utils={}));n.cleanNode=n.utils.domNodeDisposal.cleanNode;n.removeNode=n.utils.domNodeDisposal.removeNode,(function(t){function o(){return++e}function u(n){r.push(i);i=n}function f(){i=r.pop()}function s(t){if(i){if(!n.isSubscribable(t))throw new Error("Only subscribable things can act as dependencies");i.callback.call(i.callbackTarget,t,t._id||(t._id=o()))}}function h(n,t,i){try{return u(),n.apply(t,i||[])}finally{f()}}function c(){if(i)return i.computed.getDependenciesCount()}function l(){if(i)return i.isInitial}var r=[],i,e=0;t.begin=u;t.end=f;t.registerDependency=s;t.ignore=h;t.getDependenciesCount=c;t.isInitial=l})(e=n.dependencyDetection||(n.dependencyDetection={}));n.computedContext=e,(function(t){function r(t,u){var f;if(t)if(i(t,8))f=n.memoization.parseMemoText(t.nodeValue),f!==null&&u.push({domNode:t,memoId:f});else if(i(t,1))for(var e=0,o=t.childNodes,s=o.length;e<s;e++)r(o[e],u)}function u(t,i){var e=[],f,s,u,o;for(r(t,e),f=0,s=e.length;f<s;f++)u=e[f].domNode,o=[u],i&&n.utils.arrayPushAll(o,i),n.memoization.unmemoize(e[f].memoId,o),u.nodeValue="",u.parentNode&&u.parentNode.removeChild(u)}t.unmemoizeDomNodeAndDescendants=u})(f=n.memoization||(n.memoization={})),(function(i){function o(){var t,i,e;if(r)for(t=r,i=0,e=void 0;u<r;)if(e=f[u++]){if(u>t){if(++i>=5e3){u=r;n.utils.deferError(Error("'Too much recursion' after processing "+i+" task groups."));break}t=r}try{e()}catch(o){n.utils.deferError(o)}}}function s(){o();u=r=f.length=0}function h(){n.tasks.scheduler(s)}function c(n){return r||h(),f[r++]=n,e++}function l(n){var t=n-(e-r);t>=u&&t<r&&(f[t]=null)}function a(){var n=r-u;return u=r=f.length=0,n}i.scheduler=window.MutationObserver?(function(n){var i=t.createElement("div");return new MutationObserver(n).observe(i,{attributes:!0}),function(){i.classList.toggle("foo")}})(s):function(n){setTimeout(n,0)};var f=[],r=0,e=1,u=0;i.runEarly=o;i.schedule=c;i.cancel=l;i.resetForTesting=a})(l=n.tasks||(n.tasks={}));o={undefined:1,boolean:1,number:1,string:1},(function(t){function u(t,i){t.throttleEvaluation=i;var r=null;return n.computed({read:t,write:function(u){clearTimeout(r);r=n.utils.setTimeout((function(){t(u)}),i)}})}function r(n,t){var r,u,f;typeof t=="number"?r=t:(r=t.timeout,u=t.method);n._deferUpdates=!1;f=u==="notifyWhenChangesStop"?i.debounce:i.throttle;n.limit((function(n){return f(n,r)}))}function f(t,i){if(i!==!0)throw new Error("The 'deferred' extender only accepts the value 'true', because it is not supported to turn deferral off once enabled.");t._deferUpdates||(t._deferUpdates=!0,t.limit((function(i){var r;return function(){n.tasks.cancel(r);r=n.tasks.schedule(i);t.notifySubscribers(undefined,"dirty")}})))}function e(n,t){n.equalityComparer=t==="always"?null:a}function o(t,i){function c(){if(!u){u=!0;e||(e=t.notifySubscribers,t.notifySubscribers=function(n,t){return u&&(t&&t!=="change"||++f),e.apply(this,arguments)});var n=[].concat(t.peek()||[]);r=null;o=t.subscribe((function(i){i=[].concat(i||[]);var u;t.hasSubscriptionsForEvent("arrayChange")&&(u=l(n,i));n=i;r=null;f=0;u&&u.length&&t.notifySubscribers(u,"arrayChange")}))}}function l(i,u){return(!r||f>1)&&(r=n.utils.compareArrays(i,u,t.compareArrayOptions)),r}if(t.compareArrayOptions={},i&&typeof i=="object"&&n.utils.extend(t.compareArrayOptions,i),t.compareArrayOptions.sparse=!0,!t.cacheDiffForKnownOperation){var u=!1,r=null,o,f=0,e,s=t.beforeSubscriptionAdd,h=t.afterSubscriptionRemove;t.beforeSubscriptionAdd=function(n){s&&s.call(t,n);n==="arrayChange"&&c()};t.afterSubscriptionRemove=function(n){h&&h.call(t,n);n!=="arrayChange"||t.hasSubscriptionsForEvent("arrayChange")||(o.dispose(),u=!1)};t.cacheDiffForKnownOperation=function(t,i,e){function c(n,t,i){return l[l.length]={status:n,value:t,index:i}}var o,y;if(u&&!f){var l=[],s=t.length,a=e.length,h=0;switch(i){case"push":h=s;case"unshift":for(o=0;o<a;o++)c("added",e[o],h+o);break;case"pop":h=s-1;case"shift":s&&c("deleted",t[h],h);break;case"splice":var v=Math.min(Math.max(0,e[0]<0?s+e[0]:e[0]),s),p=a===1?s:Math.min(v+(e[1]||0),s),w=v+a-2,d=Math.max(p,w),b=[],k=[];for(o=v,y=2;o<d;++o,++y)o<p&&k.push(c("deleted",t[o],o)),o<w&&b.push(c("added",e[y],o));n.utils.findMovesInArrayComparison(k,b);break;default:return}r=l}}}}var i={debounce:function(t,i){var r;return function(){clearTimeout(r);r=n.utils.setTimeout(t,i)}},throttle:function(t,i){var r;return function(){r||(r=n.utils.setTimeout((function(){r=undefined;t()}),i))}}};t.throttle=u;t.rateLimit=r,(function(n){n.tasks=i})(r=t.rateLimit||(t.rateLimit={}));t.deferred=f;t.notify=e;t.trackArrayChanges=o})(v=n.extenders||(n.extenders={}))})(ko||(ko={}));"use strict";
/*!
 * Knockout JavaScript library v3.4.1
 * (c) The Knockout.js team - http://knockoutjs.com/
 * License: MIT (http://www.opensource.org/licenses/mit-license.php)
 */
(function(n){function u(t){return n.hasPrototype(t,n.observable)}function f(n){return n&&typeof n.subscribe=="function"&&typeof n.notifySubscribers=="function"}function e(t){if(arguments.length===0)throw new Error("When calling ko.toJS, pass the object you want to convert.");return i(t,(function(t){for(var i=0;n.isObservable(t)&&i<10;i++)t=t();return t}))}function o(t,i,r){var u=n.toJS(t);return n.utils.stringifyJson(u,i,r)}function i(n,t,u){var e,f;return(u=u||new r,n=t(n),e=typeof n=="object"&&n!==null&&n!==undefined&&!(n instanceof RegExp)&&!(n instanceof Date)&&!(n instanceof String)&&!(n instanceof Number)&&!(n instanceof Boolean),!e)?n:(f=n instanceof Array?[]:{},u.save(n,f),s(n,(function(r){var e=t(n[r]),o;switch(typeof e){case"boolean":case"number":case"string":case"function":f[r]=e;break;case"object":case"undefined":o=u.get(e);f[r]=o!==undefined?o:i(e,t,u)}})),f)}function s(n,t){var i,r;if(n instanceof Array){for(i=0;i<n.length;i++)t(i);typeof n.toJSON=="function"&&t("toJSON")}else for(r in n)t(r)}var t,r;n.isObservable=u;n.isSubscribable=f,(function(t){function i(n,t){var r,i,f,u;if(t)for(r=Object.keys(t),i=0,f=r.length;i<f;i++)u=r[i],n[u]=t[u];return n}function r(n,t){for(var i=0,r=n.length;i<r;i++)t(n[i],i)}function u(n,t){if(typeof Array.prototype.indexOf=="function")return Array.prototype.indexOf.call(n,t);for(var i=0,r=n.length;i<r;i++)if(n[i]===t)return i;return-1}function f(n,t,i){for(var r=0,u=n.length;r<u;r++)if(t.call(i,n[r],r))return n[r];return null}function e(t,i){var r=n.utils.arrayIndexOf(t,i);r>0?t.splice(r,1):r===0&&t.shift()}function o(t){var r,i,u;for(t=t||[],r=[],i=0,u=t.length;i<u;i++)n.utils.arrayIndexOf(r,t[i])<0&&r.push(t[i]);return r}function s(n,t){var r,i,u;for(n=n||[],r=[],i=0,u=n.length;i<u;i++)r.push(t(n[i],i));return r}function h(n,t){var r,i,u;for(n=n||[],r=[],i=0,u=n.length;i<u;i++)t(n[i],i)&&r.push(n[i]);return r}function c(n,t){if(t instanceof Array)n.push.apply(n,t);else for(var i=0,r=t.length;i<r;i++)n.push(t[i]);return n}function l(t){return n.isObservable(t)?t():t}function a(t){return n.isObservable(t)?t.peek():t}t.extend=i;t.arrayForEach=r;t.arrayIndexOf=u;t.arrayFirst=f;t.arrayRemoveItem=e;t.arrayGetDistinctValues=o;t.arrayMap=s;t.arrayFilter=h;t.arrayPushAll=c;t.unwrapObservable=l;t.peekObservable=a})(t=n.utils||(n.utils={})),(function(t){function f(n,t,f){return f=typeof f=="boolean"?{dontLimitMoves:f}:f||{},n=n||[],t=t||[],n.length<t.length?u(n,t,i,r,f):u(t,n,r,i,f)}function u(t,i,r,u,f){for(var p=Math.min,it=Math.max,l=[],c=t.length,e,a=i.length,rt=a-c||1,w=c+a+1,s,v,b,k,d,g,o=0;o<=c;o++)for(v=s,l.push(s=[]),b=p(a,o+rt),k=it(0,o-1),e=k;e<=b;e++)e?o?t[o-1]===i[e-1]?s[e]=v[e-1]:(d=v[e]||w,g=s[e-1]||w,s[e]=p(d,g)+1):s[e]=e+1:s[e]=o+1;var h=[],y,nt=[],tt=[];for(o=c,e=a;o||e;)y=l[o][e]-1,e&&y===l[o][e-1]?nt.push(h[h.length]={status:r,value:i[--e],index:e}):o&&y===l[o-1][e]?tt.push(h[h.length]={status:u,value:t[--o],index:o}):(--e,--o,f.sparse||h.push({status:"retained",value:i[e]}));return n.utils.findMovesInArrayComparison(tt,nt,!f.dontLimitMoves&&c*10),h.reverse()}var i="added",r="deleted";t.compareArrays=f})(t=n.utils||(n.utils={}));n.unwrap=n.utils.unwrapObservable;n.toJS=e;n.toJSON=o;r=(function(){function t(){this.keys=[];this.values=[]}return t.prototype.save=function(t,i){var r=n.utils.arrayIndexOf(this.keys,t);r>=0?this.values[r]=i:(this.keys.push(t),this.values.push(i))},t.prototype.get=function(t){var i=n.utils.arrayIndexOf(this.keys,t);return i>=0?this.values[i]:undefined},t})();n.ignoreDependencies=n.dependencyDetection.ignore})(ko||(ko={}));
/*!
 * Knockout JavaScript library v3.4.1
 * (c) The Knockout.js team - http://knockoutjs.com/
 * License: MIT (http://www.opensource.org/licenses/mit-license.php)
 */
(function(){(function(n){var i=this||(0,eval)("this"),t=i.Object;(function(n){n(i.ko)})((function(i){function a(n,t){var i=n===null||typeof n in v;return i?n===t:!1}function y(n){var t=this;return n&&r.utils.objectForEach(n,(function(n,i){var u=r.extenders[n];typeof u=="function"&&(t=u(t,i)||t)})),t}function p(n,t){t&&t!==c?t==="beforeChange"?this._limitBeforeChange(n):this._origNotifySubscribers(n,t):this._limitChange(n)}function w(n,t){t!==null&&t.dispose&&t.dispose()}function b(n,t){var i=this.computedObservable,r=i[u];r.isDisposed||(this.disposalCount&&this.disposalCandidates[t]?(i.addDependencyTracking(t,n,this.disposalCandidates[t]),this.disposalCandidates[t]=null,--this.disposalCount):r.dependencyTracking[t]||i.addDependencyTracking(t,n,r.isSleeping?{_target:n}:i.subscribeToDependency(n)))}var r=typeof i!="undefined"?i:{},v={undefined:1,boolean:1,number:1,string:1},c,e,s,o,h,u,l;r.subscribable=function(){t.setPrototypeOf(this,e);e.init(this)};c="change";e={init:function(n){n._subscriptions={};n._versionNumber=1},subscribe:function(n,t,i){var u=this,e,f;return i=i||c,e=t?n.bind(t):n,f=new r.subscription(u,e,function(){r.utils.arrayRemoveItem(u._subscriptions[i],f);u.afterSubscriptionRemove&&u.afterSubscriptionRemove(i)}),u.beforeSubscriptionAdd&&u.beforeSubscriptionAdd(i),u._subscriptions[i]||(u._subscriptions[i]=[]),u._subscriptions[i].push(f),f},notifySubscribers:function(n,t){if(t=t||c,t===c&&this.updateVersion(),this.hasSubscriptionsForEvent(t))try{r.dependencyDetection.begin();for(var f=this._subscriptions[t].slice(0),u=0,i;i=f[u];++u)i.isDisposed||i.callback(n)}finally{r.dependencyDetection.end()}},getVersion:function(){return this._versionNumber},hasChanged:function(n){return this.getVersion()!==n},updateVersion:function(){++this._versionNumber},limit:function(n){var t=this,o=r.isObservable(t),u,f,i,s="beforeChange",e;t._origNotifySubscribers||(t._origNotifySubscribers=t.notifySubscribers,t.notifySubscribers=p);e=n((function(){t._notificationIsPending=!1;o&&i===t&&(i=t());u=!1;t.isDifferent(f,i)&&t._origNotifySubscribers(f=i)}));t._limitChange=function(n){t._notificationIsPending=u=!0;i=n;e()};t._limitBeforeChange=function(n){u||(f=n,t._origNotifySubscribers(n,s))}},hasSubscriptionsForEvent:function(n){return this._subscriptions[n]&&this._subscriptions[n].length},getSubscriptionsCount:function(n){if(n)return this._subscriptions[n]&&this._subscriptions[n].length||0;var t=0;return r.utils.objectForEach(this._subscriptions,(function(n,i){n!=="dirty"&&(t+=i.length)})),t},isDifferent:function(n,t){return!this.equalityComparer||!this.equalityComparer(n,t)},extend:y};r.exportProperty(e,"subscribe",e.subscribe);r.exportProperty(e,"extend",e.extend);r.exportProperty(e,"getSubscriptionsCount",e.getSubscriptionsCount);t.setPrototypeOf(e,Function.prototype);r.subscribable.fn=e;r.exportSymbol("subscribable",r.subscribable);s=r.utils.createSymbolOrString("_latestValue");r.observable=function(n){function i(){return arguments.length>0?(i.isDifferent(i[s],arguments[0])&&(i.valueWillMutate(),i[s]=arguments[0],i.valueHasMutated()),this):(r.dependencyDetection.registerDependency(i),i[s])}return i[s]=n,r.subscribable.fn.init(i),t.setPrototypeOf(i,o),r.options.deferUpdates&&r.extenders.deferred(i,!0),i};o={equalityComparer:a,peek:function(){return this[s]},valueHasMutated:function(){this.notifySubscribers(this[s])},valueWillMutate:function(){this.notifySubscribers(this[s],"beforeChange")}};t.setPrototypeOf(o,r.subscribable.fn);h=r.observable.protoProperty="__ko_proto__";o[h]=r.observable;r.hasPrototype=function(t,i){return t===null||t===n||t[h]===n?!1:t[h]===i?!0:r.hasPrototype(t[h],i)};r.isWriteableObservable=function(n){return typeof n=="function"&&n[h]===r.observable?!0:typeof n=="function"&&n[h]===r.dependentObservable&&n.hasWriteFunction?!0:!1};r.exportSymbol("observable",r.observable);r.exportSymbol("isObservable",r.isObservable);r.exportSymbol("isWriteableObservable",r.isWriteableObservable);r.exportSymbol("isWritableObservable",r.isWriteableObservable);r.exportSymbol("observable.fn",o);r.exportProperty(o,"peek",o.peek);r.exportProperty(o,"valueHasMutated",o.valueHasMutated);r.exportProperty(o,"valueWillMutate",o.valueWillMutate);r.observableArray=function(n){if(n=n||[],typeof n!="object"||!("length"in n))throw new Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");var i=r.observable(n);return t.setPrototypeOf(i,r.observableArray.fn),i.extend({trackArrayChanges:!0})};r.observableArray.fn={remove:function(n){for(var f,u=this.peek(),i=[],e=typeof n=="function"&&!r.isObservable(n)?n:function(t){return t===n},t=0;t<u.length;t++)f=u[t],e(f)&&(i.length===0&&this.valueWillMutate(),i.push(f),u.splice(t,1),t--);return i.length&&this.valueHasMutated(),i},removeAll:function(t){if(t===n){var i=this.peek(),u=i.slice(0);return this.valueWillMutate(),i.splice(0,i.length),this.valueHasMutated(),u}return t?this.remove((function(n){return r.utils.arrayIndexOf(t,n)>=0})):[]},destroy:function(n){var i=this.peek(),f=typeof n=="function"&&!r.isObservable(n)?n:function(t){return t===n},t,u;for(this.valueWillMutate(),t=i.length-1;t>=0;t--)u=i[t],f(u)&&(i[t]._destroy=!0);this.valueHasMutated()},destroyAll:function(t){return t===n?this.destroy((function(){return!0})):t?this.destroy((function(n){return r.utils.arrayIndexOf(t,n)>=0})):[]},indexOf:function(n){var t=this();return r.utils.arrayIndexOf(t,n)},replace:function(n,t){var i=this.indexOf(n);i>=0&&(this.valueWillMutate(),this.peek()[i]=t,this.valueHasMutated())}};t.setPrototypeOf(r.observableArray.fn,r.observable.fn);r.utils.arrayForEach(["pop","push","reverse","shift","sort","splice","unshift"],(function(n){r.observableArray.fn[n]=function(){var t=this.peek(),i;return this.valueWillMutate(),this.cacheDiffForKnownOperation(t,n,[].slice.apply(arguments)),i=t[n].apply(t,arguments),this.valueHasMutated(),i===t?this:i}}));r.utils.arrayForEach(["slice"],(function(n){r.observableArray.fn[n]=function(){var t=this();return t[n].apply(t,arguments)}}));r.exportSymbol("observableArray",r.observableArray);u=r.utils.createSymbolOrString("_state");r.computed=r.dependentObservable=function(i,e,o){function h(){if(arguments.length>0){if(typeof c=="function")c.apply(s.evaluatorFunctionTarget,arguments);else throw new Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return this}return r.dependencyDetection.registerDependency(h),(s.isStale||s.isSleeping&&h.haveDependenciesChanged())&&h.evaluateImmediate(),s.latestValue}if(typeof i=="object"?o=i:(o=o||{},i&&(o.read=i)),typeof o.read!="function")throw Error("Pass a function that returns the value of the ko.computed");var c=o.write,s={latestValue:n,isStale:!0,isBeingEvaluated:!1,suppressDisposalUntilDisposeWhenReturnsFalse:!1,isDisposed:!1,pure:!1,isSleeping:!1,readFunction:o.read,evaluatorFunctionTarget:e||o.owner,disposeWhenNodeIsRemoved:o.disposeWhenNodeIsRemoved||o.disposeWhenNodeIsRemoved||null,disposeWhen:o.disposeWhen||o.disposeWhen,domNodeDisposalCallback:null,dependencyTracking:{},dependenciesCount:0,evaluationTimeoutInstance:null};return h[u]=s,h.hasWriteFunction=typeof c=="function",r.subscribable.fn.init(h),t.setPrototypeOf(h,f),o.pure?(s.pure=!0,s.isSleeping=!0,r.utils.extend(h,k)):o.deferEvaluation&&r.utils.extend(h,d),r.options.deferUpdates&&r.extenders.deferred(h,!0),s.disposeWhenNodeIsRemoved&&(s.suppressDisposalUntilDisposeWhenReturnsFalse=!0,s.disposeWhenNodeIsRemoved.nodeType||(s.disposeWhenNodeIsRemoved=null)),s.isSleeping||o.deferEvaluation||h.evaluateImmediate(),s.disposeWhenNodeIsRemoved&&h.isActive()&&r.utils.domNodeDisposal.addDisposeCallback(s.disposeWhenNodeIsRemoved,s.domNodeDisposalCallback=function(){h.dispose()}),h};var f={equalityComparer:a,getDependenciesCount:function(){return this[u].dependenciesCount},addDependencyTracking:function(n,t,i){if(this[u].pure&&t===this)throw Error("A 'pure' computed must not be called recursively");this[u].dependencyTracking[n]=i;i._order=this[u].dependenciesCount++;i._version=t.getVersion()},haveDependenciesChanged:function(){for(var r,n,f=this[u].dependencyTracking,e=t.keys(f),i=0,o=e.length;i<o;i++)if(r=e[i],n=f[r],n._target.hasChanged(n._version))return!0},markDirty:function(){this._evalDelayed&&!this[u].isBeingEvaluated&&this._evalDelayed()},isActive:function(){return this[u].isStale||this[u].dependenciesCount>0},respondToChange:function(){this._notificationIsPending||this.evaluatePossiblyAsync()},subscribeToDependency:function(n){if(n._deferUpdates&&!this[u].disposeWhenNodeIsRemoved){var t=n.subscribe(this.markDirty,this,"dirty"),i=n.subscribe(this.respondToChange,this);return{_target:n,dispose:function(){t.dispose();i.dispose()}}}return n.subscribe(this.evaluatePossiblyAsync,this)},evaluatePossiblyAsync:function(){var n=this,t=n.throttleEvaluation;t&&t>=0?(clearTimeout(this[u].evaluationTimeoutInstance),this[u].evaluationTimeoutInstance=r.utils.setTimeout((function(){n.evaluateImmediate(!0)}),t)):n._evalDelayed?n._evalDelayed():n.evaluateImmediate(!0)},evaluateImmediate:function(n){var i=this,t=i[u],f=t.disposeWhen,e=!1;if(!t.isBeingEvaluated&&!t.isDisposed){if(t.disposeWhenNodeIsRemoved&&!r.utils.domNodeIsAttachedToDocument(t.disposeWhenNodeIsRemoved)||f&&f()){if(!t.suppressDisposalUntilDisposeWhenReturnsFalse){i.dispose();return}}else t.suppressDisposalUntilDisposeWhenReturnsFalse=!1;t.isBeingEvaluated=!0;try{e=this.evaluateImmediate_CallReadWithDependencyDetection(n)}finally{t.isBeingEvaluated=!1}return t.dependenciesCount||i.dispose(),e}},evaluateImmediate_CallReadWithDependencyDetection:function(t){var f=this,i=f[u],o=!1,s=i.pure?n:!i.dependenciesCount,h={computedObservable:f,disposalCandidates:i.dependencyTracking,disposalCount:i.dependenciesCount},e;return r.dependencyDetection.begin({callbackTarget:h,callback:b,computed:f,isInitial:s}),i.dependencyTracking={},i.dependenciesCount=0,e=this.evaluateImmediate_CallReadThenEndDependencyDetection(i,h),f.isDifferent(i.latestValue,e)&&(i.isSleeping||f.notifySubscribers(i.latestValue,"beforeChange"),i.latestValue=e,i.isSleeping?f.updateVersion():t&&f.notifySubscribers(i.latestValue),o=!0),s&&f.notifySubscribers(i.latestValue,"awake"),o},evaluateImmediate_CallReadThenEndDependencyDetection:function(n,t){try{var i=n.readFunction;return n.evaluatorFunctionTarget?i.call(n.evaluatorFunctionTarget):i()}finally{r.dependencyDetection.end();t.disposalCount&&!n.isSleeping&&r.utils.objectForEach(t.disposalCandidates,w);n.isStale=!1}},peek:function(){var n=this[u];return(n.isStale&&!n.dependenciesCount||n.isSleeping&&this.haveDependenciesChanged())&&this.evaluateImmediate(),n.latestValue},limit:function(n){r.subscribable.fn.limit.call(this,n);this._evalDelayed=function(){this._limitBeforeChange(this[u].latestValue);this[u].isStale=!0;this._limitChange(this)}},dispose:function(){var n=this[u];!n.isSleeping&&n.dependencyTracking&&r.utils.objectForEach(n.dependencyTracking,(function(n,t){t.dispose&&t.dispose()}));n.disposeWhenNodeIsRemoved&&n.domNodeDisposalCallback&&r.utils.domNodeDisposal.removeDisposeCallback(n.disposeWhenNodeIsRemoved,n.domNodeDisposalCallback);n.dependencyTracking=null;n.dependenciesCount=0;n.isDisposed=!0;n.isStale=!1;n.isSleeping=!1;n.disposeWhenNodeIsRemoved=null}},k={beforeSubscriptionAdd:function(n){var i=this,t=i[u],f;!t.isDisposed&&t.isSleeping&&n=="change"&&(t.isSleeping=!1,t.isStale||i.haveDependenciesChanged()?(t.dependencyTracking=null,t.dependenciesCount=0,t.isStale=!0,i.evaluateImmediate()&&i.updateVersion()):(f=[],r.utils.objectForEach(t.dependencyTracking,(function(n,t){f[t._order]=n})),r.utils.arrayForEach(f,(function(n,r){var f=t.dependencyTracking[n],u=i.subscribeToDependency(f._target);u._order=r;u._version=f._version;t.dependencyTracking[n]=u}))),t.isDisposed||i.notifySubscribers(t.latestValue,"awake"))},afterSubscriptionRemove:function(t){var i=this[u];i.isDisposed||t!="change"||this.hasSubscriptionsForEvent("change")||(r.utils.objectForEach(i.dependencyTracking,(function(n,t){t.dispose&&(i.dependencyTracking[n]={_target:t._target,_order:t._order,_version:t._version},t.dispose())})),i.isSleeping=!0,this.notifySubscribers(n,"asleep"))},getVersion:function(){var n=this[u];return n.isSleeping&&(n.isStale||this.haveDependenciesChanged())&&this.evaluateImmediate(),r.subscribable.fn.getVersion.call(this)}},d={beforeSubscriptionAdd:function(n){(n=="change"||n=="beforeChange")&&this.peek()}};t.setPrototypeOf(f,r.subscribable.fn);l=r.observable.protoProperty;r.computed[l]=r.observable;f[l]=r.computed;r.isComputed=function(n){return r.hasPrototype(n,r.computed)};r.isPureComputed=function(n){return r.hasPrototype(n,r.computed)&&n[u]&&n[u].pure};r.exportSymbol("computed",r.computed);r.exportSymbol("dependentObservable",r.computed);r.exportSymbol("isComputed",r.isComputed);r.exportSymbol("isPureComputed",r.isPureComputed);r.exportSymbol("computed.fn",f);r.exportProperty(f,"peek",f.peek);r.exportProperty(f,"dispose",f.dispose);r.exportProperty(f,"isActive",f.isActive);r.exportProperty(f,"getDependenciesCount",f.getDependenciesCount);r.pureComputed=function(n,t){return typeof n=="function"?r.computed(n,t,{pure:!0}):(n=r.utils.extend({},n),n.pure=!0,r.computed(n,t))};r.exportSymbol("pureComputed",r.pureComputed)}))})()})();
/*! Knockout projections plugin - version 1.1.0
------------------------------------------------------------------------------
Copyright (c) Microsoft Corporation
All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 
THIS CODE IS PROVIDED *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE, MERCHANTABLITY OR NON-INFRINGEMENT.
See the Apache Version 2.0 License for specific language governing permissions and limitations under the License.
------------------------------------------------------------------------------
*/
(function(n){function t(n,t,i,r,u,f,e){this.inputItem=t;this.stateArrayIndex=i;this.mappingOptions=u;this.arrayOfState=f;this.outputObservableArray=e;this.outputArray=this.outputObservableArray.peek();this.isIncluded=null;this.suppressNotification=!1;this.outputArrayIndex=n.observable(r);this.disposeFuncFromMostRecentMapping=null;this.mappedValueComputed=n.computed(this.mappingEvaluator,this);this.mappedValueComputed.subscribe(this.onMappingResultChanged,this);this.previousMappedValue=this.mappedValueComputed.peek()}function o(n,t){if(!n)return null;switch(n.status){case"added":return n.index;case"deleted":return n.index+t;default:throw new Error("Unknown diff status: "+n.status);}}function s(n,i,r,u,f,e,o,s,h){var l=typeof i.moved=="number",c=l?r[i.moved]:new t(n,i.value,u,f,e,o,s);return o.splice(u,0,c),c.isIncluded&&h.splice(f,0,c.mappedValueComputed.peek()),l&&(c.stateArrayIndex=u,c.setOutputArrayIndexSilently(f)),c}function h(n,t,i,r,u){var f=t.splice(i,1)[0];f.isIncluded&&u.splice(r,1);typeof n.moved!="number"&&f.dispose()}function c(n,t,i){return n.stateArrayIndex=t,n.setOutputArrayIndexSilently(i),i+(n.isIncluded?1:0)}function l(n,t){for(var i,u={},r=0;r<n.length;r++)i=n[r],i.status==="added"&&typeof i.moved=="number"&&(u[i.moved]=t[i.moved]);return u}function a(n,t,i){return i.length&&t[n.index]?t[n.index].outputArrayIndex.peek():i.length}function v(n,t,i,r,u,f){return t.subscribe((function(t){var v,b;if(t.length){var k=l(t,i),w=0,e=t[0],p=0,y=e&&a(e,i,r);for(v=e.index;e||v<i.length;v++)if(o(e,p)===v){switch(e.status){case"added":b=s(n,e,k,v,y,f,i,u,r);b.isIncluded&&y++;p++;break;case"deleted":h(e,i,v,y,r);p--;v--;break;default:throw new Error("Unknown diff status: "+e.status);}w++;e=t[w]}else v<i.length&&(y=c(i[v],v,y));u.valueHasMutated()}}),null,"arrayChange")}function u(n,i){var c=this,u=[],e=[],s=n.observableArray(e),l=c.peek(),r;if(typeof i=="function"&&(i={mapping:i}),i.mappingWithDisposeCallback){if(i.mapping||i.disposeItem)throw new Error("'mappingWithDisposeCallback' cannot be used in conjunction with 'mapping' or 'disposeItem'.");}else if(!i.mapping)throw new Error("Specify either 'mapping' or 'mappingWithDisposeCallback'.");for(r=0;r<l.length;r++){var a=l[r],h=new t(n,a,r,e.length,i,u,s),y=h.mappedValueComputed.peek();u.push(h);h.isIncluded&&e.push(y)}var p=v(n,c,u,e,s,i),o=n.computed(s).extend({trackArrayChanges:!0}),w=o.dispose;return o.dispose=function(){p.dispose();n.utils.arrayForEach(u,(function(n){n.dispose()}));w.call(this,arguments)},f(n,o),o}function y(n,t){return u.call(this,n,(function(n){return t(n)?n:i}))}function p(n){function t(n,t){return function(){return t.apply(this,[n].concat(Array.prototype.slice.call(arguments,0)))}}n[r]={map:t(n,u),filter:t(n,y)}}function f(n,t){return n.utils.extend(t,n[r]),t}function e(n){n.projections={_exclusionMarker:i};p(n);f(n,n.observableArray.fn)}function w(){if(typeof module!="undefined"&&typeof module.exports!="undefined"){var t=require("knockout");e(t);module.exports=t}else"ko"in n&&e(n.ko)}var i={},r;t.prototype.dispose=function(){this.mappedValueComputed.dispose();this.disposeResultFromMostRecentEvaluation()};t.prototype.disposeResultFromMostRecentEvaluation=function(){if(this.disposeFuncFromMostRecentMapping&&(this.disposeFuncFromMostRecentMapping(),this.disposeFuncFromMostRecentMapping=null),this.mappingOptions.disposeItem){var n=this.mappedValueComputed();this.mappingOptions.disposeItem(n)}};t.prototype.mappingEvaluator=function(){var n,t,r;if(this.isIncluded!==null&&this.disposeResultFromMostRecentEvaluation(),this.mappingOptions.mapping)n=this.mappingOptions.mapping(this.inputItem,this.outputArrayIndex);else if(this.mappingOptions.mappingWithDisposeCallback){if(t=this.mappingOptions.mappingWithDisposeCallback(this.inputItem,this.outputArrayIndex),!("mappedValue"in t))throw new Error("Return value from mappingWithDisposeCallback should have a 'mappedItem' property.");n=t.mappedValue;this.disposeFuncFromMostRecentMapping=t.dispose}else throw new Error("No mapping callback given.");return r=n!==i,this.isIncluded!==r&&(this.isIncluded!==null&&this.moveSubsequentItemsBecauseInclusionStateChanged(r),this.isIncluded=r),n};t.prototype.onMappingResultChanged=function(n){n!==this.previousMappedValue&&(this.isIncluded&&this.outputArray.splice(this.outputArrayIndex.peek(),1,n),this.suppressNotification||this.outputObservableArray.valueHasMutated(),this.previousMappedValue=n)};t.prototype.moveSubsequentItemsBecauseInclusionStateChanged=function(n){var r=this.outputArrayIndex.peek(),t,i;if(n)for(this.outputArray.splice(r,0,null),t=this.stateArrayIndex+1;t<this.arrayOfState.length;t++)i=this.arrayOfState[t],i.setOutputArrayIndexSilently(i.outputArrayIndex.peek()+1);else for(this.outputArray.splice(r,1),t=this.stateArrayIndex+1;t<this.arrayOfState.length;t++)i=this.arrayOfState[t],i.setOutputArrayIndexSilently(i.outputArrayIndex.peek()-1)};t.prototype.setOutputArrayIndexSilently=function(n){this.suppressNotification=!0;this.outputArrayIndex(n);this.suppressNotification=!1};r="_ko.projections.cache";w()})(this),
(function(){var n=window;n.performance.mark("OssEnd");fx.bootstrapTelemetry.ossFxScriptsEnd=fx.getTimestamp()})(),
(function(n){function ri(n,t){return n&&t&&n.substring(n.length-t.length)===t}function t(){return ai.create(null)}function f(n){return n?ai.keys(n):[]}function er(n){return n+(nr.test(n)?"":".js")}function ui(n){return[].concat.apply([],or(n).map((function(n){return ft[n]||[]})))}function or(n){var t=[n];return ri(n,"/index")?t.push(n.substring(0,n.length-6)):(t.push(n+"/index"),ri(n,"/lib")||t.push(n+"/lib/index")),t}function w(n,t,i,r){var u,c,f,s,e,o,h,l;if(r===void 0&&(r=rr),u=i[n],!u)for(c=or(n),f=0,s=c;f<s.length;f++)if(e=s[f],u=i[e],u){bt[n]=e.substring(0,e.lastIndexOf("/")+1);break}return u?(yi[n]=!0,h=nr.test(u)||gr.test(u),l=t||h||u.indexOf("?")>-1?"":".js",u=(h||nu.test(u)?"":r)+u+l):dr.test(n)?(u=n,pi[n]=!0):(o="",n.split("/").reduce((function(n,t){var r=(n&&t&&n+"/"||n)+t;return u&&(o+=t&&"/"+t),i[r]&&(u=i[r],o=""),r}),""),u=((u||"")+o||(n.charAt(0)==="/"||/^[\w+.-]+:/.test(n)?"":r)+n)+(t?"":".js")),u}function sr(n,t,i){u[n]||(u[y]?li(n,[],y):i||l(n,t,null,'Module "'.concat(n,'" wasn\'t defined explicitly or anonymously in downloaded file "').concat(t,'"; trying fallback path.')));i&&i()}function hr(n,t){try{n()}catch(r){var i="(Unserializable)";try{i=JSON.stringify(r,(function(n,t){return t instanceof Error?{message:t.message,stack:t.stack}:t}))}catch(n){}t(i)}}function cr(t,i,r){var u,o,f;dt?hr((function(){n.importScripts(i);sr(t,i,r)}),(function(n){l(t,i,r,'self.importscripts failed for "'.concat(t,'" at "').concat(i,'" with error ').concat(n,", retrying."),{warn:1})})):(u=e.createElement("script"),u.setAttribute("data-requiremodule",t),u.async=!0,u.src=i,u.crossOrigin="anonymous",o=setTimeout((function(){l(t,u.src,r,'define for "'.concat(t,'" wasn\'t called because of a script timeout for "{').concat(i,'}", trying Ajax call.'),{warn:1,status:ht})}),ir),u.onerror=function(n){clearTimeout(o);var f=n&&n.target&&"[".concat(n.target.src,"]")||"{".concat(i,"}");l(t,u.src,r,'define for "'.concat(t,'" wasn\'t called because of a script error for "').concat(f,'", trying Ajax call.'),{warn:1})},u.onload=function(){clearTimeout(o);sr(t,i,r)},ii&&ii(u,lt,t,i),ni&&(f=e.createElement("link"),f.rel="preload",f.as="script",f.href=u.src,f.crossOrigin="anonymous",p.appendChild(f)),p.appendChild(u))}function fi(n,t,i){if(i===void 0&&(i={}),!(n in r)){var u=new Error(t);u.data=__assign({moduleId:n},i);i.skipLogging||s(n,u,0);hi(n,null,u)}}function lr(t){return t&&(t.indexOf("data:")===0||t.indexOf("blob:")===0)?c.resolve({status:200}):c.race([n.fetch(t).then((function(n){return{status:n.status,message:function(){return n.text()}}})),new c(function(n){setTimeout((function(){return n({status:ht,message:function(){return c.resolve("Internal timeout")}})}),ir)}),])}function ei(n){return n&&new URL(n).hostname}function fu(n){var t=(rt[n]||[]).shift();return t?rt[t]=rt[n]:t=!tr.test(n)&&n+"".concat(tu.test(n)?"&":"?","retryAttempt=").concat(1+br()),t}function oi(n,t){rt[er(n)]=t.map(er)}function l(t,i,r,u,f){var o,l,a;f===void 0&&(f={});var c=f.status===ht,h=ei(i),v=c&&di.has(h);if(c&&di.add(h),o=fu(i),o){if(c&&ei(o)!==h&&kt.add(h),v||s(t,u,f.warn),tr.test(o)){if(e.visibilityState==="hidden"){l=function(){e.visibilityState==="visible"&&(n.removeEventListener("visibilitychange",l),b(t,o,r,!0))};n.addEventListener("visibilitychange",l);return}if(!n.navigator.onLine){a=function(){n.removeEventListener("online",a);b(t,o,r,!0)};n.addEventListener("online",a);return}}b(t,o,r,!0)}else fi(t,u,__assign(__assign({},f),{skipLogging:v}))}function eu(n,t,i){lr(t).then((function(r){r.status===200?cr(n,t,i):l(n,t,i,"Couldn't load \"".concat(n,'"; error code ').concat(r.status),{status:r.status,moduleUrl:t})}),(function(r){l(n,t,i,"Couldn't load \"".concat(n,'"; error code 0'),{status:0,moduleUrl:t,error:r})}))}function si(n,t){if(ti(n),!i[n]){var r,u;i[n]={preorderPromise:new c(function(f,e){r=f;t&&(r.error=t);u=function(t){t=t||"[Unknown error]";i[n].rejected=t;e(t)}}),resolve:r,reject:u}}return i[n]}function hi(n,t,u){ti(n,!0);u||(r[n]=t);var f=i[n];f&&(u?f.reject(u):f.resolve(t))}function ar(n){var t=n.indexOf("!");if(t>-1)return n.slice(0,t)}function b(n,t,i,r){kt.has(ei(t))?l(n,t,i,'Skipping source "'.concat(t,'" for module "').concat(n,'" as its host has previously timed out.'),{warn:1,status:ht}):(r||dt?eu:cr)(n,t,i)}function ci(n,t,f){var e,l,c,h,v;if(t=tt(ur(t,n)),ct(t,0,n),t in r||i[t]||!u[t]||a(t,u[t][0],u[t][1]),t in r||i[t])return ct(t,1),t in r?r[t]:i[t];if(e=ar(t),e){if(e in r||i[e])return l=si(t,(function(n){return s(t,"Plugin loading error : "+n)})),c=t.slice(e.length+1),e in r?r[e].load(c,at(n),i[t].resolve,lt):i[e].preorderPromise.then((function(r){return r.load(c,at(n),i[t].resolve,lt)})),l;s(t,'Module "'.concat(t,'", needed by "').concat(n,'", needs plugin "').concat(e,'" which is not defined nor pending at this point.  Attempting to load as normal module.'),1)}return au(t),h=w(t,!1,o),k[h]||(k[h]=!0,nt((function(){return'Downloading "'.concat(h,'" for "').concat(t,'" needed by "').concat(n.substring(0,n.indexOf(" Error"))||n,'".')})),f?(lr(h),a(t+st+"-dependencies",vt(t),(function(){b(t+st+"-content",h,(function(){var n=u[t+st+"-content"]||[[],null];a(t,n[0],n[1])}))}))):(v=!yi[t]&&function(){u[t]||(pi[t]||s(t,'Module "'.concat(t,'" wasn\'t defined explicitly or anonymously in downloaded file "').concat(h,'".  Will proceed assuming it loaded correctly.')),li(t,[],null))},b(t,h,v))),si(t)}function vr(n,t){if(!t)return n;if(t[0]==="."&&(t=(bt[n]||(bt[n]=(ru.exec(n)||[""])[0]))+t),~t.indexOf("./")||~t.indexOf("/."))while(gi.test(t))t=t.replace(gi,"$1");return t}function at(n){if(it[n])return it[n];var u=function(t){return vr(n,t)},f=function(n){return w(n,!0,o)},t=function(n,t,f,e){var o,c,s;if(typeof n=="string"){if(n=tt(u(n)),n in r)return r[n];lu(n,'Uncaught Error: Module name "'.concat(n,'" has not been loaded yet. Use require([]).'))}return o="require "+uu++,ki[o]=!0,h.isArray(n)?c=[o,n,t]:(wr(n),c=h.isArray(t)?[o,t,f]:[o,[],t]),s=c[1],s&&(s=s.map(u),[].concat.apply([],s.map((function(n){return ui(n)}))).filter((function(n){return n.startsWith(kr)})).forEach((function(n){return ci(o,n)})),c[1]=s.concat.apply(s,s.map((function(n){return vt(n)||[]}))),nt((function(){return"Manually requiring "+JSON.stringify(s)+" which has the following known dependencies "+JSON.stringify(c[1])}))),g&&(c[0]+=JSON.stringify(c[1])+" "+(new Error).stack),a.apply(null,c),i[o]&&i[o].preorderPromise.then(null,e||f),p&&p.appendToDocument(),it[o]};return t.normalize=u,t.toUrl=f,t.isPreorder=!0,it[n]=t}function yr(n){var t=et[n];return t===undefined&&(t=et[n]=!!~n.indexOf("**Shim")||!!~n.indexOf(st)),t}function ou(n,i){var e=!yr(n)&&pt[n],r,o,u;for(e&&(i=i.concat(f(e))),nt((function(){return'Loading dependencies for "'.concat(n.substring(0,n.indexOf(" Error"))||n,'", which are ').concat(JSON.stringify(i))})),r=new h(i.length),o=function(u){var f=i[u];f==="require"?r[u]=at(n):f==="exports"?r[u]=vi[n]={_exportsDefinedId:n}:f==="module"?r[u]={id:n}:yr(f)?(i.forEach((function(n){return(pt[n]||(pt[n]=t()))[f]=!0})),r[u]=ci(n,f,!0)):r[u]=ci(n,f)},u=i.length-1;u>=0;--u)o(u);return r}function su(n){return bi.reduce((function(n,t){return n.indexOf(t[0]+"/")===0||n===t[0]?n.replace(t[0],t[1]):n}),n)}function tt(n){var t=wt[n];return t||(t=wt[n]=su(n)),t}function pr(n,t,i,r,u){var c,e=n,f=t,l=i,o,s;return typeof e!="string"&&(l=f,f=e,e=(c=u===null||u===void 0?void 0:u.getAttribute("data-requiremodule"))!==null&&c!==void 0?c:y),h.isArray(f)||(l=f,f=[]),o=!r&&vt(e),o&&(f=f?f.concat(o):o),f&&f.length||(f=["require","exports","module"]),s=ar(e),s&&(f=f?f.concat(s):[s]),f&&!r&&(f=f.map((function(n){return tt(vr(e,n))}))),[tt(e),f||[],l]}function li(n,t,r){var h,c,l,v,p,f;if(h=pr(n,t,r,!0,e===null||e===void 0?void 0:e.currentScript),n=h[0],t=h[1],r=h[2],u[n]){s(n,"Tried to redefine "+n,1);return}for(ct(n,1),u[n]=[t,r],r===y&&(u[n]=(c=u[y],t=c[0],r=c[1],c),u[y]=null),l=0,v=["/index","/lib/index"];l<v.length;l++)p=v[l],f=n.substring(0,n.length-p.length),ri(n,p)&&!o[f]&&(i[f]&&a(f,t,r),u[f]=[t,r]);i[n]&&a(n,t,r)}function hu(n,t,i,r,u){i&&i.length&&i.some((function(n){return n&&n.preorderPromise&&n.preorderPromise.then}))?c.all(i.map((function(n){return n&&n.preorderPromise&&n.preorderPromise.then&&n.preorderPromise||n}))).then(r,u):r(i)}function a(n,t,u){var f;if(f=pr(n,t,u),n=f[0],t=f[1],u=f[2],n in r){s(n,"Tried to re-execute module definition of "+n,1);return}si(n);hu(n,t,ou(n,t),(function(t){u&&typeof u!="function"?hi(n,u):hr((function(){var i=vi[n],r=u&&u.apply(i,t);hi(n,r||i)}),(function(t){return fi(n,"Couldn't load \"".concat(n,'" at "').concat(w(n,!1,o),'" as the following exception was thrown; ').concat(t))}))}),(function(){var u=t.filter((function(n){return i[n]&&i[n].rejected})),f=ki[n]?"Manual require of the following modules failed":"Couldn't load \"".concat(n,'" at "').concat(w(n,!1,o),'" as the following dependencies failed to load'),r,e=u.map((function(n){var t=i[n].rejected,u=t.data,f=u.status,e=u.moduleUrl,o=t.message;return r=r===undefined?f:r,{name:n,moduleUrl:e,message:o,status:f}}));fi(n,"".concat(f,"; [").concat(u.map((function(n){return'"'.concat(n,'" : {').concat(i[n].rejected,"}")})).join(","),"];"),{status:r,failedModules:e})}))}function vt(n){var i,r,u,e;if(n=tt(n),i=ut[n],!i){for(i=ut[n]=[],r=0,u=ui(n);r<u.length;r++)e=u[r],i.push(e),vt(e).forEach((function(n){return i.push(n)}));i=ut[n]=f(i.reduceRight((function(n,t){return n[t]=n}),t())).reverse().filter((function(t){return t!==n}))}return i}function wr(i){var l,bt,v,dt,gt,y,ri,u,b,ui,r,k,fi,w,ei,d,tt,si,it,rt,hi,e,ci,st,li,c,ai,ht,vi,at,yi,vt,pi,wi,pt;for(lt=require.s.contexts._.config=i,l=0,bt=f(i.paths);l<bt.length;l++)r=bt[l],h.isArray(i.paths[r])?(u=i.paths[r],o[r]=u[0],u.length>1&&oi(u[0],u.slice(1))):o[r]=i.paths[r];for(v=0,dt=f(i.bundles);v<dt.length;v++)for(gt=dt[v],y=0,ri=i.bundles[gt];y<ri.length;y++)w=ri[y],u=(i.paths||{})[gt]||[],h.isArray(u)||(u=[u]),o[w]=u[0],u.length>1&&oi(u[0],u.slice(1));for(b=0,ui=f(i.shim);b<ui.length;b++)for(r=ui[b],k=0,fi=[r].concat(i.bundles&&i.bundles[r]||[]);k<fi.length;k++)w=fi[k],ei=i.shim[r]?h.isArray(i.shim[r])?i.shim[r]:i.shim[(et[r]=!0)&&r].deps:[],ei.forEach((function(n){return et[n]=!0})),ft[w]=ei;for(d=i.dependencyTree,tt=0,si=f(d);tt<si.length;tt++)for(it=si[tt],rt=0,hi=f(d[it]);rt<hi.length;rt++)e=hi[rt],ft[e]=(ft[e]||[]).concat(d[it][e]),o[e]=it;for(ci=!1,st=0,li=f(i.map);st<li.length;st++)if(c=li[st],c==="*")for(ai=i.map[c],ht=0,vi=f(ai);ht<vi.length;ht++)at=vi[ht],yi=ai[at],ot[at]!==yi&&(ot[at]=yi,ci=!0);else s(c,'This module loader only support property "*" in requireConfig.map, execution will continue without considering property "'.concat(c,'".'),1);for(ci&&(wt=t(),bi=f(ot).map((function(n){return[n,ot[n]]})).sort((function(n,t){return t[0].length-n[0].length}))),vt=0,pi=f(i.fallbacks);vt<pi.length;vt++)wi=pi[vt],oi(wi,i.fallbacks[wi]);return g=g||i.profile,g&&(nt=function(n){return yt.log("[Preorder] ["+g+"] "+n())},pt=n.performance,pt&&(ti=function(n,t){pt.mark(n+(t?"-stop":""));t&&pt.measure(n,n,n+"-stop")})),ni=ni||i.preload,i.onDependencyStateChange&&(ct=i.onDependencyStateChange),i.getRedirectModuleId&&(ur=i.getRedirectModuleId),i.blockedHosts&&(kt=i.blockedHosts),i.logError&&(fr=i.logError),i.onNodeCreated&&(ii=i.onNodeCreated),i.baseUrl&&(rr=iu.test(i.baseUrl)?i.baseUrl:(i.baseUrl||"")+"/"),i.deps&&i.deps.forEach((function(n){return a("_preorder_dep_"+n,[n].concat(ut[n]||[]),null)})),p&&p.appendToDocument(),n.requirejs}function cu(n,t){for(var i,u,h,y,c,e,l,a,o,v,p,r=0,s=f(n);r<s.length;r++)for(i=s[r],d[i]=d[i]||[],u=0,h=n[i]||[];u<h.length;u++)y=h[u],d[i].push(y);for(c=t&&t.dependencyTree,e=0,l=f(c);e<l.length;e++)for(a=l[e],o=0,v=f(c[a]);o<v.length;o++)p=v[o],wi[p]=a}function lu(n,t){s(n,t);throw t;}function au(n){var t,i,r;n in d&&(t=new Set,i=function(n){for(var u,r=0,f=ui(n);r<f.length;r++)u=f[r],t.has(u)||(t.add(u),i(u))},d[n].forEach((function(n){return i(n)})),r="URL_NOT_FOUND",t.forEach((function(t){var i=w(t,!1,wi,r);i.includes(r)||k[i]||(k[i]=!0,nt((function(){return'Downloading "'.concat(i,'" for "').concat(t,'" needed by fetchMetaDependency for "').concat(n,'".')})),b(t,i))})))}var e=n.document,ai=n.Object,h=n.Array,yt=n.console,br=n.Math.random,u=t(),r=t(),v;r.require=r.exports=r.module=null;var i=t(),k=t(),it=t(),vi=t(),o=t(),yi=t(),pi=t(),wi=t(),rt=t(),ut=t(),ft=t(),d=t(),et=t(),pt=t(),ot=t(),bi=[],wt=t(),bt=t(),ki=t(),kt=new Set,di=new Set,dt=typeof n.importScripts=="function",c=n.Promise,y="_preorder_anonymous_define_",st="-preorder-shim",kr="portalalias!",gi=/[^/]+\/\.\.\/|\/\.(\/)|^\.\//,nr=/\.js(?:[?#]|$)/,dr=/^\/|:|\?|\.js$/,gr=/^data:|^blob:/,nu=/^\/|^https?:/,tr=/[&?]retryAttempt=/,tu=/\?/,iu=/\/$/,ru=/(.+\/)/,ht=408,ir=3e4,gt=function(){},p=!dt&&(function(){function i(){n.childNodes.length&&(e.head.appendChild(n),n=e.createDocumentFragment(),t=null)}var r=c.resolve(),t=null,n=e.createDocumentFragment();return{appendChild:function(u){n.appendChild(u);t=t||r.then(i)},appendToDocument:function(){window.MsPortalFx&&window.MsPortalFx.isFeatureEnabled&&!window.MsPortalFx.isFeatureEnabled("pretick")||i()}}})(),rr="/",uu=0,ni=!1,g="",nt=gt,ti=gt,ct=gt,ur=function(n){return n},ii,s=function(n,t,i,r){r||fr(n,t,i)},fr=function(n,t,i){i?yt.warn(t):yt.error(t)},lt;n.nodeRequire=n.require;v=n.require=n.requirejs=at(null);v.config=wr;n.define=li;n.define.amd=t();v.configureMetadata=cu;v.s={contexts:{_:{config:null}}};v.loadedDefines=u;v.executedDefines=r;v.unrequire=function(n,t){delete r[n];delete i[n];t&&(delete u[n],delete k[w(n,!1,o)])}})(window||self);executeInDevelopmentModeOnly=function(){},
(function(n){function h(n,t){var i=/^require \d+$/;n.logError=function(n,r,u){var f=u||i.test(n);return f?t.warning(r):t.error(r)}}function c(n,i,r){var u,f;return s.isPreorder?(r&&(n.blockedHosts=new Set(MsPortalFx.getEnvironmentValue("blockedHosts")||[])),u=i.isEnabled("preorderperf"),u&&(f=MsPortalFx.getEnvironmentValue("extensionName")||"fx",n.profile=f),i.isEnabled("preorderpreload")&&(n.preload=!0)):(n.paths=n.paths||{},n.bundles=n.bundles||{},t(n.dependencyTree,(function(t,i){n.paths[t]=[t].concat((n.fallbacks||{})[t]||[]);n.bundles[t]=Object.keys(i)}))),n}function l(n,u){var h,c=u.origin,s=u.baseDomains,l=(s||[]).shift()||c,o={origin:c,protocol:u.protocol,appPath:u.appPath,replacementOrigin:l};if(t(n.paths,(function(t,r){n.paths[t]=Array.isArray(r)?f(r,o):i(r,o)})),n.baseUrl&&(n.baseUrl=i(n.baseUrl,o)),$.extend(n,{dependencyTree:e(n.dependencyTree,o),fallbacks:n.fallbacks||{}}),s&&s.length){var y=(h=r.MsPortalFx)===null||h===void 0?void 0:h.sessionId,a=n.fallbacks,v=function(n){a[n]=(a[n]||[]).concat(s.map((function(t){var r=n.replace(l,t),i=new URL(r);return i.pathname.endsWith(".js")||(i.pathname+=".js"),i.searchParams.set("sessionId",y),i.href})))};t(n.dependencyTree,v);t(n.paths,(function(n,t){return(Array.isArray(t)?t:[t]).forEach(v)}))}$.extend(n,{fallbacks:e(n.fallbacks,o,!0)})}function u(n,t){var u=t.origin,f=t.appPath,e=t.protocol,r=t.replacementOrigin||u,i;return(n=n||"",o(n,"//")&&(n=e+n),/^\w+:\/\//.test(n))?n.replace(u,r):o(n,"/")?r+n:(i=r+f,i[i.length-1]!=="/"&&(i+="/"),i+n)}function i(n,t){return u(n,t)}function f(n,t){return n&&n.map((function(n){return i(n,t)}))}function e(n,r,u){if(n){var e=Object.create(null);return t(n,(function(n,t){e[i(n,r)]=u?f(t,r):t})),e}}function t(n,t,i){return n&&Object.keys(n).forEach((function(r){t(r,n[r],i)})),i}function o(n,t){return n&&n.indexOf(t)===0}var r=window,s=r.requirejs;n.addLoggingToRequireConfig=h;n.reshapeRequireConfigCore=c;n.toAbsoluteUrisRequireCore=l;n.ensureAbsoluteUriCore=u})(FxImpl||(FxImpl={})),
(function(n){var t=(function(){function n(n,t,i){var f=this,r,u;n=n||{flights:{},fromConfig:{},fromQuery:{}};this.shellFeatures=n;r=["","feature.",];t&&r.push(t.toLowerCase()+"_");u={};[n.flights,n.fromConfig,].concat(i).concat([n.fromQuery]).forEach((function(n){var i=Object.keys(n||{});r.forEach((function(r){i.forEach((function(i){var e=i.toLowerCase(),f;e.indexOf(r)===0&&(f=e.slice(r.length),(r||f.indexOf(".")<0&&(!t||f.indexOf("_")<0))&&(u[f]=n[i]+""))}))}))}));this.value=u;this.isEnabled=function(n,t){var i=f.getValue(n);return i?i.length===4&&i.toLowerCase()==="true":t||!1};this.getValue=function(n){return f.value[n.toLowerCase()]};this.isNativePerf=this.isEnabled("nativeperf")}return n})();n.Features=t})(FxImpl||(FxImpl={})),
(function(n){function i(n){var i=n.features,o=n.environment,r,u,f,e;t.MsPortalFx=t.MsPortalFx||{};r=n.trace;MsPortalFx.trace=r;u=i.isEnabled("clientDevelopmentMode");MsPortalFx.isDevelopmentMode=u;f=i.isEnabled("canModifyExtensions");MsPortalFx.canModifyExtensions=f;e=function(n,t){var i=o[n];return i===undefined||i===null?t:i};MsPortalFx.getEnvironmentValue=e}var t=window;n.setFxCoreNonAmdEnvironment=i})(FxImpl||(FxImpl={})),
(function(){function e(){function n(i){var r;((r=i===null||i===void 0?void 0:i.data)===null||r===void 0?void 0:r.kind)===0&&(t.removeEventListener("message",n),o(i.data.data,i.ports[0]))}t.onmessage=n}function o(n,i){var r=n.noOptScripts;r&&t.importScripts.apply(t,r||[]);s(n,i)}function r(n){self.postMessage(n)}function s(i,u){return __awaiter(this,void 0,void 0,(function(){var s,o,l,a,e,v,f,h,c,y,p,w=this;return __generator(this,(function(b){switch(b.label){case 0:return s=i.internalEnv,o=i.environment,l=i.shellFeatures,a=i.location,e=i.initOptions,v=i.blockedHosts,f=new FxImpl.Features(l),FxImpl.setFxCoreNonAmdEnvironment({trace:s.trace,features:f,environment:o}),h=FxImpl.reshapeRequireConfigCore(o.requireConfig,f),t.requirejs.config(h),c=function(n){r({signature:"###SHELLWORKER###",kind:4,data:n})},y=function(){return __awaiter(w,void 0,void 0,(function(){var b,k,y,d,lt,ti,at,g,vt,nt,yt,tt,r,l,p,pt,wt,it,rt,ut,ft,et,ii,ot,w,st,ht,ct,bt,kt,dt,gt,ni;return __generator(this,(function(ri){switch(ri.label){case 0:return[4,Promise.all([n("FxInternal/ErrorHandling"),n("Fx/Diagnostics"),])];case 1:return b=ri.sent(),k=b[0],y=b[1],d=y.getLogFriendlyMessage,lt=y.Logging,ti=y.LogEntryLevel,at=function(n,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];c({logEntry:{level:2,area:"ShellWorkerEntryPoint",message:d(n),code:t,args:r&&r.map((function(n){return n instanceof Error?d(n):n}))}})},k.preinitialize(f,at),[4,Promise.all([n("Fx/DependencyInjectionCore"),n("ShellWorkerImpl/Core/Diagnostics")])];case 2:return g=ri.sent(),vt=g[0],nt=g[1],yt=nt.Logging,tt=nt.Telemetry,r=vt.container,l=new yt(c),r.set(lt,l),k.initialize(),FxImpl.addLoggingToRequireConfig(h,l.createLog("ShellWorker")),t.requirejs.config(h),[4,Promise.all([n("FxInternal/Features"),n("ShellWorkerImpl/Core/Environment"),n("FxInternal/Experimentation"),])];case 3:return p=ri.sent(),pt=p[0].Features,wt=p[1].Environment,it=p[2].ExperimentationManager,r.set(pt,f),rt={location:a,displayLanguage:s.displayLanguage,effectiveLocale:e.effectiveLocale,sdkVersion:o.sdkVersion,sessionId:s.sessionId,clientOptimizations:o.clientOptimizations,userQuery:i.userQuery},ut=new tt(c),r.set(wt,rt),r.set(tt,ut),r.set(it,new it(f,function(n){return ut.trace(n)})),[4,n("FxInternal/Rpc")];case 4:return ft=ri.sent(),et=ft.Client,ii=ft.Constants,ot=(function(){var n=l.createLog("FxInternal/Rpc");return new et(3e4,function(t){n.writeEntry(2,t,3,null)},l,f)})(),r.set(et,ot),[4,Promise.all([n("ShellWorkerImpl/Core/ExtensionManager"),n("ShellWorkerImpl/Core/ExtensionManagerOptions"),n("ShellWorkerImpl/Core/AuthorizationState"),])];case 5:return w=ri.sent(),st=w[0].RpcStarter,ht=w[1].ExtensionManagerOptions,ct=w[2].AuthorizationState,r.set(st,new st(u,f,rt)),bt=e.extensions,kt=e.manifests,dt=e.loadTypes,gt=e.extensionRedirectMap,r.set(ht,new ht(bt,kt,dt,gt,v)),ni=e.authorizationState,r.set(ct,new ct(ni,ot)),[2,r]}}))}))},[4,y()];case 1:return p=b.sent(),[4,n("ShellWorkerImpl/Init")];case 2:return[4,b.sent().init(p)];case 3:return b.sent(),r({signature:"###SHELLWORKER###",kind:3}),[2]}}))}))}function n(n){return new Promise(function(i,r){t.requirejs([n],i,r)})}var i,t=typeof window!="undefined"?window:self,u=typeof t.importScripts!="undefined",f=u&&!((i=t===null||t===void 0?void 0:t.fx)===null||i===void 0?void 0:i.internalEnv);f&&(e(),r({signature:"###SHELLWORKER###",kind:1}))})(ShellWorkerImpl||(ShellWorkerImpl={})),
(function(n){function u(){var n=r();i((function(t,i){var r,u=function(n){r=!0;i(n)};if(n([t],u,undefined,undefined,!0),!r)throw new Error("Failed to synchronously require module '".concat(t,"'."));}))}function f(){var n=r();return Promise.all(i((function(t,i){return new Promise(function(r,u){n([t],(function(n){try{i(n)}catch(t){u(t)}r()}),u)})})))}function i(i){return t.MsPortalFx=t.MsPortalFx||{},[i("Fx/Diagnostics",(function(n){var t=n.getLogFriendlyMessage;MsPortalFx.getLogFriendlyMessage=t})),i("FxInternal/Diagnostics",(function(i){var r=i.logHelper,u=i.logFunctions,f=i.sanitizeMessage,e=i.sanitizeMessageFull,o=i.setObjectIdToScrub,s=i.serializationPrivacyReplacer;MsPortalFx.sanitizeMessage=f;t.FxImpl.Base=t.FxImpl.Base||{};t.FxImpl.Base.Diagnostics=t.FxImpl.Base.Diagnostics||{};n.Base.Diagnostics.logHelper=r;n.Base.Diagnostics.logFunctions=u;n.Base.Diagnostics.sanitizeMessageFull=e;n.Base.Diagnostics.setObjectIdToScrub=o;n.Base.Diagnostics.serializationPrivacyReplacer=s})),i("FxInternal/ErrorSerialization",(function(i){var r=i.extractErrorDetails,u=i.isError,f=i.isXMLHttpRequestLike,e=i.isArmErrorResponse;t.FxImpl.Base=t.FxImpl.Base||{};t.FxImpl.Base.Diagnostics=t.FxImpl.Base.Diagnostics||{};n.Base.Diagnostics.extractErrorDetails=r;n.Base.Diagnostics.isError=u;n.Base.Diagnostics.isXMLHttpRequestLike=f;n.Base.Diagnostics.isArmErrorResponse=e})),i("Fx/Errors",(function(n){var r=n.isInstanceOfErrorType,u=n.getErrorOptions,f=n.FxError,i=t.MsPortalFx.Errors=t.MsPortalFx.Errors||{};i.isInstanceOfErrorType=r;i.getErrorOptions=u;i.Error=f})),i("FxInternal/ErrorHandling",(function(i){var r=i.initialize,u=i.preinitialize,f=i.handleError;t.MsPortalFx.Base=t.MsPortalFx.Base||{};t.MsPortalFx.Base.Diagnostics=t.MsPortalFx.Base.Diagnostics||{};t.MsPortalFx.Base.Diagnostics.ErrorReporter=t.MsPortalFx.Base.Diagnostics.ErrorReporter||{};MsPortalFx.Base.Diagnostics.ErrorReporter.initialize=r;n.errorHandlingImpl={preinitialize:u,handleError:f}})),i("FxInternal/Errors",(function(n){var r=n.FxCanceledError,u=n.FxDisposedCanceledError,i=t.MsPortalFx.Errors=t.MsPortalFx.Errors||{};i.CanceledError=r;i.DisposedCanceledError=u})),i("FxInternal/Lifetime",(function(t){var i=t.TriggerableLifetimeManager;n.TriggerableLifetimeManager=i})),i("FxInternal/Rpc",(function(n){var r=n.getMessageContext,u=n.createCallStack,f=n.createRpcError,e=n.getCurrentCallStack,o=n.DisposableValue,s=n.DisposableValueDictionary,h=n.RpcChannel,c=n.Client,l=n.MessageDispatcher,a=n.MessageMultiplexer,v=n.EndPointTable,y=n.PendingObjectTable,p=n.EndPointDefinition,w=n.ActionEndPointDefinitionBase,b=n.FuncEndPointDefinitionBase,i=t.FxImpl.Rpc=t.FxImpl.Rpc||{};i.getMessageContext=r;i.createCallStack=u;i.createRpcError=f;i.getCurrentCallStack=e;i.DisposableValue=o;i.DisposableValueDictionary=s;i.RpcChannel=h;i.MessageDispatcher=l;i.MessageMultiplexer=a;i.EndPointTable=v;i.PendingObjectTable=y;i.CoreClient=c;i.EndPointDefinition=p;i.ActionEndPointDefinitionBase=w;i.FuncEndPointDefinitionBase=b})),i("FxInternal",(function(t){var r=t.defer,u=t.toPromise,f=t.isPlainObject,e=t.jqueryExtend,o=t._objectKeysPolyfill,s=t.forEachKey,h=t.disposeDisposable,c=t.isNullOrUndefined,l=t.remove,a=t.makeArray,v=t.unique,y=t.pushUnique,p=t.union,w=t.startsWith,b=t.tryImmediateResolve,k=t.noop,d=t.identity,g=t.isDiagnosticsEnabled,nt=t.extend,tt=t.extend2,it=t.getCurrentCallStack,rt=t.generateNonSerializableProperty,ut=t.getFunctionName,ft=t.getObjectConstructorName,et=t.getObjectDescriptor,ot=t.findIndex,st=t.find,ht=t.startTimer,ct=t.regexEscape,i=n;i.createError=function(){return t.createError.apply(null,arguments)};i.defer=r;i.toPromise=u;MsPortalFx.isPlainObject=f;MsPortalFx.jqueryExtend=e;MsPortalFx._objectKeysPolyfill=o;MsPortalFx.forEachKey=s;MsPortalFx.disposeDisposable=h;MsPortalFx.isNullOrUndefined=c;MsPortalFx.remove=l;MsPortalFx.makeArray=a;MsPortalFx.unique=v;MsPortalFx.pushUnique=y;MsPortalFx.union=p;MsPortalFx.startsWith=w;MsPortalFx.tryImmediateResolve=b;MsPortalFx.noop=k;MsPortalFx.identity=d;MsPortalFx.isDiagnosticsEnabled=g;MsPortalFx.extend=nt;MsPortalFx.extend2=tt;MsPortalFx.getCurrentCallStack=it;MsPortalFx.generateNonSerializableProperty=rt;MsPortalFx.getFunctionName=ut;MsPortalFx.getObjectConstructorName=ft;MsPortalFx.getObjectDescriptor=et;MsPortalFx.findIndex=ot;MsPortalFx.find=st;MsPortalFx.regexEscape=ct;MsPortalFx.startTimer=ht})),i("Fx/Assets",(function(n){var i=n.ResourceRoutingType,r=t.MsPortalFx.Extension=t.MsPortalFx.Extension||{};r.ResourceRoutingType=i})),i("Fx/Units",(function(n){var i=n.Unit,r=t.MsPortalFx.UnitConversionUtil=t.MsPortalFx.UnitConversionUtil||{};r.Unit=i})),i("FxInternal/Units",(function(t){var i=t.higherByteOffset,r=t.perTimeBit,u=t.UnitType;n.UnitConversionUtil={higherByteOffset:i,perTimeBit:r,UnitType:u}})),i("FxInternal/ResourceManagement/SubscriptionsCore",(function(n){var r=n.getInSessionSelectedSubscriptionsEndPoint,u=n.getSubscriptionInfoEndPoint,i=t.FxImpl.Azure=t.FxImpl.Azure||{};i.getInSessionSelectedSubscriptionsEndPoint=r;i.getSubscriptionInfoEndPoint=u})),i("FxInternal/ResourceManagement/LocationsCore",(function(n){var i=n.getLocationDisplayNamesEndPoint,r=t.FxImpl.Azure=t.FxImpl.Azure||{};r.getLocationDisplayNamesEndPoint=i})),i("FxInternal/RpcEndPointsCore",(function(n){var i=n.getUserInfoEndPoint,r=t.FxImpl.Extension=t.FxImpl.Extension||{};r.getUserInfoEndPoint=i})),]}function r(){var t,f=fx.environment,i=fx.internalEnv,r=n.features||new n.Features((t=n.bootEnv)===null||t===void 0?void 0:t.shellFeatures),u;return n.setFxCoreNonAmdEnvironment({trace:i.trace,features:r,environment:f}),u=$.extend({},i.fxRequireConfig),window.requirejs.config(n.reshapeRequireConfigCore(u,r))}var t=window;n.patchMsPortalFxNonAmd=u;n.patchMsPortalFxNonAmdAsync=f})(FxImpl||(FxImpl={}));
define("Fx",["require","exports"],(function(){var n;return (function(n){n.defer=FxImpl.defer;n.forEachKey=MsPortalFx.forEachKey;n.getEnvironmentValue=MsPortalFx.getEnvironmentValue;n.getUniqueId=MsPortalFx.getUniqueId;n.isDevelopmentMode=MsPortalFx.isDevelopmentMode;n.isFeatureEnabled=MsPortalFx.isFeatureEnabled;n.getFeatureValue=MsPortalFx.getFeatureValue;n.require=MsPortalFx.require;n.startTimer=MsPortalFx.startTimer;n.toPromise=FxImpl.toPromise;n.memoizePromise=FxImpl.memoizePromise})(n||(n={})),n}));
define("FxInternal/Ajax",["require","exports"],(function(n,t){function r(){return"batch?api-version=".concat(MsPortalFx.getFeatureValue("batchapiversion")||"2020-06-01")}function e(){var n=f.Internal.getArmEndpoint();return{aadAuthority:i.fxAadAuthority,arm:n,armBatch:n+r(),graph:i.fxGraphEndpoint,msGraph:i.fxMsGraphEndpoint}}Object.defineProperty(t,"__esModule",{value:!0});t.getEndpoints=t.getArmBatchRelativePathAndApiVersion=void 0;var u=MsPortalFx.Base,f=u.Net2,i=FxImpl.internalEnv;t.getArmBatchRelativePathAndApiVersion=r;t.getEndpoints=e}));
define("FxInternal",["require","exports"],(function(n,t){function i(n){return function(){return fi.apply(n,arguments)}}function li(n){return n&&n===n.window}function w(n){if($.type(n)!==o||n.nodeType||li(n))return!1;var t=n.constructor,i=t&&t.prototype;return!(i&&!ci(i,"isPrototypeOf"))}function vt(n){var t,i;switch(typeof n){case ht:t=[];for(i in n)p(t,i);return t;case u:case o:case ct:return ot(n);default:return[]}}function l(n,t){return typeof n===t}function ai(n){return n instanceof Date}function vi(n){var t=n&&n.dispose;return l(t,u)&&t}function wt(n,t,i){return n&&c(yt(n),(function(r){t(r,n[r],i)})),i}function bt(n){if(e(n))c(n,bt);else{var t=vi(n);t&&t.call(n)}}function a(n){return n===null||n===undefined}function yi(n,t,i){try{return t(n)}catch(r){return i(r)}}function pi(n,t,i){var o,r,s,f,h,e;for(i===void 0&&(i=0),o=[],r=0,l(t,u)&&(s=t),f=i,h=n.length;f<h;f++)e=n[f],r&&(n[f-r]=e),(t===e||s&&s(e))&&(r++,p(o,e));return r&&si(n,-1*r),o}function wi(n){return e(n)||(n=a(n)?[]:[n]),n}function b(n,t,i,r){var s,f,u,h,o;if(r===void 0&&(r=!1),e(t)){for(s=i?function(t){return it(n,(function(n){return i(n,t)}))}:function(t){return n.indexOf(t)},f=r?[]:n,u=0,h=t.length;u<h;u++)o=t[u],s(o)<0&&p(f,o);r&&oi(ut,n,f)}return n}function dt(n,t){return b([],n,t)}function bi(){var r=[],i=arguments.length-2,n=arguments[i+1],t,f;for(l(n,u)||(n=undefined,i++),t=0;t<=i;t++)f=dt(arguments[t],n),b(r,f,n,!0);return r}function ki(n,t,i){return n=a(n)?"":String(n),i=a(i)||i<0?0:ui.min(i,n.length),n.lastIndexOf(t,i)===i}function di(n){return v.error=n,v}function gi(n,t,i){if(Q.isPromise(n)&&Q.isFulfilled(n)){var r=yi(n&&n.inspect().value,t,di);return r===v?Q.reject(r.error).catch(i):Q(r)}return Q(n).then(t,i)}function gt(){}function nr(n){return n}function ir(n,i,r){return r?t.jqueryExtend(!0,n,i):t.jqueryExtend(n,i)}function rr(n,i,r,u){var f=ii(n)?[]:{};return t.jqueryExtend(f,n,i,r,u)}function ur(n,i){var r;if(n||t.isDiagnosticsEnabled){if(r=s(),r){for(var f=et(r,"@")>-1,e=2+(f?0:1)+((i===null||i===void 0?void 0:i.removeStackLevels)||0),u=0;e--&&u!==-1;)u=et(r,"\n",u+1);r=u!==-1?hi(r,u+1):""}return r||""}return"(Callstack capturing is not enabled. Use ?trace=diagnostics to enable it.)"}function fr(n){return ti+n+ti}function tt(n){var t=o,i;return n.constructor&&(i=n.constructor,t=nt(i)),t}function r(n){return"<"+n+">"}function or(n,t,i,f,e){function v(n){return i.visited.indexOf(n)<0?(i.visited.push(n),!0):!1}var s,h,d=!n,y=d||f,c,p,w,l,a,b;if(e||!n||n[0]!=="_")return c=typeof t,s=r(c),c in k||(c===o?t===null?s=r("null"):ii(t)?(p=t,w=v(t)?"":g,s=w+r("Array["+p.length+"]")):ai(t)?s=r("Date"):i.current!==t?(l=r(tt(t)),y?(s=h={},h[l]=t,h=h[l],i.current=t):s=l):(i.current=null,s=v(t)?t:g+r(tt(t))):c===u&&(a=r(c)+nt(t),pt(t)&&y?v(t)?(s=h={},b=t.peek(),h[a]=b):s=g+a:s=a)),s}function sr(n,t,i){var r={current:null,visited:[]};return tr(n,(function(n,u){return or(n,u,r,t,i)}),2).replace(/"/g,"")}function hr(n,t,i){var u="Code: '"+n+"'. ",r="";return t?r=typeof t=="string"?t:t.apply(void 0,i):i&&i.length&&(r="\nParameters: "+[].join.call(i,",")+". "),u+r}function cr(n){return wt(n,(function(n,i,r){r[n]=function(){var r=[].slice.call(arguments),u=hr(n,i,r);throw t.createError(u,i?undefined:{data:{args:r}});}}),{})}function lr(){var n,t;return{promise:new Promise(function(i,r){n=i;t=r}),resolve:n,reject:t}}function ar(n){for(var i=[],t=1;t<arguments.length;t++)i[t-1]=arguments[t];return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){switch(t.label){case 0:return[4,n.apply(void 0,i)];case 1:return[2,t.sent()]}}))}))}function vr(n){return Q.isPromise(n)?n:n instanceof Promise?n:Q.isPromiseAlike(n)?new Promise(function(t,i){return n.then(t,i)}):Promise.resolve(n)}function it(n,t,i){var u;if(i===void 0&&(i=0),n&&(u=n.length)){var f=u,e=1,r=i;if(i<0&&(r+=u,e=f=-1),!t)return r<u&&r>=0?r:-1;while(r!==f){if(t(n[r],r,n))return r;r+=e}}return-1}function yr(n,t,i){var r=it(n,t,i);return r<0?undefined:n[r]}function pr(n){return n.replace(/[\-[\]/{}()*+?.\\^$|]/g,"\\$&")}function wr(){var n=lt();return function(){return lt()-n}}var at,yt,pt,kt,v,k,s,d,ri;Object.defineProperty(t,"__esModule",{value:!0});t.startTimer=t.regexEscape=t.find=t.findIndex=t.toPromise=t.fcall=t.defer=t.getErrorMap=t.createError=t.getObjectDescriptor=t.getObjectConstructorName=t.getFunctionName=t.generateNonSerializableProperty=t.getCurrentCallStack=t.extend2=t.extend=t.isDiagnosticsEnabled=t.identity=t.noop=t.tryImmediateResolve=t.startsWith=t.union=t.unique=t.pushUnique=t.makeArray=t.remove=t.isNullOrUndefined=t.disposeDisposable=t.forEachKey=t._objectKeysPolyfill=t.jqueryExtend=t.isPlainObject=void 0;var f=window,rt=Function,ui=Math,h=Object,fi=rt.call,ei=rt.apply;var oi=i(ei),y=Array.prototype,ut=y.push,c=i(y.forEach),p=i(ut),si=i(y.splice),e=Array.isArray,ft=String.prototype,hi=i(ft.substring),et=i(ft.indexOf),ci=i(h.prototype.hasOwnProperty),ot=h.keys,st="boolean",u="function",ht="string",o="object",ct="undefined",lt=f.fx.getTimestamp;t.isPlainObject=w;at=function(){for(var p,s,b=[],h=0;h<arguments.length;h++)b[h]=arguments[h];var c,r,i,a,v,n=arguments[0]||{},f=1,y=!1;for(typeof n===st&&(y=n,n=arguments[f]||{},f++),typeof n===o||l(n,u)||(n={}),p=arguments.length,f===p&&(n=this,f--);f<p;f++)if((c=arguments[f])!=null)for(s in c)(r=n[s],i=c[s],n!==i)&&(y&&i&&(w(i)||(a=e(i)))?(a?(a=!1,v=r&&e(r)?r:[]):v=r&&w(r)?r:{},n[s]=t.jqueryExtend(y,v,i)):i!==undefined&&(n[s]=i));return n};t.jqueryExtend=at;t._objectKeysPolyfill=vt,(function(){try{ot("")}catch(n){h.keys=vt}})();yt=h.keys;pt=function(n){var t,i=(t=f===null||f===void 0?void 0:f.ko)===null||t===void 0?void 0:t.isObservable;return i&&i(n)};t.forEachKey=wt;kt=function(){c(arguments,bt)};t.disposeDisposable=kt;t.isNullOrUndefined=a;t.remove=pi;t.makeArray=wi;t.pushUnique=b;t.unique=dt;t.union=bi;t.startsWith=ki;v={};t.tryImmediateResolve=gi;t.noop=gt;t.identity=nr;k={};c([st,ct,"number",ht,"symbol"],(function(n){k[n]=!0}));var ni=function(){return(new Error).stack},ti="###",ii=Array.isArray,tr=JSON.stringify;t.isDiagnosticsEnabled=(function(){var n=MsPortalFx.trace;return n&&n.diagnostics?!0:n&&n.nocallstacks?!1:MsPortalFx.isDevelopmentMode&&!!ni()?!0:!1})();s=ni;s()||(s=gt,t.isDiagnosticsEnabled&&(d=function(){try{throw new Error;}catch(n){return n.stack}},d()&&(s=d)));t.extend=ir;t.extend2=rr;t.getCurrentCallStack=ur;t.generateNonSerializableProperty=fr;var er=/function\s+(\w*)\(.*?\)/,g="[potential-circular-reference]",nt=function(n){var t,r,i;return n?(t=n.name,t===undefined&&(r=n.toString(),r&&(i=er.exec(r),i&&i.length>=1&&(t=i[1]))),t||"[anonymous]"):""};t.getFunctionName=nt;t.getObjectConstructorName=tt;t.getObjectDescriptor=sr;ri=function(){throw new Error("Can't call 'createError' during module loading");};t.createError=ri;Q.nextTick((function(){f.requirejs(["Fx/Errors"],(function(n){var i=n.FxError;t.createError=function(n,t){return new i({message:n,data:t&&t.data,innerErrors:t&&t.innerErrors})}}))}));t.getErrorMap=cr;t.defer=lr;t.fcall=ar;t.toPromise=vr;t.findIndex=it;t.find=yr;t.regexEscape=pr;t.startTimer=wr}));
define("Fx/Errors",["require","exports","FxInternal"],(function(n,t,i){function u(n){var o=[],u=[],f=n.prototype,e,t;for(u.push(n);r(f)&&(n=(f=r(f)).constructor)!==Error;)u.push(n);while(n=u.pop())t=n.TypeName,e&&e===t?t=n.TypeName=i.getFunctionName(n):e=t,o.unshift(t);return o}function f(n,t){var i,f,r,e,o;return n&&(i=n.baseTypes,f=i&&i.length,f&&(r=u(t),e=r&&r.length,e&&(o=f-e,o>=0)))?r.every((function(n){return n===i[o++]})):!1}function e(n,t){if(n){var r=typeof n;r==="string"&&(n={message:n})}else n={};return i.extend2(t,n)}var o;Object.defineProperty(t,"__esModule",{value:!0});t.FxError=t.getErrorOptions=t.isInstanceOfErrorType=void 0;var s=window,h="MsPortalFx.Errors.",r=Object.getPrototypeOf,c=Object.setPrototypeOf;t.isInstanceOfErrorType=f;t.getErrorOptions=e;o=(function(n){function t(t){var l=this.constructor,r=this,f=e(t,{name:"Error",errorLevel:2}),h,a,v,y,o;return r=n.call(this,f.message)||this,c(r,l.prototype),h=u(l),r.type=h[0],r.baseTypes=h,r.code=f.code,r.data=f.data,r._errorData=f.errorData,r.extension=MsPortalFx.getEnvironmentValue("extensionName"),r.errorLevel=f.errorLevel,r._sourceErrorLevel=f._sourceErrorLevel,r.handled=f.handled,r.timestamp=f.timestamp||s.fx.getTimestamp(),r.source=f.source,a=r.message,r.message=f.message||a,v=r.name,r.name=f.name||v,y=r.stack,r.stack=f.stack||y||i.getCurrentCallStack(!0),o=f.innerErrors,r.innerErrors=o?Array.isArray(o)?o.slice():[o]:[],r}return __extends(t,n),t.isBaseOf=function(n){return f(n,this)},Object.defineProperty(t.prototype,"errorData",{get:function(){return this._errorData},enumerable:!1,configurable:!0}),t.TypeName="".concat(h,"Error"),t})(Error);t.FxError=o}));
define("FxInternal/Diagnostics",["require","exports","FxInternal"],(function(n,t,i){function c(n){n&&(r[0]=new RegExp(i.regexEscape(n),"gi"),r[1]="_REDACTED_CURRENT_USER_OBJECTID_")}function l(n,t){return n==="tags"?"_REDACTED_TAGS_":t}function a(n){return n&&(n=f(n,__spreadArray(__spreadArray([],u,!0),s,!0))),n}function v(n){return f(n||"",u)}function y(n){return f(n||"",h)}function f(n,t){return t.forEach((function(t){return t[0]&&(n=n.replace(t[0],t[1]))})),n}function k(){var n=[],s,r,v=6e4,l=1,h=500,u={error:{remaining:h,level:2,message:"Maximum errors exceeded"},other:{remaining:h,level:1,message:"Maximum warnings exceeded"}},c=function(){n=s(n);r&&(clearTimeout(r),r=null)},f=function(t){n.push(t);n.length>e?c():r||(r=setTimeout((function(){c()}),v))};p&&(f=i.noop);var y=function(n){var r=n.level,i;if(r===-2){f(n);return}r>=l&&(i=r===2?u.error:u.other,i.remaining--,(i.remaining>=0||b)&&(i.remaining===0&&(n=o(i.message,undefined,i.level)),f(n)));t.logFunctions[r](n)},w=function(t){return n.filter((function(n){return n.level>=t}))},k=function(){n=[]},d=function(n){l=n;u.error.remaining=u.other.remaining=h},a=function(n){s=n?function(t){try{return n(t)}catch(i){return[]}}:function(n){return n.length>e&&n.splice(0,2,o("Log entry buffer overflowed")),n}};return a(),{empty:k,flush:c,entries:w,log:y,pushLog:f,init:d,setCallback:a}}function o(n,t,i){return{timestamp:Date.now(),level:i===undefined?2:i,area:"MsPortalFx/Base/Base.Diagnostics",message:n,code:undefined,args:t}}Object.defineProperty(t,"__esModule",{value:!0});t.logHelper=t.logFunctions=t.sanitizeUriComponent=t.sanitizeMessage=t.sanitizeMessageFull=t.serializationPrivacyReplacer=t.setObjectIdToScrub=void 0;var r=[null,null],u=[[/([?&;])sig=[\w%-]+/gi,"$1sig=_REDACTED_SAS_TOKEN_SIG_"],[/([?&/]|%2F)(SourceKey|DestKey)(=|%3A|%3D|:)(?:[\w/-]|%2F)+(?:==|%3D%3D)/gi,"$1$2$3_REDACTED_AZCOPY_TOKEN_"],[/(\W)[\w+/-]{86}==(\W)/g,"$1_REDACTED_ACCESS_KEY_$2"],[/(?:eyJ0eXAi|eyJhbGci)[\w\-.~+/%]*/gi,"_REDACTED_JWT_TOKEN_"],[/("|'|%22)(bearer |bearer%20)[\w\-.~+/]{100,}("|'|%22)/gi,"$1$2_REDACTED_BEARER_TOKEN_$3"],[/("|')(ssh-rsa )AAAA[\w\-.~+/]{100,}("|')/gi,"$1$2_REDACTED_SSH_KEY_$3"],[/\b[\w.%#+-]+(%40|@)([a-z0-9.-]*\.[a-z]{2,})\b/gi,"_REDACTED_EMAIL_$1$2"],r,[/\/users\/[0-9a-f]{8}-?[0-9a-f]{4}-?[0-9a-f]{4}-?[0-9a-f]{4}-?[0-9a-f]{12}\b/gi,"/users/_REDACTED_OBJECTID_"],],s=[[/^.*"tags\\*":(?!\\*"_REDACTED_TAGS_).*$/i,'"_REDACTED_CONTAINS_TAGS_"'],],h=u.concat([[/\b_REDACTED_EMAIL_(%40|@)([a-z0-9.-]*\.[a-z]{2,})\b/gi,"_REDACTED_EMAIL_"],[/([0-9a-f]{8}-?[0-9a-f]{4}-?[0-9a-f]{4}-?[0-9a-f]{4}-?[0-9a-f]{12})\b/gi,"_REDACTED_GUID_"],]);t.setObjectIdToScrub=c;t.serializationPrivacyReplacer=l;t.sanitizeMessageFull=a;t.sanitizeMessage=v;t.sanitizeUriComponent=y;t.logFunctions={};var p=MsPortalFx.canModifyExtensions,w=MsPortalFx.trace,e=50,b=MsPortalFx.isDevelopmentMode||!!w.diagnostics;t.logHelper=k()}));
define("Fx/Diagnostics",["require","exports","FxInternal","FxInternal/Diagnostics"],(function(n,t,i,r){function c(n){return u(n)}function u(n){var t;try{t=h(n)}catch(i){t="ERROR serializing message: "+h(i)}return t}function s(n){if(typeof n=="string")return n;try{return JSON.stringify(n,r.serializationPrivacyReplacer)}catch(t){return"_CYCLIC_OBJECT_"}}function l(n){var i=new Set,t=n;do Object.getOwnPropertyNames(t).forEach((function(n){n!=="__proto__"&&i.add(n)}));while(t=Object.getPrototypeOf(t));return i}function h(n){if(!n||typeof n!="object")return String(n);var t=[];return l(n).forEach((function(r){var f=n[r],e=typeof f;e!=="function"&&(e==="string"||i.startsWith(r,"###")||(f=f instanceof Error?u(f):Array.isArray(f)?s(f.map((function(n){return n instanceof Error?u(n):n}))):s(f)),t.push(r+": "+f+"\r\n"))})),t.sort().join("")}function f(){throw new Error("DI container value not set.");}var e,o;Object.defineProperty(t,"__esModule",{value:!0});t.getLogFriendlyMessage=t.createLog=t.Logging=void 0;e=(function(){function n(){}return n.prototype.writeEntry=function(){f()},n.prototype.flush=function(){f()},n.prototype.disable=function(){f()},n.prototype.createLog=function(n){var t=this,i=typeof n=="string"?n:n.normalize(undefined);return{verbose:function(n){for(var u=[],r=1;r<arguments.length;r++)u[r-1]=arguments[r];t.writeEntry(0,i,n,null,u)},warning:function(n,r){for(var f=[],u=2;u<arguments.length;u++)f[u-2]=arguments[u];t.writeEntry(1,i,n,r,f)},error:function(n,r){for(var f=[],u=2;u<arguments.length;u++)f[u-2]=arguments[u];t.writeEntry(2,i,n,r,f)},debug:function(n){for(var u=[],r=1;r<arguments.length;r++)u[r-1]=arguments[r];t.writeEntry(-1,i,n,null,u)},writeEntry:function(n,r,u,f){t.writeEntry(n,i,r,u,f)}}},n})();t.Logging=e;o=function(n){var t,i,r=(i=(t=MsPortalFx===null||MsPortalFx===void 0?void 0:MsPortalFx.Base)===null||t===void 0?void 0:t.Diagnostics)===null||i===void 0?void 0:i.createLog;if(r)return r(n);throw new Error("'createLog' is not available in this context.");};t.createLog=o;t.getLogFriendlyMessage=c}));
define("Fx/DependencyInjectionCore",["require","exports","Fx/Diagnostics","FxInternal"],(function(n,t,i,r){function g(n){var t=p.get(n);return t||p.set(n,t={creatingCount:0,maxCreationTime:0}),t}function nt(n){var i=f("fx:class",n),t=f("fx:diagnostics",n,i&&i.propertyKey);return t?[t[1],t[0].normalize()]:[n.name||"unnamed"]}function u(n){return"'".concat(nt(n).join("' from '"),"'")}function tt(n,t,i){var r=g(t),e=setTimeout((function(){i.warning("".concat(u(t)," is taking a long time to create."))}),1e4),f;return r.creatingCount++,f=y.fx.getTimestamp(),n.then((function(n){return r.maxCreationTime=Math.max(r.maxCreationTime,y.fx.getTimestamp()-f),r.creatingCount--,clearTimeout(e),n}))}function h(n,t,i,r){n=n||"";var e=f("fx:class",i);if(e){if(e.scope!==n)throw new Error("Cannot decorate ".concat(u(i)," with different scopes: '").concat(n,"' and '").concat(e.scope,"'."));if(e.isValue!==t)throw new Error("Cannot decorate ".concat(u(i)," as ambiguously value injected'."));}else Reflect.defineMetadata("fx:class",{isValue:t,propertyKey:r,scope:n,target:i},i)}function o(n){for(var i=[],t=n;t;t=t.importingEntry)i.push(u(t.type));return"The dependency sequence is: ".concat(i.reverse().join(" -> "),".")}function w(n,t){var i=n.size;return n.add(t),n.size>i}function it(n){return function(t){h(n,!1,t)}}function rt(n){return function(t,i){h(n,!1,t,i)}}function c(n){return function(t){h(n,!0,t)}}function e(n){return n&&typeof n.then=="function"}function b(n,t){var i=f("design:paramtypes",n.target,n.propertyKey);i&&i.forEach(t)}function l(n,t,i){return{activationMetadata:n,callstack:t,error:undefined,flags:0,importingEntries:[],importingEntry:i,instance:undefined,interceptor:undefined,type:n.target}}function k(){return new a("")}var s,a,v;Object.defineProperty(t,"__esModule",{value:!0});t.container=t.createContainer=t.Container=t.Value=t.Factory=t.Class=void 0;var y=window,d=Map,f=Reflect.getOwnMetadata,p=new Map;t.Class=it;t.Factory=rt;t.Value=c;s=(function(){function n(){}return n})();t.Container=s;a=(function(){function t(t,r){var u=this;this.scope=t;this._childContainers=new Set;this._map=new d;this._disposeCallstack=undefined;this._disposePromise=undefined;this._getLog=(function(){var t;return function(){return t||(t=u.get(i.Logging).createLog(n)),t}})();this._parent=r&&r.underlying;this._importingEntry=r&&r.importingEntry;this._parent&&this._parent._childContainers.add(this)}return t.prototype.createChildContainer=function(n){return new v(this,null).createChildContainer(n)},t.prototype.isDisposed=function(){return!!this._disposePromise},t.prototype.get=function(n,t,i,u){return u=u||r.getCurrentCallStack(),this._validate(new Set,n,t||this._importingEntry,u,i),this._get(n,t,u)},t.prototype.getAsync=function(n,t){var u=this,i=r.getCurrentCallStack();return e(n)?Q(r.tryImmediateResolve(Q(n),(function(n){return u.get(n,t,!0,i)}))):Q(this.get(n,t,!0,i))},t.prototype.set=function(n,t){return this._set("instance",n,t,2)},t.prototype.setInterceptor=function(n,t){return this._set("interceptor",n,t,0)},t.prototype.disposeAsync=function(){var t=this,n;return this._disposePromise||(this._disposeCallstack=r.getCurrentCallStack(),n=[],this._childContainers&&this._childContainers.forEach((function(t){n.push(t.disposeAsync())})),this._disposePromise=Promise.all(n).then((function(){n.length=0;var i=new Map,u=new Set,r=function(t){var e=t.type,f=i.get(e);return t.flags&4&&(t.flags&=-5,f=Promise.all(t.importingEntries.map(r)).then((function(){var n=t.instance;return t.instance=t.interceptor=t.error=undefined,n})).then((function(n){if(n&&n.dispose&&w(u,n))return n.dispose()})),i.set(e,f),n.push(f)),f};return t._map.forEach(r),Promise.all(n)})).then((function(){t._parent&&t._parent._childContainers.delete(t)}))),Q(this._disposePromise)},t.prototype._get=function(n,t,i){var r=this;return this._dispatch(n,t,i,!0,(function(n,t,f){var a=n.activationMetadata,h=n.type,o=n.instance,y,c,l,p;if(~n.flags&2){if(n.flags&1)throw new Error("Cannot lazily compose ".concat(u(h)," because a cycle has been detected."));n.flags|=1;y=function(n){var i,t=a.propertyKey?(i=h)[a.propertyKey].apply(i,n):new(h.bind.apply(h,__spreadArray([void 0],n,!1)));return e(t)?tt(t,h,r._getLog()):t};try{c=[];b(a,(function(r){c.push(r===s?new v(t,n):t._get(r,n,i))}));o=c.every((function(n){return!e(n)}))?y(c):Q.all(c).then(y);l=n.interceptor;l&&(o=e(o)?o.then((function(n){return l(n)||n})):l(o)||o);p=function(t){n.instance=t};p(o);e(o)&&o.then(p)}catch(w){n.error=w}n.flags|=6}if(n.error)throw n.error;return f&&f!==n&&r===t&&n.flags&4&&n.importingEntries.indexOf(f)<0&&n.importingEntries.push(f),o}))},t.prototype._set=function(n,t,i,f){return this._dispatch(t,null,r.getCurrentCallStack(),!1,(function(t){if(t.flags&1)throw new Error("Cannot set the ".concat(n," for ").concat(u(t.type)," because the type has already been composed at the following callstack:\n").concat(t.callstack,"\n").concat(o(t)));t[n]=i;t.flags|=f})),this},t.prototype._validate=function(n,t,i,r,h){this._dispatch(t,i,r,!0,(function(t,i){var l,c,v,a;if(~t.flags&2){if(l=t.activationMetadata,c=t.type,!h&&l.propertyKey&&(v=f("design:returntype",c,l.propertyKey),v!==c)){a="Cannot compose ".concat(u(c)," because it is being composed synchronously but the decorated '").concat(l.propertyKey,"' method ");a+=v?"is not declared to be synchronous. ":"does not have an expliclty declared return type. ";a+=o(t);throw new Error(a);}if(!w(n,c))throw new Error("Cannot compose ".concat(u(c)," because a cycle has been detected."));b(l,(function(f,e){if(f)f!==s&&i._validate(n,f,t,r,h);else throw new Error("The type of parameter #".concat(e+1," of ").concat(u(c)," is undefined."));}));n.delete(c)}else if(!h&&e(t.instance))throw new Error("Cannot synchronously compose async type. ".concat(o(t)));}))},t.prototype._dispatch=function(n,t,i,r,e){var s=f("fx:class",n),a,v,h,c;if(!s){a="Cannot compose ".concat(u(n)," because it is not correctly decorated.");t&&(a+=" The type was imported by ".concat(u(t.type),"."));throw new Error(a);}if(v=s.scope,h=r?this._getContainer(s):this.scope===s.scope?this:undefined,h){if(h.isDisposed())throw new Error("Cannot use container because was already disposed at the following callstack:\n".concat(h._disposeCallstack,"\n. ").concat(o(l(s,i,t)),"\nDependency callstack: ").concat(i,"\n."));}else if(r)if(s.isValue)throw new Error("Cannot compose ".concat(u(n)," because it has not been value injected. ").concat(o(l(s,i,t))));else throw new Error("The injection scope '".concat(v,"' for ").concat(u(n)," cannot be composed with the given container hierarchy."));else throw new Error("Cannot value inject ".concat(u(n)," because the container does not have the same scope."));return c=h._map.get(n),c||h._map.set(n,c=l(s,i,t)),e(c,h,t)},t.prototype._getContainer=function(n){for(var t=this;;t=t._parent)if(!t||t._map.has(n.target)||!n.isValue&&t.scope===n.scope)return t},t})();t.createContainer=k;v=(function(n){function t(t,i){var r=n.call(this)||this;return r.underlying=t,r.importingEntry=i,r.scope=t.scope,r}return __extends(t,n),t.prototype.createChildContainer=function(n){return new a(n,this)},t.prototype.isDisposed=function(){return this.underlying.isDisposed()},t.prototype.get=function(n){return this.underlying.get(n,this.importingEntry)},t.prototype.getAsync=function(n){return Q(this.underlying.getAsync(n,this.importingEntry))},t})(s);t.container=k();c()(FxImpl.Features);c()(i.Logging)}));
define("FxInternal/Errors",["require","exports","Fx/Errors"],(function(n,t,i){var r,u,f;Object.defineProperty(t,"__esModule",{value:!0});t.FxDisposedCanceledError=t.FxCanceledError=void 0;r="MsPortalFx.Errors.";u=(function(n){function t(t){var r=i.getErrorOptions(t,{name:"CanceledError",errorLevel:0});return n.call(this,r)||this}return __extends(t,n),t.TypeName="".concat(r,"CanceledError"),t})(i.FxError);t.FxCanceledError=u;f=(function(n){function t(t){var r=i.getErrorOptions(t,{name:"DisposedCanceledError"});return n.call(this,r)||this}return __extends(t,n),t.TypeName="".concat(r,"DisposedCanceledError"),t})(u);t.FxDisposedCanceledError=f}));
define("FxInternal/Features",["require","exports"],(function(n,t){Object.defineProperty(t,"__esModule",{value:!0});t.Features=void 0;t.Features=FxImpl.Features}));
define("FxInternal/Lifetime",["require","exports","FxInternal"],(function(n,t,i){function r(n){var t=typeof n=="string"?i.createError(n):n;if(o)throw t;Promise.reject(t)}function c(n,t){var i=typeof n.dispose=="function"?n.dispose:typeof n=="function"?n:null;return t&&i&&i.call(n),!!i}Object.defineProperty(t,"__esModule",{value:!0});t.TriggerableLifetimeManager=void 0;var u=MsPortalFx.isDevelopmentMode,f=MsPortalFx.trace,e=f?f.lifetime:!1,o=u||e,s=u&&e,h=1e3,l=(function(){function n(t){var u=this,l=[],e=!1,a=!1,v=t===null||t===void 0?void 0:t.parent,f=[],w=[],y=(t===null||t===void 0?void 0:t.depth)||0,b,p;s&&(this._createStack=i.getCurrentCallStack(!0));b=function(n){return l.lastIndexOf(n)>=0||f.lastIndexOf(n)>=0};p=function(n){var t=!e;n?c(n,!t)||(r("disposable must have a dispose method or be a function."),t=!1):t=!1;t&&l.push(n)};this.isDisposed=function(){return e};this.registerForDispose=function(n){var t=Array.isArray(n)?n:[n];return t.forEach(p,u),u};this.createChildLifetime=function(){if(y===h)throw i.createError("The maximum allowed depth of children allowed is ".concat(h));var t=new n({depth:y+1,parent:u.isDisposed()?null:u});return u.isDisposed()?t.dispose():f.push(t),t};this._dispose=function(){var n=[],t;e||(e=a=!0,s&&(u._disposeStack=i.getCurrentCallStack(!0)),[l,f].forEach((function(t){while(t.length){var i=t.pop();try{c(i,!0)}catch(r){n.push(r);o&&w.push(i)}}})),n.length&&r(i.createError("error to disposing this lifetimeManager. Exceptions: ",{innerErrors:n})),t=v,v&&(v=null,t._unregisterChildForDispose(u)),a=!1)};this._unregisterChildForDispose=function(n){if(!a){var t=f.lastIndexOf(n);t<0?r("lifetime Manager internal error. this._unregisterChildForDispose is called but the disposeable is not one of the child it created."):t===f.length-1?f.pop():f.splice(t,1)}}}return n.prototype.dispose=function(){this._dispose()},n})();t.TriggerableLifetimeManager=l}));
define("FxInternal/Rpc",["require","exports","Fx/DependencyInjectionCore","FxInternal/Lifetime","Fx/Errors","FxInternal/Errors","FxInternal","FxInternal/Features"],(function(n,t,i,r,u,f,e,o){function ft(n){var t=FxImpl.Rpc||(FxImpl.Rpc={});t.messageContext=n;l=n}function pt(){return l}function a(n,t,i){t===void 0&&(t=l);var r=t&&t.callStack,u=n||"";return r&&n.indexOf(k)<0&&(u+="\r\n".concat(k," ").concat(t.srcWindowId," -> ").concat(t.destWindowId).concat(i?" (".concat(i,")"):"","\r\n").concat(r)),u}function d(n){var t={message:n.message,stack:n.stack,data:n.data,errorLevel:n.errorLevel,_sourceErrorLevel:n._sourceErrorLevel},i=t.stack||"";return t.stack=i.substring(0,b.length)===b?i:b+i,t}function wt(n){return new u.FxError(n)}function bt(n){n&&typeof n.stack=="string"&&(n.stack=a(n.stack))}function kt(n){return a(e.getCurrentCallStack(n))}function st(){throw new Error("Handler is not defined.");}function dt(n,t){return{port:t[n.portIndex],portId:n.portId,portIndex:0}}function gt(n,t){var i=t.length;return t.push(n.port),{port:undefined,portId:n.portId,portIndex:i}}function ht(n,t,i){for(var r,u=0;u<n.length;u++)r=n[u],r.data.kind===0&&(n[u]={callStack:r.callStack,srcInstanceIndex:r.srcInstanceIndex,destWindowId:r.destWindowId,srcWindowId:r.srcWindowId,data:{kind:0,data:i(r.data.data,t)}})}function ct(n,t){return(typeof n=="string"?n:n&&n.message&&n.message+"")||t+" No error message could be found. Check whether the error was signaled with an Error object."}function y(n,t,i){var u=l;ft(n);try{return t(n)}catch(r){bt(r);i(r);throw r;}finally{ft(u)}}var k,v,g,et,nt,ot,tt,it,p,rt,at,ut,vt;Object.defineProperty(t,"__esModule",{value:!0});t.FuncEndPointDefinition=t.FuncEndPointDefinitionBase=t.ActionEndPointDefinition=t.ActionEndPointDefinitionBase=t.EndPointDefinition=t.Client=t.PendingObjectTable=t.EndPointTable=t.MessageMultiplexer=t.MessageDispatcher=t.RpcChannel=t.DisposableValueDictionary=t.DisposableValue=t.getCurrentCallStack=t.createRpcError=t.createCallStack=t.getMessageContext=void 0;var w=window.fx.getTimestamp,s="fxw",h="",yt={cannotDefineHandler:h,badRefCount:h,routeExists:h,endpointExists:h,notStarted:h},c=e.getErrorMap(yt),b=e.generateNonSerializableProperty("_RPC_Exception_")+"\n",l;t.getMessageContext=pt;k="From RPC:";t.createCallStack=a;t.createRpcError=d;t.getCurrentCallStack=kt;v=(function(){function n(n){this.value=n;this._disposeCallbacks=[]}return n.prototype.getValue=function(){return this.value},n.prototype.dispose=function(n){var r,t,i,u;if(this._disposeCallbacks)for(this._disposeReason=n,r=this._disposeCallbacks,this._disposeCallbacks=null,t=0,i=r;t<i.length;t++){u=i[t];try{u(n)}catch(f){setTimeout((function(){throw f;}),0)}}},n.prototype.onDispose=function(n){this._disposeCallbacks?this._disposeCallbacks.push(n):n(this._disposeReason)},n})();t.DisposableValue=v;g=(function(){function n(n){this._countChangesCallback=n;this._map=new Map}return n.prototype.getValue=function(n){return this._map.get(n)},n.prototype.setValue=function(n,t){var r=this._map,i=this._countChangesCallback,u=r.has(n);r.set(n,t);!u&&i&&i(n,!0);t.onDispose((function(){r.delete(n)&&i&&i(n,!1)}));return t},n.prototype.getValues=function(){var n=[];return this._map.forEach((function(t){n.push(t)})),n},n.prototype.dispose=function(){var n=this.getValues();e.disposeDisposable(n);this._map.clear()},n.prototype.disposeValues=function(n){var t=this,i=n.map((function(n){return t._map.get(n)})).filter((function(n){return!!n}));e.disposeDisposable(i)},n})();t.DisposableValueDictionary=g;et=(function(n){function t(t){var r=this,u=t instanceof Promise&&t.then((function(n){return i=n})),i=!u&&t;r=n.call(this,i)||this;r.onDispose((function(){return __awaiter(r,void 0,void 0,(function(){var t,n;return __generator(this,(function(r){switch(r.label){case 0:return(n=i,n)?[3,2]:[4,u];case 1:n=r.sent();r.label=2;case 2:return t=n,t.onmessage=null,t.close(),[2]}}))}))}));return r.onMessage=function(n){var t=function(t){t.onmessage=n};i?t(i):u.then(t)},r.postMessage=function(n,t){i?i.postMessage(n,t):u.then((function(i){i.postMessage(n,t)}))},r}return __extends(t,n),t})(v);t.RpcChannel=et;nt=(function(){function n(n){this._handler=n;this._outerList=[];this._sourceList=[];this._outerListIndex=0;this._innerListIndex=0}return n.prototype._processInnerList=function(){var r=this,n,t=this._outerList[this._outerListIndex],u=this._sourceList[this._outerListIndex],i=t.length;try{for(n=this._innerListIndex;n<i;n++)this._handler(t[n],u)}finally{n<i-1?(this._innerListIndex=n+1,Q.nextTick((function(){r._processOuterList()}))):(this._outerListIndex++,this._innerListIndex=0)}},n.prototype._processOuterList=function(){while(this._outerListIndex<this._outerList.length)this._processInnerList();this._outerList.length=0;this._sourceList.length=0;this._outerListIndex=0},n.prototype.addItem=function(n,t){this._outerList.push(n);this._sourceList.push(t);this._processOuterList()},n.prototype.isEmpty=function(){return this._outerListIndex>=this._outerList.length},n})();t.MessageDispatcher=nt;ot=(function(){function n(n,t){var i=this;this._useSlowFlush=n;this._sender=t;this._frameBuffer=[];this.flush=function(){i._frameBuffer.length>0&&(i._sender(i._frameBuffer),i._frameBuffer.length=0);i._isCallbackScheduled=!1};this._isCallbackScheduled=!1}return n.prototype._schedule=function(){this._isCallbackScheduled||(this._isCallbackScheduled=!0,this._useSlowFlush?setTimeout(this.flush,0):Q.nextTick(this.flush))},n.prototype.send=function(n){this._schedule();this._frameBuffer.push(n)},n})();tt=(function(){function n(n,t){this._listener=n;this._handlerMap=[];for(var i=0;i<t;i++)this._handlerMap.push(st)}return n.prototype.handleMessage=function(n,t){this._handlerMap[n.kind](n.data,t)},n.prototype.registerHandler=function(n,t){var i=this;return(n>=this._handlerMap.length||this._handlerMap[n]!==st)&&c.cannotDefineHandler(),this._handlerMap[n]=t,function(t,r){i._listener({kind:n,data:t},r)}},n})();t.MessageMultiplexer=tt;var ni=(function(){function n(n,t,i,r){var u=this;this.remoteId=n;this._messageHandler=t;this._log=i;this._rpcChannel=undefined;this._sender=undefined;this._handleMessage=function(n){var t=n.data;n.ports&&n.ports.length&&ht(t,n.ports,dt);u._messageHandler.addItem(t,u)};this.setChannel=function(n){var f,t,i;if(n){u._rpcChannel=n;i=function(t){var r=[],i;ht(t,r,gt);i=!1;try{n.postMessage(t,r);i=!0}finally{i||u._log.error("Post message from '".concat(window.location.href,"' to '").concat(u.remoteId,"' failed. This will hang RPC."),0,e.getObjectDescriptor(t))}};u._sender=r?new ot(u.remoteId===s,i):{send:function(n){i([n])}};n.onMessage(u._handleMessage)}else(t=(f=u._sender).flush)===null||t===void 0?void 0:t.call(f),u._rpcChannel.dispose(undefined),u._rpcChannel=undefined,u._sender=undefined}}return n.prototype.send=function(n){this._sender&&this._sender.send(n)},n})(),ti=(function(){function n(){this._refCounts=new Map;this.totalCount=0}return n.prototype.updateRef=function(n,t,i){var r=this._refCounts.get(t)||this._refCounts.set(t,new Set).get(t);return i?(r.has(n)||this.totalCount++,r.add(n)):r.delete(n)&&this.totalCount--,this.totalCount},n.prototype.clearRefCounts=function(){var n=this.totalCount;return this._refCounts.clear(),this.totalCount=0,n},n.prototype.getRefs=function(){var n=this;return Array.from(this._refCounts.keys()).reduce((function(t,i){return t[i]=Array.from(n._refCounts.get(i).keys()),t}),[])},n})(),ii=(function(){function n(){this._refCounts={};this._subscriptions=[];this.totalCount=0}return n.prototype._getRefCountSet=function(n,t){var i=this._refCounts[n];return!i&&t&&(this._refCounts[n]=i=new ti),i},n.prototype.setRefCount=function(n,t,i,r){var f=this._getRefCountSet(n,!0),e=f.totalCount,o=f.updateRef(t,i,r),u=o-e;return u?(this._updateTotal(u),u>0?e?1:0:o?3:2):4},n.prototype.clearRefCountsFrom=function(n){var t=this._getRefCountSet(n),i;t&&(i=t.clearRefCounts(),this._updateTotal(-i))},n.prototype.getRefCountsFrom=function(n){var t=this._getRefCountSet(n);return t?t.totalCount:0},n.prototype.getRefsFrom=function(n){var t=this._getRefCountSet(n);return t?t.getRefs():{}},n.prototype.subscribe=function(n){this._subscriptions.push(n)},n.prototype._updateTotal=function(n){var t=this;this.totalCount+=n;this._subscriptions.forEach((function(n){return n(t.totalCount)}))},n})(),ri=(function(){function n(n,t,i,r,u){this._windowId=n;this._routeWindowSetter=t;this._clearRefCountsFunc=i;this._sendShutdownMessage=r;this._loadChannelFunction=u;this._windowUnloadTimeoutHandle=0;this._channel=undefined;this._instanceIndex=0}return n.prototype.isAlive=function(){return this._windowUnloadTimeoutHandle?!1:!!this._channel},n.prototype.setWindowLoaded=function(n){var t=this,r,i;if(n)if(this._channel)this._windowUnloadTimeoutHandle!==0&&(clearTimeout(this._windowUnloadTimeoutHandle),this._windowUnloadTimeoutHandle=0);else{r=this._instanceIndex++;i=void 0;try{this._channel=this._loadChannelFunction(this._windowId,r)}catch(u){i=u}if(this._channel){this._channel.onDispose((function(n){t._channel=undefined;var i=t._windowId;t._sendShutdownMessage(undefined,i);t._routeWindowSetter.setRouteChannel(i,null);clearTimeout(t._windowUnloadTimeoutHandle);t._windowUnloadTimeoutHandle=0;t._clearRefCountsFunc({instanceIndex:r,windowId:i,error:{message:n||"The RPC channel '".concat(i,"' was terminated for an unknown reason."),stack:undefined,data:undefined,errorLevel:2}})}));this._routeWindowSetter.setRouteChannel(this._windowId,this._channel)}else this._clearRefCountsFunc({instanceIndex:r,windowId:this._windowId,error:{message:ct(i,"Fail to load RPC channel '".concat(this._windowId,"'.")),stack:i&&i.stack,data:undefined,errorLevel:i&&i.errorLevel}})}else!n&&this._channel&&this._windowUnloadTimeoutHandle===0&&(this._windowUnloadTimeoutHandle=setTimeout((function(){t.terminate("The RPC channel '".concat(t._windowId,"' was garbage collected."))}),24e4))},n.prototype.terminate=function(n){this._channel&&this._channel.dispose(n)},n})(),ui=(function(){function n(n,t,i,r){var u=this;this._routeWindowSetter=n;this._sendResetMessage=t;this._sendShutdownMessage=i;this._loadChannelFunction=r;this._refCounts={};this._knownWindows=[s];this._loadableWindows={};this._clearRefCountsFunction=function(n){for(var r=0,e=u._knownWindows;r<e.length;r++){var i=e[r],o=n.windowId,f=u.getWindowRefCounts(i,!1),t=u.getWindowRefCounts(o,!1);(t&&t.getRefCountsFrom(i)>0||f&&f.getRefCountsFrom(o)>0)&&u._sendResetMessage(__assign(__assign({},n),{referenceIds:t===null||t===void 0?void 0:t.getRefsFrom(i)}),i);t&&t.clearRefCountsFrom(i);f&&f.clearRefCountsFrom(o)}}}return n.prototype._getLoadableWindow=function(n){var t=this._loadableWindows[n];return t||n===s||(t=new ri(n,this._routeWindowSetter,this._clearRefCountsFunction,this._sendShutdownMessage,this._loadChannelFunction),this._loadableWindows[n]=t,this._knownWindows.push(n)),t},n.prototype.setRefCount=function(n,t){var r=t.target,u=this.getWindowRefCounts(r,!0).setRefCount(n,t.referenceId,t.kind,t.isAdd),i=this._getLoadableWindow(r);return i&&(t.isAdd&&!i.isAlive()||u===2&&i.isAlive())&&this._refreshLoadedState(),u},n.prototype.getWindowRefCounts=function(n,t){var i=this._refCounts[n];return!i&&t&&(this._refCounts[n]=i=new ii),i},n.prototype.terminateWindow=function(n,t){this._getLoadableWindow(n).terminate(t)},n.prototype._refreshLoadedState=function(){for(var l={},u=[s],a=Object.keys(this._loadableWindows),f=a.slice(),e,t,o,v,n,i,r,h,c;u.length>0;){for(e=[],t=0,o=u;t<o.length;t++)for(v=o[t],n=f.length-1;n>=0;n--)i=f[n],this.getWindowRefCounts(i,!0).getRefCountsFrom(v)>0&&(l[i]=undefined,e.push(i),f.splice(n,1));u=e}for(r=0,h=a;r<h.length;r++)c=h[r],this._loadableWindows[c].setWindowLoaded(c in l)},n})();var fi=(function(){function n(n,t,i,r,u,f,o){var h=this,l,a;this._instanceIndex=n;this.localWindowId=t;this._reportError=u;this._log=f;this._logging=o;this._handleMessage=function(n){return h.routedMessageRelay.handleMessage(n.data,n)};this._messageDispatcher=new nt(function(n,t){var i=t.remoteId,u=n.srcWindowId,r;if(i!==s&&i!==u){h._log.error("Message from route to '".concat(i,"' specifies an invalid window ID '").concat(u,"'."),1);return}r=n.destWindowId;r===h.localWindowId?y(n,h._handleMessage,h._reportError):h._baseDispatcher.sendMessage(r,n)});this._routedMessageClients=[];this.routedMessageRelay=new tt(function(n,t){var i=h.localWindowId,r={callStack:e.getCurrentCallStack(),srcInstanceIndex:h._instanceIndex,destWindowId:t,srcWindowId:i,data:n},u;i===t?y(r,h._handleMessage,h._reportError):(u=i===s?t:s,h._baseDispatcher.sendMessage(u,r))},12);this._sendRefCount=this.routedMessageRelay.registerHandler(5,(function(n,t){h._shellRefCounter?h._shellRefCounter.setRefCount(t.srcWindowId,n):c.badRefCount()}));this.log=this.routedMessageRelay.registerHandler(4,(function(n){h._logging.writeEntry(n.level,n.area,n.message,n.code)}));this.raiseRemoteException=this.routedMessageRelay.registerHandler(3,(function(n){throw d(n);}));this._baseDispatcher=new ei(this._messageDispatcher,r,f,t);l=this.routedMessageRelay.registerHandler(1,(function(n,t){t.srcWindowId===s&&h._routedMessageClients.forEach((function(t){t.reset(n)}))}));a=this.routedMessageRelay.registerHandler(2,(function(n,t){t.srcWindowId===s&&(h._logging.flush(),h._logging.disable())}));i&&(this._shellRefCounter=new ui(this._baseDispatcher,l,a,i))}return n.prototype.getTotalRefCounts=function(n){return this._shellRefCounter.getWindowRefCounts(n,!0)},n.prototype.terminateWindow=function(n,t){return this._shellRefCounter.terminateWindow(n,t)},n.prototype.createClient=function(n,t,i,r,u){var f=new n(this,t,i,r,u);return this._routedMessageClients.push(f),f},n.prototype.setRefCount=function(n,t,i,r){var u={target:n,kind:i,referenceId:t,isAdd:r};this._shellRefCounter?this._shellRefCounter.setRefCount(s,u):this._sendRefCount(u,s)},n.prototype.dispose=function(){this._baseDispatcher.dispose()},n})(),ei=(function(){function n(n,t,i,r){if(this._messageHandler=n,this._log=i,this._localWindowId=r,this._routes=Object.create(null),t){var u=this._registerRoute(s);u.setChannel(t)}}return n.prototype.sendMessage=function(n,t){var i=this._routes[n];if(i)return i.send(t)},n.prototype.setRouteChannel=function(n,t){var i=this._routes[n];i||(i=this._registerRoute(n));i.setChannel(t)},n.prototype._registerRoute=function(n){this._routes[n]&&c.routeExists(n);var t=!(this._localWindowId==="fx"||this._localWindowId==="fxw")||this._localWindowId==="fxw"&&n==="fx";return this._routes[n]=new ni(n,this._messageHandler,this._log,t)},n.prototype.dispose=function(){for(var n in this._routes)this._routes[n].setChannel(undefined)},n})(),oi=(function(){function n(n,t,i){this._name=n;this._options=t;this._reportError=i;this._results=new WeakSet}return n.prototype.invoke=function(n,t,i,f,o){var s=this,l=this._options,w=e.makeArray(l.allowedOrigin),v=new r.TriggerableLifetimeManager,c=i(v,l),p=function(n,i){e.disposeDisposable(c);n=n||{};var r=typeof n.stack=="string",f=a(r?n.stack:"",t,s._name),h=u.isInstanceOfErrorType(n,u.FxError)?n:new u.FxError({message:ct(n,"The RPC call '".concat(s._name,"' returned an error.")),stack:f});if(o(h),!i){r&&(n.stack=f);throw n;}},b=function(n){n&&typeof n=="object"&&(s._results.has(n)&&s._reportError(new Error("The endpoint '".concat(s._name,"' has returned the same object more than one time. This may cause errors.'"))),s._results.add(n))},h;if(w.length&&w.indexOf(t.srcWindowId)<0)p("The origin window '".concat(t.srcWindowId,"' is not allowed to access the endpoint name '").concat(this._name,"'."),!0);else try{h=l.handler(n,{callStack:t.callStack,port:c,destWindowId:t.destWindowId,ltm:v,srcInstanceIndex:t.srcInstanceIndex,srcWindowId:t.srcWindowId},v);Q.isPromiseAlike(h)?e.toPromise(h).then((function(n){b(n);y(t,(function(){return f(n,c)}),s._reportError)}),p):(b(h),f(h,c))}catch(k){p(k)}},n})(),lt=(function(){function n(n,t,i){this._registrationTimeoutInMs=n;this._reportError=t;this._log=i;this._endPoints={};this._endPointDeferred={}}return n.prototype.registerEndPoint=function(n,t){if(this._endPoints[n])c.endpointExists(n);else{var i=new oi(n,t,this._reportError),r=this._endPointDeferred[n];this._endPoints[n]=i;r&&(r.resolve(i),delete this._endPointDeferred[n])}},n.prototype.invokeEndPoint=function(n,t,i,r,f,o){var c=this,l=this._endPoints[n],s,h;l?l.invoke(t,i,r,f,o):(this._log.verbose("Attempted to invoke endpoint '".concat(n,"' but it is not registered. RPC call has been blocked until endpoint becomes registered.")),s=this._endPointDeferred[n],s||(s=e.defer(),this._endPointDeferred[n]=s),h=setTimeout((function(){h=0;var t="Attempted to invoke endpoint '".concat(n,"' from '").concat(i.srcWindowId,"' but it is not registered after ").concat(c._registrationTimeoutInMs,"ms. The call was made in:\r\n'").concat(i.callStack,"'");o(new u.FxError(t));c._log.warning(t)}),this._registrationTimeoutInMs),s.promise.then((function(n){h&&(clearTimeout(h),y(i,(function(i){return n.invoke(t,i,r,f,o)}),c._reportError))})))},n})();t.EndPointTable=lt;it=(function(){function n(n,t,i,r,u,f){this._destination=n;this._refCounter=t;this._kind=i;this._trackPerformance=r;this._log=u;this._recorder=f;this._pendingRpcCall=new Map;this._connectionId=0}return n.prototype._setRefCount=function(n,t){this._refCounter.setRefCount(this._destination,n,this._kind,t)},n.prototype.getMetadata=function(n){return this._pendingRpcCall.get(n)},n.prototype.create=function(n,t,i){var u=this,o=Q.defer(),s=e.getCurrentCallStack(),r=this._connectionId++,h=w(),f=this._trackPerformance?n+r:"",l=this._recorder&&function(t){if(t>=0){var r=w()-h,i=n.split("."),f=i[i.length-1];u._recorder({name:f,callerDuration:r,handlerDuration:t})}},c;return f&&performance.mark(f),this._pendingRpcCall.set(r,{creationCallStack:s,endPointName:n,performanceMarker:f,returnValue:o,telemetryContext:i,recordInvocation:l}),this._setRefCount(r,!0),c=setTimeout((function(){u._log.warning("RPC call to '".concat(n,"' in '").concat(u._destination,"' took too long. ConnectionId: ").concat(r),0,w()-h,s)}),3e5),t(r),Q(o.promise).finally((function(){clearTimeout(c);Q.nextTick((function(){u._pendingRpcCall.delete(r);u._setRefCount(r,!1)}))}))},n.prototype.resolve=function(n,t,i){var u,r=this._pendingRpcCall.get(n),f;r&&(f=r.performanceMarker,f&&performance.measure(["RPC:",this._destination,r.endPointName].join(" "),f),(u=r.recordInvocation)===null||u===void 0?void 0:u.call(r,i),r.returnValue.resolve(t))},n.prototype.reject=function(n,t){var r,i=this._pendingRpcCall.get(n);i&&(t.error.stack=t.error.stack||i.creationCallStack,(r=i.recordInvocation)===null||r===void 0?void 0:r.call(i,-1),i.returnValue.reject(wt(t.error)))},n.prototype.handleResetMessage=function(n){var r=this,t,i=(t=n.referenceIds)===null||t===void 0?void 0:t[3];i===null||i===void 0?void 0:i.forEach((function(t){r.reject(t,n)}))},n.prototype.dispose=function(){this._pendingRpcCall.clear()},n.prototype.getPendingInvokes=function(){return Array.from(this._pendingRpcCall.values()).map((function(n){var t=n.endPointName,i=n.returnValue;return{name:t,promise:i.promise}}))},n})();t.PendingObjectTable=it;var si=(function(){function n(n,t,i,r,u){var f=this,o;this._clientCtx=n;this._endPoints=t;this._log=i;this._features=r;this._recorder=u;this._targetWindows=Object.create(null);o=n.routedMessageRelay;this._sendInvokeFunc=o.registerHandler(6,(function(n,t){var i=t.srcWindowId,r=n.connectionId,u=e.startTimer();f._endPoints.invokeEndPoint(n.name,n.arg,t,e.identity,(function(n,t){f._sendRpcResolveFunc({connectionId:r,successValue:n,handlerDuration:u()},i);e.disposeDisposable(t)}),(function(n){f._sendRpcRejectFunc({connectionId:r,error:d(n)},i)}))}));this._sendRpcResolveFunc=o.registerHandler(7,(function(n,t){f._getWindowContext(t.srcWindowId).resolve(n.connectionId,n.successValue,n.handlerDuration)}));this._sendRpcRejectFunc=o.registerHandler(8,(function(n,t){f._getWindowContext(t.srcWindowId).reject(n.connectionId,n)}))}return n.prototype._getWindowContext=function(n){return this._targetWindows[n]||(this._targetWindows[n]=new it(n,this._clientCtx,3,this._features.isNativePerf,this._log,this._recorder))},n.prototype.invoke=function(n,t,i,r){var u=this;return Q(this._getWindowContext(t).create(n,(function(r){u._sendInvokeFunc({connectionId:r,name:n,arg:i},t)}),r))},n.prototype.reset=function(n){this._getWindowContext(n.windowId).handleResetMessage(n)},n.prototype.dispose=function(){for(var n in this._targetWindows)this._targetWindows[n].dispose()},n.prototype.getPendingInvokes=function(){var n=this;return Object.keys(this._targetWindows).reduce((function(t,i){return t.push.apply(t,n._targetWindows[i].getPendingInvokes()),t}),[])},n})(),hi=(function(){function n(n){var t=this;this._routedMsgClientCtx=n;this._targetWindows=Object.create(null);this._transferPort=this._routedMsgClientCtx.routedMessageRelay.registerHandler(0,(function(n,i){t._getWindowContext(i.srcWindowId).portMap[n.portId]=n.port}));this._counter=0}return n.prototype._getWindowContext=function(n){var t=this;return this._targetWindows[n]||(this._targetWindows[n]={acquisitions:new g(function(i,r){t._routedMsgClientCtx.setRefCount(n,i,0,r)}),portMap:[]})},n.prototype.acquireWindow=function(n,t,i){var u=this._counter++,r=new v(u),f;if(t||(t=24e4),t>0){f=setTimeout((function(){e.disposeDisposable(r)}),t);r.onDispose((function(){clearTimeout(f)}))}return this._getWindowContext(n).acquisitions.setValue(u,r),i&&this._transferPort({port:i,portId:r.value,portIndex:0},n),r},n.prototype.detachPort=function(n,t){var i=this._getWindowContext(n).portMap,r=i[t];if(!r)throw new Error("Cannot find port with id '".concat(t,"'"));return delete i[t],r},n.prototype.reset=function(n){var t,i=(t=n.referenceIds)===null||t===void 0?void 0:t[0];i&&this._getWindowContext(n.windowId).acquisitions.disposeValues(i)},n})(),ci=(function(){function t(n,t,i,r){var o=this,u,f,e;this._registrationTimeoutInMs=n;this._reportError=t;this._logging=i;this._features=r;this._disposed=!1;this._log=i.createLog("MsPortalFx/Base/Base.Rpc2");this.reset();this._recorder=function(n){u===null||u===void 0?void 0:u(n)};this.record=function(){var n=[],t=u=function(t){n.push(t)};return function(){return o._recorder===t&&(u=null),n}};f=[];e=this.pendingInvocationCount={subscribe:function(n){f.push(n)},totalCount:0};this._trackInvocation=function(n){e.totalCount+=1;n.finally((function(){var n=e.totalCount-=1;f.forEach((function(t){t(n)}))}))}}return t.prototype.registerRpcEndPoint=function(n,t){this._rpcEndPoints.registerEndPoint(n,t)},t.prototype.log=function(n,t){this._assertReady();this._dispatcher.log(t,n)},t.prototype.invokeRpc=function(n,t,i,r){this._assertReady();var u=this._rpcClient.invoke(n,this._windowRedirectMap[t]||t,i,r);return this._trackInvocation(u),Q(u)},t.prototype.getTotalRefCountTo=function(n){return this._assertReady(),this._dispatcher.getTotalRefCounts(n)},t.prototype.detachPort=function(n,t){return this._windowAcquirer.detachPort(n,t)},t.prototype.acquireWindow=function(n,t,i){return this._assertReady(),this._windowAcquirer.acquireWindow(this._windowRedirectMap[n]||n,t,i)},t.prototype.terminateWindow=function(n,t){this._assertReady();this._dispatcher.terminateWindow(n,t)},t.prototype.start=function(n){this._windowRedirectMap=n.windowRedirectMap||{};var t=new fi(n.instanceIndex,n.originId,n.loadChannelFunction,n.shellChannel,this._reportError,this._log,this._logging);this._dispatcher=t;this._rpcClient=t.createClient(si,this._rpcEndPoints,this._log,this._features,this._recorder);this._windowAcquirer=t.createClient(hi,null,this._log,this._features,null)},t.prototype.reset=function(){this._rpcClient&&(this._rpcClient.dispose(),this._rpcClient=null);this._dispatcher&&(this._dispatcher.dispose(),this._dispatcher=null);this._rpcEndPoints=new lt(this._registrationTimeoutInMs,this._reportError,this._log)},t.prototype.dispose=function(){this._disposed=!0;this.reset()},t.prototype.getPendingInvokes=function(){return this._rpcClient.getPendingInvokes()},t.prototype._assertReady=function(){if(this._disposed)throw new f.FxDisposedCanceledError;else this._dispatcher||c.notStarted()},__decorate([__metadata("fx:diagnostics",[n,"Client"]),i.Value(),__metadata("design:paramtypes",[Number,Function,Object,o.Features])],t)})();t.Client=ci;p=(function(){function n(n){this.name=n}return n})();t.EndPointDefinition=p;rt=(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.register=function(n,t,i){n.registerRpcEndPoint(this.name,{allowedOrigin:t,handler:i})},t})(p);t.ActionEndPointDefinitionBase=rt;at=(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.invoke=function(n,t,i){return Q(n.invokeRpc(this.name,t,i))},t})(rt);t.ActionEndPointDefinition=at;ut=(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.register=function(n,t,i){n.registerRpcEndPoint(this.name,{allowedOrigin:t,handler:i})},t})(p);t.FuncEndPointDefinitionBase=ut;vt=(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.invoke=function(n,t,i){return Q(n.invokeRpc(this.name,t,i))},t})(ut);t.FuncEndPointDefinition=vt}));
define("FxHubs/RpcEndPointsCore",["require","exports","FxInternal/Rpc"],(function(n,t,i){var u,f,r,e,o;Object.defineProperty(t,"__esModule",{value:!0});t.Subscriptions=t.Impl=t.Directories=t.Browse=t.AssetTypes=void 0,(function(n){n.getAssetTypesInformationEndPoint=new i.FuncEndPointDefinition("MsPortalHubs.RpcEndPoints.getAssetTypesInformation");n.getSingleAssetTypeInformationEndPoint=new i.FuncEndPointDefinition("MsPortalHubs.RpcEndPoints.getSingleAssetTypeInformation")})(u=t.AssetTypes||(t.AssetTypes={})),(function(n){n.getBrowsePrereqsEndpoint=new i.FuncEndPointDefinition("FxHubs.RpcEndpoints.getBrowsePrerequisites");n.getBrowseManifestsEndpoint=new i.FuncEndPointDefinition("FxHubs.RpcEndpoints.getBrowseManifests");n.getBrowseManifestsForResourceTypesEndpoint=new i.FuncEndPointDefinition("FxHubs.RpcEndpoints.getBrowseManifestsForResourceTypes");n.onBrowseColumnsUpdatedEndPoint=new i.ActionEndPointDefinition("onBrowseColumnsUpdated");n.onBrowseFavoriteViewIdUpdatedEndPoint=new i.ActionEndPointDefinition("onBrowseFavoriteViewIdUpdated")})(f=t.Browse||(t.Browse={})),(function(n){n.getDirectoriesMapEndPoint=new i.FuncEndPointDefinition("getDirectoriesMap")})(r=t.Directories||(t.Directories={})),(function(n){function t(n){return Q(r.getDirectoriesMapEndPoint.invoke(n,"fx",null))}n.getDirectoriesMap=t})(e=t.Impl||(t.Impl={})),(function(n){n.getAllSubscriptionsCountEndPoint=new i.FuncEndPointDefinition("getAllSubscriptionsCount")})(o=t.Subscriptions||(t.Subscriptions={}))}));
define("FxHubs/RpcEndPoints",["require","exports","FxHubs/RpcEndPointsCore","Fx"],(function(n,t,i,r){var y,p,c,l,w,b,k,d,g,nt,tt,it,rt,ut,ft,et;Object.defineProperty(t,"__esModule",{value:!0});t.DashboardEndpoints=t.PartFilterEndpoints=t.BrowserStorageSettings=t.Impl=t.NotifyResourceCreated=t.Curation=t.Events=t.Experimentation=t.ResourceManager=t.Auth=t.Marketplace=t.Provisioning=t.Subscriptions=t.Directories=t.AssetTypes=t.AssetMenu=t.ArtBrowse=t.Constants=void 0;var a=MsPortalFx.Base,h=a.Constants,e=FxImpl.Rpc,f=e.FuncEndPointDefinition,v=e.ActionEndPointDefinition,o=e.FuncEndPointDefinition,s=FxImpl.Constants.RpcMethods,u;(function(n){n.updateContactEmail="MsPortalHubs.RpcEndPoints.updateContactEmail";n.getResourceAssetInformation="MsPortalHubs.RpcEndPoints.getResourceAssetInformation";n.mapResourceIdToDynamicSelectionAndIcon="MsPortalHubs.RpcEndPoints.mapResourceIdToDynamicSelectionAndIcon";n.getBladeDefinition="MsPortalHubs.RpcEndpoints.getBladeDefinition";n.doesBladeDefinitionExist="MsPortalHubs.RpcEndpoints.doesBladeDefinitionExist";n.getInSessionDisplayedSubscriptions="MsPortalHubs.RpcEndPoints.SelectedSubscriptions.getInSessionDisplayedSubscriptions";n.getAllSubscriptionsCount="MsPortalHubs.RpcEndPoints.SelectedSubscriptions.getAllSubscriptionsCount";n.pastDueSubsWarning="MsPortalHubs.RpcEndPoints.pastDueSubsWarning";n.getTenantsCount="MsPortalHubs.RpcEndPoints.Directories.getTenantsCount";n.getSharedCuration="MsPortalHubs.RpcEndPoints.getSharedCuration";n.getResourceTypesCategorization="MsPortalHubs.RpcEndPoints.getResourceTypesCategorization";n.getRecentResources="MsPortalHubs.RpcEndPoints.getRecentResources";n.setRecentResources="MsPortalHubs.RpcEndPoints.setRecentResources";n.addRecentResource="MsPortalHubs.RpcEndPoints.addRecentResource";n.getFavoriteResources="MsPortalHubs.RpcEndPoints.getFavoriteResources";n.isResourceFavorite="MsPortalHubs.RpcEndPoints.isResourceFavorite";n.addFavoriteResource="MsPortalHubs.RpcEndPoints.addFavoriteResource";n.addFavoriteResources="MsPortalHubs.RpcEndPoints.addFavoriteResources";n.removeFavoriteResource="MsPortalHubs.RpcEndPoints.removeFavoriteResource";n.getMarketplaceUserSettings="MsPortalHubs.RpcEndPoints.Marketplace.getMarketplaceUserSettings";n.publishIrisNotificationsTelemetry="MsPortalHubs.RpcEndPoints.publishIrisNotificationsTelemetry";n.cacheNewlyCreatedResources="MsPortalHubs.RpcEndPoints.cacheNewlyCreatedResources";n.createPostProvisioningContent="createPostProvisioningContent";n.getSpecsCosts="getSpecsCosts";n.getCurrentUser="getCurrentUser"})(u=t.Constants||(t.Constants={}));t.ArtBrowse=i.Browse,(function(n){n.getResourceMenuPrereqsEndpoint=new f("FxHubs.RpcEndpoints.getResourceMenuPrerequisites");n.getAssetMenuPrereqsEndpoint=new f("FxHubs.RpcEndpoints.getAssetMenuPrerequisites")})(y=t.AssetMenu||(t.AssetMenu={})),(function(n){n.getAssetTypesInformationEndPoint=i.AssetTypes.getAssetTypesInformationEndPoint;n.getSingleAssetTypeInformationEndPoint=i.AssetTypes.getSingleAssetTypeInformationEndPoint;n.getResourceAssetInformationEndPoint=new f(u.getResourceAssetInformation);n.getRecentResourcesEndPoint=new f(u.getRecentResources);n.setRecentResourcesEndPoint=new f(u.setRecentResources);n.addRecentResourceEndPoint=new f(u.addRecentResource);n.getFavoriteResourcesEndPoint=new f(u.getFavoriteResources);n.isResourceFavoriteEndPoint=new f(u.isResourceFavorite);n.addFavoriteResourceEndPoint=new f(u.addFavoriteResource);n.addFavoriteResourcesEndPoint=new f(u.addFavoriteResources);n.removeFavoriteResourceEndPoint=new f(u.removeFavoriteResource);n.cacheNewlyCreatedResourcesEndPoint=new f(u.cacheNewlyCreatedResources)})(p=t.AssetTypes||(t.AssetTypes={})),(function(n){n.getDirectoriesMapEndPoint=new f("getDirectoriesMap");n.getSubscriptionsForSelectedDirectoriesEndPoint=new f("getSubscriptionsForSelectedDirectories");n.getHomeTenantsCountEndPoint=new f(u.getTenantsCount)})(c=t.Directories||(t.Directories={})),(function(n){n.getInSessionDisplayedSubscriptionsEndPoint=new f(u.getInSessionDisplayedSubscriptions);n.getAllSubscriptionsCountEndPoint=i.Subscriptions.getAllSubscriptionsCountEndPoint;n.pastDueSubsWarningEndpoint=new f(u.pastDueSubsWarning)})(l=t.Subscriptions||(t.Subscriptions={})),(function(n){n.getBladeDefinitionLocatorEndPoint=new o(u.getBladeDefinition);n.doesBladeDefinitionExistEndPoint=new o(u.doesBladeDefinitionExist);n.marketplaceOverrideEndpoint=new o("MarketplaceOverrideEndpoint");n.createPostProvisioningContentEndPoint=new FxImpl.Rpc.ProxiedObjectTypeDefinition("createPostProvisioningContent")})(w=t.Provisioning||(t.Provisioning={})),(function(n){n.getMarketplaceUserSettingsEndPoint=new f(u.getMarketplaceUserSettings)})(b=t.Marketplace||(t.Marketplace={})),(function(n){n.getCurrentUserEndPoint=new f(u.getCurrentUser);n.getCurrentUser=r.memoizePromise((function(t){return n.getCurrentUserEndPoint.invoke(t,"fx")}))})(k=t.Auth||(t.Auth={})),(function(n){n.notifyDeploymentEndPoint=new e.FuncEndPointDefinition(s.notifyDeployment);n.pollDeploymentEndPoint=new e.FuncEndPointDefinition(s.pollDeployment);n.internalDeploymentHelper=new e.FuncEndPointDefinition(s.internalDeploymentHelper)})(d=t.ResourceManager||(t.ResourceManager={})),(function(n){n.expirimentationEndpoint=new e.FuncEndPointDefinition(s.experimentationHelper);n.experimentationValuesEndpoint=new e.FuncEndPointDefinition(s.experimentationValuesHelper)})(g=t.Experimentation||(t.Experimentation={})),(function(n){n.notifyAssetDeletedDefinition=new e.ActionEndPointDefinition("MsPortalFx.UI.AssetManager.NotifyAssetDeleted");n.createResourceDeletedEventDefinition=new e.ActionEndPointDefinition("MsPortalFx.UI.AssetManager.CreateResourceDeletedEvent");n.matchEventsDefinition=new e.ActionEndPointDefinition("MsPortalFx.UI.AssetManager.Hubs.MatchEvents");n.removeArmEventSubscriptionDefinition=new e.ActionEndPointDefinition("MsPortalFx.UI.AssetManager.Hubs.RemoveArmEventSubscription");n.subscribeToArmEventDefinition=new e.ProxiedObjectTypeDefinition("MsPortalFx.UI.AssetManager.Hubs.SubscribeToArmEvent")})(nt=t.Events||(t.Events={})),(function(n){n.getSharedCurationEndpoint=new f(u.getSharedCuration);n.getResourceTypesCategorizationEndPoint=new o(u.getResourceTypesCategorization)})(tt=t.Curation||(t.Curation={})),(function(n){n.notifyResourcesCreatedEndpoint=new FxImpl.Rpc.ActionEndPointDefinition("MsPortal.RpcEndPoints.notifyResourcesCreated")})(it=t.NotifyResourceCreated||(t.NotifyResourceCreated={})),(function(n){function r(n){return Q(l.getInSessionDisplayedSubscriptionsEndPoint.invoke(n,h.Shell,null))}function f(n){return Q(l.getAllSubscriptionsCountEndPoint.invoke(n,"fxw",null))}function o(n,i){return Q(FxImpl.Extension.mapResourceIdToDynamicSelectionAndIconEndPoint.invoke(e.client,h.Shell,{resourceId:n,forceBladeSelection:!0}).then((function(n){return t(n.selection,i)})))}function t(n,t){return Q(new i.PdlBladeReference(n.detailBlade,n.extension,{parameters:n.detailBladeInputs,onClosed:t}))}function s(n){return Q(c.getDirectoriesMapEndPoint.invoke(n,h.Shell,null))}function a(n,t){return Q(c.getSubscriptionsForSelectedDirectoriesEndPoint.invoke(n,h.Shell,t))}var i=FxImpl.Composition.Selectable;n.getInSessionDisplayedSubscriptions=r;n.getAllSubscriptionsCount=f;n.mapResourceIdToBladeReference=o;n.mapDynamicBladeSelectionToBladeReference=t;n.irisTelemetryEndpoint=new e.ActionEndPointDefinition(u.publishIrisNotificationsTelemetry);n.getDirectoriesMap=s;n.getSubscriptionsForSelectedDirectories=a})(rt=t.Impl||(t.Impl={})),(function(n){n.readBrowserStorageSettingsEndpoint=new o("Shell.readBrowserStorageSettings");n.writeBrowserStorageSettingsEndpoint=new v("Shell.writeBrowserStorageSettings")})(ut=t.BrowserStorageSettings||(t.BrowserStorageSettings={})),(function(n){n.getFilters=new o("Shell.getFilters");n.getFilterValues=new o("Shell.getFilterValues");n.getFilterValueDisplayText=new o("Shell.getFilterValueDisplayText");n.getFilterWarning=new o("Shell.getFilterWarning")})(ft=t.PartFilterEndpoints||(t.PartFilterEndpoints={})),(function(n){n.getDashboardDeepLink=new o("Shell.getDashboardDeepLink")})(et=t.DashboardEndpoints||(t.DashboardEndpoints={}))}));
define("FxInternal/ResourceManagement/BrowseBladeCore",["require","exports","FxInternal/Rpc"],(function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});t.getBrowseBladeReferenceEndPoint=void 0;t.getBrowseBladeReferenceEndPoint=new i.FuncEndPointDefinition("getBrowseBladeReference")}));
define("FxInternal/ResourceManagement/GlobalResourceFilters",["require","exports"],(function(n,t){Object.defineProperty(t,"__esModule",{value:!0});t.getGlobalResourceFilterObservableEndPoint=void 0;var i=FxImpl.Rpc;t.getGlobalResourceFilterObservableEndPoint=new i.ProxiedObjectTypeDefinition("getGlobalResourceFilterObservable")}));
define("FxInternal/ResourceManagement/GlobalResourceFiltersCore",["require","exports","FxInternal/Rpc"],(function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});t.getActiveGlobalResourceFilterEndPoint=void 0;t.getActiveGlobalResourceFilterEndPoint=new i.FuncEndPointDefinition("getActiveGlobalResourceFilter")}));
define("FxInternal/ResourceManagement/Subscriptions",["require","exports"],(function(n,t){Object.defineProperty(t,"__esModule",{value:!0});t.getInSessionSelectedSubscriptionsObservableEndPoint=void 0;var i=FxImpl.Rpc;t.getInSessionSelectedSubscriptionsObservableEndPoint=new i.ProxiedObjectTypeDefinition("getInSessionSelectedSubscriptionsObservable")}));
define("FxInternal/ResourceManagement/SubscriptionsCore",["require","exports","FxInternal/Rpc"],(function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});t.getSubscriptionInfoEndPoint=t.getInSessionSelectedSubscriptionsEndPoint=void 0;t.getInSessionSelectedSubscriptionsEndPoint=new i.FuncEndPointDefinition("getInSessionSelectedSubscriptions");t.getSubscriptionInfoEndPoint=new i.FuncEndPointDefinition("getSubscriptionInfo")}));
define("Fx/ResourceManagement",["require","exports","Fx/Resources/ResourceManagement","FxHubs/RpcEndPoints","FxInternal/ResourceManagement/BrowseBladeCore","FxInternal/ResourceManagement/Subscriptions","FxInternal/ResourceManagement/SubscriptionsCore","FxInternal/ResourceManagement/GlobalResourceFilters","FxInternal/ResourceManagement/GlobalResourceFiltersCore","Fx/Errors"],(function(n,t,i,r,u,f,e,o,s,h){function g(n){return Q(u.getBrowseBladeReferenceEndPoint.invoke(c.client,"fx",n))}function nt(n){var t=MsPortalFx.getEnvironmentValue("extensionName");return{bladeName:"__dv__".concat(n.bladeNameSuffix,"__dx"),extensionName:t}}function tt(n,t){var u=function(i,r){i.subscribe(n,t);r&&t(i())},o,r,i,s;return l?(u(l,!0),Q(null)):(i=f.getInSessionSelectedSubscriptionsObservableEndPoint.acquireObject(c.client,p.Shell,null).then((function(n){o=l=n.value;var t=!r||!MsPortalFx.deepEquals(r,n.value());u(l,t)})),s=e.getInSessionSelectedSubscriptionsEndPoint.invoke(c.client,"fxw",null).then((function(n){r=n;o||t(n)})),i=Q.any([i,s]),Q(i))}function it(n){var t;if(ut(n))t={resourceId:n.id,name:b.getDisplayName(n),location:n.location,resourceKind:n.kind};else if(ft(n))t={resourceId:n.subscriptionId,name:n.displayName};else throw new MsPortalFx.Errors.Error("parameter is not a valid resource");void d.invoke(FxImpl.Rpc.client,"HubsExtension",t)}function rt(n,t){return __awaiter(this,void 0,void 0,(function(){var r,f,u,i,e;return __generator(this,(function(){return r=function(i,r){i.subscribe(n,t);r&&t(i())},a?(r(a,!0),[2]):(i=o.getGlobalResourceFilterObservableEndPoint.acquireObject(c.client,p.Shell,null).then((function(n){f=a=n.value;var t=!u||!MsPortalFx.deepEquals(u,n.value());r(a,t)})),e=s.getActiveGlobalResourceFilterEndPoint.invoke(c.client,"fxw",null).then((function(n){u=n;f||t(n)})),i=Q.any([i,e]),[2,i])}))}))}function ut(n){return"id"in n&&"type"in n}function ft(n){return"subscriptionId"in n}var b;Object.defineProperty(t,"__esModule",{value:!0});t.DEV=t.onGlobalResourceFilterChange=t.addRecentResource=t.onSelectedSubscriptionsChange=t.getDynamicDxBladeReference=t.getBrowseBladeReference=t.ResourceName=t.ArmId=void 0;var y=MsPortalFx.Base,p=y.Constants,k=y.Diagnostics,c=FxImpl.Rpc,d=r.AssetTypes.addRecentResourceEndPoint,v=k.createLog(n),l,a,w;(function(n){function ei(n,t){if(!n)return"";var i=ri[t||n.kind];return!i||!i.sourceMap[n.kind]?"":i.builder(n)}function oi(n,t){if(!n)return"";var i=ri[t||n.kind];return!i||!i.sourceMap[n.kind]?"":i.builder(n,!0)}function si(n){return n.kind!==0?MsPortalFx.sanitizeMessage(oi(n)):"_REDACTED_"}function hi(t){var i=ui(t);return i&&n.stringify(i)||""}function ci(t){var i=fi(t);return i&&n.stringify(i)||""}function c(n,t){var r,u,i;return dt(n)?(i=(n.resourceType||"").split("/"),(i.length===0||((r=i[0])===null||r===void 0?void 0:r.toLowerCase())!==((u=n.provider)===null||u===void 0?void 0:u.toLowerCase()))&&v.error(new h.FxError("Source ArmId had a resource type where the provider was not the first segment, this is an invalid ArmId: "+JSON.stringify(n))),t?i:i.splice(1)):[]}function ct(n){return dt(n)?n.resourceName.split("/"):[]}function li(n){return c(n).join("/")}function ai(n){var t,i,r=function(){t={};i=0};return r(),function(u,f){var e=t[u],s,o;return e===undefined&&(e={},t[u]=e),s=f?1:0,o=e[s],o===undefined&&(o=n(u,f),i++==1e3&&Q.nextTick(r),e[s]=o),o}}function lt(n){var t={kind:0,subscription:"",resourceGroup:"",provider:"",nestedResourceTypes:[],isNestedResourceType:!1,tagName:"",tagValue:"",resourceName:"",resourceType:"",resourceIds:[],resourceTypes:[]};return(n===null||n===void 0?void 0:n.excludeNested)&&delete t.nestedResourceTypes,(n===null||n===void 0?void 0:n.excludeNested)&&delete t.isNestedResourceType,t}function vi(n){return __assign(__assign({},lt(n)),{resourceNames:[],resourceTypeNames:[]})}function f(n,t){return function(i,r,u){return i.armId[n]=u,t}}function bi(n,t){return{machineData:{armId:vi(),currentResourceTypes:{provider:"",resourceTypes:[]}},machineState:t,processorMap:pi,kindTransition:wi}}function gi(n,t){var e=t?di:ki,f,y,r,o,s,h,l,a,p,i;if(typeof n!="string")return __assign(__assign({},e),{reason:"not a string"});if(f=(n||"").split("/"),f.length===1||f.length%2!=1||f[0].length!==0)return __assign(__assign({},e),{reason:"invalid number of segments"});for(y=f.length,r=bi(n,0),o=1;o<y;o+=2){if(s=r.processorMap[r.machineState],!s)return __assign(__assign({},e),{reason:"malformed resource ID - no processor map"});if(h=f[o],l=f[o+1],!h.length||!l.length)return __assign(__assign({},e),{reason:"empty segment"});if(a=s[h]||s[h.toLowerCase()]||s[""],!a)return __assign(__assign({},e),{reason:"malformed resource ID - no processor (invalid token segment)"});p=r.machineData.armId.kind;r.machineState=a(r.machineData,h,l,t);r.machineData.armId.kind=r.kindTransition[p][r.machineState]||0}if(i=r.machineData.armId,i.kind===0)return __assign(__assign({},e),{reason:"invalid at conclusion"});var v=i.resourceNames,c=i.resourceTypeNames,u={kind:i.kind,subscription:i.subscription,resourceGroup:i.resourceGroup,provider:i.provider,resourceName:"",resourceType:"",tagName:i.tagName,tagValue:i.tagValue,resourceIds:v.slice(),resourceTypes:c.slice()};return i.kind===1?u.resourceType=ti.Subscriptions:i.kind===4?u.resourceType=ti.ResourceGroups:c.length&&(t?r.machineData.currentResourceTypes.provider&&(i.nestedResourceTypes.push(r.machineData.currentResourceTypes),r.machineData.currentResourceTypes.resourceTypes.length&&(u.resourceType=i.nestedResourceTypes.map((function(n){return n.provider+"/"+n.resourceTypes.join("/")})).join("/")),u.resourceName=v.join("/")):(u.resourceType=i.provider&&c.length&&i.provider+"/"+c.join("/")||"",u.resourceName=v.join("/"))),t&&(u.isNestedResourceType=i.isNestedResourceType,u.nestedResourceTypes=i.nestedResourceTypes),u}function kt(n){return n.map((function(n){return{provider:n.provider,resourceTypes:n.resourceTypes.slice()}}))}function dt(n){return[6,3,8,].includes(n===null||n===void 0?void 0:n.kind)}function gt(n){return dt(n)?c(n).length>1:!1}function ui(n){var u,i,r,t;if(gt(n)){i=undefined;n.nestedResourceTypes&&n.nestedResourceTypes.length&&(r=n.nestedResourceTypes.length-1,((u=n.nestedResourceTypes[r].resourceTypes)===null||u===void 0?void 0:u.length)>1?(t=kt(n.nestedResourceTypes),t[r].resourceTypes=t[r].resourceTypes.slice(0,-1),i={nestedResourceTypes:t,isNestedResourceType:n.isNestedResourceType}):(t=kt(n.nestedResourceTypes).slice(0,-1),i={nestedResourceTypes:t,isNestedResourceType:t.length>1}));var f=c(n,!0),e=f.slice(0,-1),o=ct(n),s=o.slice(0,-1);return __assign(__assign(__assign({},n),i),{resourceName:s.join("/"),resourceType:e.join("/")})}return null}function fi(n){var i,t;if(gt(n)){i=undefined;n.nestedResourceTypes&&n.nestedResourceTypes.length&&(t=kt(n.nestedResourceTypes).slice(0,1),t[0].resourceTypes=t[0].resourceTypes.slice(0,1),i={nestedResourceTypes:t,isNestedResourceType:!1});var r=c(n,!0),u=r.slice(0,2),f=ct(n),e=f.slice(0,1);return __assign(__assign(__assign({},n),i),{resourceName:e.join("/"),resourceType:u.join("/")})}return null}var r,t,a,e,it,y,p,w,rt,b,ut,k,ft,i,u,d,et,s,g,ot,nt,st,tt,ht;n.parse=ai((function(n,t){return gi(n,t)}));n.stringify=ei;n.sanitizeId=si;n.hasParentResourceId=function(n){return gt(n)};n.getParentResourceArmId=function(n){return ui(n)};n.getParentResourceId=hi;n.getRootResourceArmId=function(n){return fi(n)};n.getRootResourceId=ci;n.getResourceTypes=c;n.getResourceNames=ct;n.getResourceTypeWithoutProvider=li;var at=function(n,t,i){return n.armId.provider=i,n.currentResourceTypes.provider=i,4},o=function(n,t,i){return n.armId.resourceTypeNames.push(t),n.armId.resourceNames.push(i),n.currentResourceTypes.resourceTypes.push(t),6},yi=function(n,t,i,r){return r?(n.armId.isNestedResourceType=!0,n.armId.nestedResourceTypes.push(n.currentResourceTypes),n.currentResourceTypes={provider:i,resourceTypes:[]},5):o(n,t,i)},ni=function(n,t,i){return n.armId.provider="Microsoft.Resources",n.currentResourceTypes.provider="Microsoft.Resources",n.currentResourceTypes.resourceTypes.push("deployments"),n.armId.resourceTypeNames.push("deployments"),n.armId.resourceNames.push(i),6},pi=(r={},r[0]={subscriptions:f("subscription",1),providers:at},r[1]={resourceGroups:f("resourceGroup",3),resourcegroups:f("resourceGroup",3),locations:o,providers:at,tagNames:f("tagName",7),tagnames:f("tagName",7),deployments:ni},r[3]={providers:at,deployments:ni},r[2]={"":o},r[4]={"":o},r[5]={"":o},r[6]={providers:yi,"":o},r[7]={tagValues:f("tagValue",8),tagvalues:f("tagValue",8)},r),wi=(t={},t[0]=(a={},a[1]=1,a[4]=7,a),t[1]=(e={},e[3]=4,e[4]=2,e[7]=9,e[6]=3,e),t[2]=(it={},it[6]=3,it),t[3]=(y={},y[6]=3,y[5]=2,y),t[11]=(p={},p[4]=5,p[6]=6,p),t[4]=(w={},w[4]=5,w[6]=6,w),t[5]=(rt={},rt[6]=6,rt),t[6]=(b={},b[6]=6,b[5]=5,b),t[7]=(ut={},ut[6]=8,ut),t[8]=(k={},k[6]=8,k[5]=7,k),t[9]=(ft={},ft[8]=10,ft),t[10]={},t);var ki=lt({excludeNested:!0}),di=lt(),ti=MsPortalFx.Base.Constants.ResourceTypes;var nr=function(n,t){var r,u,i=(n===null||n===void 0?void 0:n.resourceType)&&n.resourceType.split("/");return i&&((r=i[0])===null||r===void 0?void 0:r.toLowerCase())!==((u=n.provider)===null||u===void 0?void 0:u.toLowerCase())?(t||v.error(new h.FxError("Source ArmId had a resourceType where the provider was not the first segment, this is an invalid ArmId: "+JSON.stringify(n))),n.resourceTypes||[]):(n.resourceType||t||v.warning(new h.FxError("Source ArmId is missing the resourceType, this is an invalid ArmId: "+JSON.stringify(n))),(i===null||i===void 0?void 0:i.slice(1))||n.resourceTypes||[])},vt=function(n){return n.resourceName&&n.resourceName.split("/")||n.resourceIds||[]},yt=function(n,t){var i=vt(n),r=nr(n,t);return r.map((function(n,t){return n+"/"+i[t]})).join("/")},pt=function(n){var t=vt(n),i=0;return n.nestedResourceTypes.map((function(n){return"/providers/".concat(n.provider)+(n.resourceTypes.length?"/"+n.resourceTypes.map((function(n){return n+"/"+t[i++]})).join("/"):"")})).join("")},wt=function(n){var t=vt(n),i=0;return n.nestedResourceTypes.map((function(n){return"/providers/".concat(n.provider,"/")+n.resourceTypes.map((function(n){return n+"/"+t[i++]})).join("/")})).join("")},l=function(n){return"/subscriptions/".concat(n.subscription)},tr=function(n){return l(n)+(n.isNestedResourceType?pt(n):"/providers/".concat(n.provider))},ir=function(n,t){return l(n)+(n.isNestedResourceType?wt(n):"/providers/".concat(n.provider,"/")+yt(n,t))},bt=function(n){return l(n)+"/resourceGroups/".concat(n.resourceGroup)},rr=function(n){return bt(n)+(n.isNestedResourceType?pt(n):"/providers/".concat(n.provider))},ur=function(n,t){return bt(n)+(n.isNestedResourceType?wt(n):"/providers/".concat(n.provider,"/")+yt(n,t))},fr=function(n){return n.isNestedResourceType?pt(n):"/providers/".concat(n.provider)},er=function(n,t){return n.isNestedResourceType?wt(n):"/providers/".concat(n.provider,"/")+yt(n,t)},ii=function(n){return"".concat(l(n),"/tagNames/").concat(n.tagName)},or=function(n){return"".concat(ii(n),"/tagValues/").concat(n.tagValue)},ri=(i={},i[1]={sourceMap:(u={},u[1]=!0,u[2]=!0,u[3]=!0,u[4]=!0,u[5]=!0,u[6]=!0,u[9]=!0,u[10]=!0,u),builder:l},i[2]={sourceMap:(d={},d[2]=!0,d[3]=!0,d),builder:tr},i[3]={sourceMap:(et={},et[3]=!0,et),builder:ir},i[4]={sourceMap:(s={},s[4]=!0,s[5]=!0,s[6]=!0,s),builder:bt},i[5]={sourceMap:(g={},g[5]=!0,g[6]=!0,g),builder:rr},i[6]={sourceMap:(ot={},ot[6]=!0,ot),builder:ur},i[7]={sourceMap:(nt={},nt[7]=!0,nt[8]=!0,nt),builder:fr},i[8]={sourceMap:(st={},st[8]=!0,st),builder:er},i[9]={sourceMap:(tt={},tt[9]=!0,tt[10]=!0,tt),builder:ii},i[10]={sourceMap:(ht={},ht[10]=!0,ht),builder:or},i)})(w=t.ArmId||(t.ArmId={})),(function(n){function r(n,r){var s=(t(n.tags)||{})["hidden-title"],f=t(n.id)||"",u=t(n.name),e,o;return!r&&u&&(u=MsPortalFx.last(u.split("/"))),u=u||f&&MsPortalFx.last(f.split("/")),e=(n.armId||w.parse(f,!0)).resourceName||f&&MsPortalFx.last(f.split("/"))||t(n.name)||i.resourceWithNoName,e.includes("/")&&(o=e.split("/"),u=u||MsPortalFx.last(o),o.length>1&&(u=i.resourceTitleWithParts.format(u,e))),u=u||i.resourceWithNoName,s?i.resourceTitleWithParts.format(u,s):u}var t=ko.utils.peekObservable;n.getDisplayName=r})(b=t.ResourceName||(t.ResourceName={}));t.getBrowseBladeReference=g;t.getDynamicDxBladeReference=nt;t.onSelectedSubscriptionsChange=tt;t.addRecentResource=it;t.onGlobalResourceFilterChange=rt}));
define("FxInternal/UriScrubber",["require","exports","FxInternal/Diagnostics","Fx/Errors","Fx/Diagnostics"],(function(n,t,i,r,u){function h(n){if(!n)return n;try{return c(n)}catch(t){return s.error(new r.FxError({message:"'scrubUri' caught an exception scrubbing invalid URI '".concat(n,"'"),innerErrors:t})),null}}function c(n){var t=new URL(n,f),u=e(i.sanitizeUriComponent(decodeURIComponent(t.hostname)),"/"),s=e(i.sanitizeUriComponent(decodeURIComponent(t.pathname)),"/"),r="".concat(o(t.protocol,"/"),"//").concat(u).concat(t.port?":".concat(t.port):"").concat(u!==""?"/":"").concat(s);return r.startsWith(f)?r.substring(f.length):r}Object.defineProperty(t,"__esModule",{value:!0});t.scrubUri=void 0;var e=MsPortalFx.trimStart,o=MsPortalFx.trimEnd,s=u.createLog(n),f="https://test.test";t.scrubUri=h}));
define("FxInternal/NetDiagnostics",["require","exports","Fx/ResourceManagement","FxInternal/Ajax","FxInternal/UriScrubber"],(function(n,t,i,r,u){function rt(n,t,i,r){var c=(t.initiationContext||{}).stack,e=function(n){var t;try{t=JSON.parse(n)}catch(i){}return t},o=function(n){var i,u=((i=e(t.data))===null||i===void 0?void 0:i.requests)||[],r=t.stacks;return u.map((function(t,i){var f,e=r?r[i]:c,u=(f=t===null||t===void 0?void 0:t.url)===null||f===void 0?void 0:f.toLowerCase();return u=(u===null||u===void 0?void 0:u.startsWith("/"))?"".concat(n).concat(u.slice(1)):u,{url:u,request:t,requestStack:e}}))},s=function(){var n;return((n=e(i))===null||n===void 0?void 0:n.responses)||[]},u,f;return n==="ARMBATCH"?(u=o(h).map((function(n){var t,u=n.url,i=n.request,f=n.requestStack;return b(u,(t=i===null||i===void 0?void 0:i.requestHeaderDetails)===null||t===void 0?void 0:t.commandName,f,r)})),f=s().map((function(n){var t=n||{},r=t.contentLength,i=t.headers,u=t.httpStatusCode;return{status:u,responseCorrelationId:i===null||i===void 0?void 0:i["x-ms-correlation-request-id"],dataReceived:r||0}}))):n==="MSGRAPHBATCH"&&(u=o(l).map((function(n){var t,u=n.url,i=n.request,f=n.requestStack;return k(u,(t=i===null||i===void 0?void 0:i.headers)===null||t===void 0?void 0:t[p],f,r)})),f=s().map((function(n){var t=n||{},r=t.body,i=t.headers,u=t.status;return{status:u,responseCorrelationId:i===null||i===void 0?void 0:i["client-request-id"],dataReceived:r?(function(){try{return JSON.stringify(r)}catch(n){return""}})().length:0}}))),u===null||u===void 0?void 0:u.map((function(n,t){return __assign({name:n},f[t])}))}function ut(n,t){var ut=t||{},st=ut.suppressHighVolume,u=ut.emitDiagnostics;a=a||new o.UriBuilder(FxImpl.trustedParentOrigin).getAuthority();v=v||new o.UriBuilder(FxImpl.origin).getAuthority();y=y||new o.UriBuilder(FxImpl.origin).getScheme();var s=new o.UriBuilder(n.uri),i=s.toString(),r=i.toLowerCase(),et=s.getAuthority()||v,ht=n.headers||{},w=ht[p]||n.setTelemetryHeader,ot=n.initiationContext||{},d=ot.stack,ct=ot.bladeInstance,nt=function(n,t,r){return c(n,w,i,d,t,r,u)},rt;return rt=et===a?st?null:nt("PORTAL","".concat(e("PORTAL")).concat(s.getRelativePath()),!0):MsPortalFx.startsWith(r,g)?nt("ARMBATCH",e("ARMBATCH"),!1):MsPortalFx.startsWith(r,h)?b(i,w,d,u):tt.test(r)?nt("MSGRAPHBATCH",e("MSGRAPHBATCH"),!1):MsPortalFx.startsWith(r,l)?k(i,w,d,u):MsPortalFx.startsWith(r,it)?ft(i,w,d,u):nt("UNRECOGNIZED","".concat(s.getScheme()||y).concat(et,"/").concat(f),!1),rt&&__assign(__assign({},rt),{bladeInstance:ct})}function w(n){var t=new o.UriBuilder(n);return t.query.clear(),t.toString()}function b(n,t,r,u){var a=w((n===null||n===void 0?void 0:n.toLowerCase().startsWith(h))?n.slice(h.length-1):n),y="ARM",o,p,b,v,s,l;return MsPortalFx.last(a.split("/"))==="resources"?(o=i.ArmId.parse(a.slice(0,a.lastIndexOf("/"))),o.kind!==0&&(y="ARG",b=!0)):(o=i.ArmId.parse(a),o.kind!==0?v=!0:(o=i.ArmId.parse("".concat(a,"/").concat(f)),o.kind!==0&&(p=!0,v=!0))),o.kind!==0?(l=__assign({},o),l.subscription=f,l.resourceName=f,l.resourceGroup=f,l.tagName=f,l.tagValue=f,s="".concat(e("ARM")).concat(i.ArmId.sanitizeId(l)),p?s=s.slice(0,s.lastIndexOf("/")):b&&(s="".concat(s,"/resources"))):s="".concat(e("ARM"),"/").concat(f),c(y,t,n,r,s,v,u)}function k(n,t,i,r){return c("MSGRAPH",t,n,i,"".concat(e("MSGRAPH"),"/").concat(f),!1,r)}function ft(n,t,i,r){return c("ADGRAPH",t,n,i,"".concat(e("ADGRAPH"),"/").concat(f),!1,r)}function c(n,t,i,r,f,e,o){var s=u.scrubUri(i);return{kind:n,commandName:et(n,t,i,r,e&&f,o),uri:f,scrubbedUri:s}}function et(n,t,i,r,u,f){var h=t&&t!==nt,o,s;return h?t:u?u:(o=n==="ARMBATCH",!o&&f&&(s=r?"Stack: ".concat(r):"Missing ajax call stack. Please log a bug to FX.",console.warn("Supply a logical name for the ajax call to '".concat(i,"' for inclusion in telemetry. ").concat(s))),"".concat(e(n),"[UNNAMED]"))}function e(n){return"[".concat(n,"]")}Object.defineProperty(t,"__esModule",{value:!0});t.nameNetworkCall=t.getBatchItemsData=void 0;var d=MsPortalFx,o=d.Base,f="[REDACTED]",s=r.getEndpoints(),h=s.arm.toLowerCase(),g=w(s.armBatch).toLowerCase(),nt="".concat(MsPortalFx.getEnvironmentValue("extensionName"),"."),l=s.msGraph.toLowerCase(),tt=new RegExp("".concat(l,"[^/]*/\\$batch")),it=s.graph.toLowerCase(),p="x-ms-command-name",a,v,y;t.getBatchItemsData=rt;t.nameNetworkCall=ut}));
define("Fx/Ajax",["require","exports","FxInternal/Ajax","FxInternal/NetDiagnostics"],(function(n,t,i,r){function f(n,t){return(n&t)===t}function l(n){var t=n||"";return"".concat(g,".").concat(t).slice(0,255)}function v(n){var t={};return n.getAllResponseHeaders().trim().split(/[\r\n]+/).forEach((function(n){var i=n.split(": "),r=i.shift();t[r]=i.join(": ")})),t}function b(n,t,i){var f=n.jqXHR.status,r,e,u,o;if(f===200)return Q(n.content);if(f!==202)return r=n.jqXHR,e=!!r&&v(r),Q.reject({content:n.content,headers:e||{},httpStatusCode:!!r&&r.status});if(u=n.jqXHR.getResponseHeader("Location"),!u)throw new Error("Location header not present on 202 response, unable to poll for completion");return o=parseInt(n.jqXHR.getResponseHeader("Retry-After")||"".concat(5)),Q.delay(o*1e3).then((function(){return p(MsPortalFx.extend2(t,{type:"GET",uri:u,setTelemetryHeader:"".concat(t.setTelemetryHeader,".poll_").concat(++i)})).then((function(n){return b(n,t,i)}))}))}function k(n,t){return p(MsPortalFx.extend2(n,t,{contentType:"application/json",data:JSON.stringify(t),type:"POST"})).then((function(t){return b(t,n,0)}))}function et(n,t,r,e,s,a){var tt=n+i.getArmBatchRelativePathAndApiVersion(),b=Object.create(null),p={batches:[],count:0},nt=MsPortalFx.startTimer(),g=function(){var i=p.batches;p={batches:[],count:0};i.forEach((function(i){var l,it=MsPortalFx.replaceAll(JSON.stringify(i.commandNameMap,Object.keys(i.commandNameMap).sort()),'"',""),rt=c?k:y,ut={isBackgroundTask:t,setAuthorizationHeader:!0,setTelemetryHeader:it,uri:tt,skipDomainValidation:a,initiationContext:{stack:null,bladeInstance:i.bladeInstance},stacks:i.contexts.map((function(n){return n.stack}))},p=null,g=MsPortalFx.isFeatureEnabled("ameconfirmationdialog"),r=MsPortalFx.isFeatureEnabled("armbreakglass"),e=[],nt,s,b;if(((l=FxImpl.postBootEnv)===null||l===void 0?void 0:l.isWriteDisallowedTenant)&&(g||r)&&(nt=r?FxImpl.getHighlySensitiveResourceIdsFromAjaxRequest:FxImpl.getSensitiveResourceIdsFromAjaxRequest,s=[],i.requests.forEach((function(n){var u=(n.url||"").toLowerCase().indexOf("/bulkdelete?")>-1,i=nt(n.url,n.httpMethod,n.content),t;i.length&&(e.push.apply(e,i.map((function(t){return{httpMethod:u?"DELETE":n.httpMethod,resourceId:t}}))),r&&(t=n.requestHeaderDictionary||Object.create(null),t["x-ms-arm-internal-break-glass"]=["true"],n.requestHeaderDictionary=t,s.push({uri:MsPortalFx.sanitizeMessage(n.url),httpMethod:n.httpMethod})))})),r&&s.length&&w.trace({source:"Fx.Ajax",action:"ArmBreakGlassAdded",data:{breakGlassAddedTo:s}}),!r&&e.length&&g&&(p=Q(d.invokeAmeConfirmationDialogEndPoint.invoke(FxImpl.Rpc.client,u.Constants.Shell,e).then((function(n){return w.trace({source:"Fx.Ajax",action:"AMEConfirmation",actionModifier:n?"Approved":"Canceled",data:{deletePutResources:e}}),n}))))),b=function(){rt(ut,{requests:i.requests}).then((function(r){r.responses.forEach((function(r,e){var k,w=i.requestIdxMapByName.get(r.name),s,c,y,a,b,p;if(w===undefined&&(w=e),s=i.requests[w],c=i.contexts[w],c.includeResponseHeaders&&(r.responseHeaders=r&&new Headers(r.headers||{})),y=c.response,r.httpStatusCode<400)y.resolve(r);else{var d=c.options,g=r.headers||{},nt=g["WWW-Authenticate"],l=void 0;MsPortalFx.isFeatureEnabled("retryonwwwauthenticate")&&r.httpStatusCode===401&&nt?l={reason:"wwwAuthenticate",headers:(k={},k["WWW-Authenticate"]=nt,k)}:f(d,16)||f(o,16)||(f(d,8)||f(o,8)?(a=c.retryStatusCodes,b=!0,a&&"exclude"in a&&(b=!a.exclude.includes(r.httpStatusCode)),a&&"include"in a&&(b=a.include.includes(r.httpStatusCode)),b&&(l={reason:"ForceRetry."+r.httpStatusCode})):t||s.httpMethod!=="GET"||r.httpStatusCode!==503?f(d,128)||r.httpStatusCode!==403||(g["x-ms-failure-cause"]||"").toLowerCase()!=="gateway"||(l={reason:"RetryForbidden",headers:{"Cache-Control":"no-cache"}}):l={reason:"Slow"});l?(p=c.uri||new u.UriBuilder(s.url),p.getAuthority()||(p.path=n+MsPortalFx.trimStart(p.path,"/")),Q(h.ajaxExtended({uri:p.toString(),setAuthorizationHeader:!0,setTelemetryHeader:s.requestHeaderDetails.commandName+"."+l.reason,type:s.httpMethod,headers:l.headers,data:s.content&&JSON.stringify(s.content),contentType:s.content&&"application/json"})).then((function(n){var t=n.jqXHR,i=t&&v(t)||Object.create(null);y.resolve({content:n.content,headers:i,responseHeaders:c.includeResponseHeaders?new Headers(i):undefined,httpStatusCode:t&&t.status})}),(function(n){var t=n.jqXHR,i=t&&v(t)||Object.create(null);y.reject({content:r.content,headers:i,responseHeaders:c.includeResponseHeaders?new Headers(i):undefined,httpStatusCode:t&&t.status})}))):y.reject(r)}}))})).catch((function(n){i.contexts.forEach((function(t){t.response.reject(n)}))}))},p)return p.then((function(n){if(n)b();else{i.requests.forEach((function(n){n.url=""}));var t=MsPortalFx.Resources.Strings.DeleteCommand.Failure.ameCancelledDescription;i.contexts.forEach((function(n){var i,r;n.response.reject({content:{error:{code:FxImpl.ameCancelledErrorCode,message:t,target:((i=n.uri)===null||i===void 0?void 0:i.path.toLowerCase())==="/bulkdelete"?null:(r=n.uri)===null||r===void 0?void 0:r.toString()}},headers:{},httpStatusCode:403})}))}}));b()}))};return{getResponse:function(n,t,i,u,o,h,a,v,y){var tt,ht=l(n),it=__assign(__assign({content:t,httpMethod:u,name:MsPortalFx.getUniqueId(),requestHeaderDetails:{commandName:ht}},new Date(MsPortalFx.getFeatureValue("batchapiversion")||"2020-06-01")>=new Date("2020-06-01")?{requestHeaderDictionary:i}:{}),{url:v}),ft=!f(h,64),k,et,d,rt,w,ot,ut,st;if(ft){if(k=b[v],k&&k.timer()<r)return k.promise}else delete b[v];return p.count||(e?Q.delay(e).then(g):e===0?et=!0:Q.nextTick((function(){var n=p.count,t=function(){c||n>=Math.min(p.count,20)?g():(n=p.count,Q.nextTick(t))};Q.nextTick(t)}))),d=Q.defer(),p.count++,rt=FxImpl.NetDiagnostics.getCurrentBladeInstance()||undefined,w=MsPortalFx.find(p.batches,(function(n){return n.bladeInstance===rt}),-1),(!w||!c&&w.requests.length>=20)&&(w={commandNameMap:(tt={},tt[" "+l(s)]=0,tt),contexts:[],requestIdxMapByName:new Map,requests:[],bladeInstance:rt},p.batches.push(w)),ot=w.requests.length,w.requests.push(it),w.contexts.push({options:h,response:d,uri:o,retryStatusCodes:a,stack:MsPortalFx.isFeatureEnabled("fixajaxnames")&&MsPortalFx.getCurrentCallStack(),includeResponseHeaders:y}),w.requestIdxMapByName.set(it.name,ot),ut=n||"Unknown",st=w.commandNameMap[ut]||0,w.commandNameMap[ut]=st+1,nt()>6e4&&(MsPortalFx.forEachKey(b,(function(n,t){t.timer()>r&&delete b[n]})),nt=MsPortalFx.startTimer()),ft&&(b[it.url]={promise:d.promise,timer:MsPortalFx.startTimer()}),et&&g(),d.promise}}}function y(n,t){return Q(h.postJSON(n,t))}function ot(n){return Q(h.ajax(n))}function p(n){return Q(h.ajaxExtended(n))}function st(n){o=n.requestOptions}function ht(n){var r=n.options||o,h,v,k,t,c,l,p,i,y,w,b;if(n.retryStatusCodes&&(r|=8),h=n.uri||n.url||"",k=new u.UriBuilder(h),MsPortalFx.isUriAbsolute(h)){if(c=new u.UriBuilder(h),l=c.getAuthority(),l===e)v=s,t=a,h=[c.getScheme(),s,c.getRelativePath(),c.getOriginalQuery(),].join("");else if(l.endsWith(e)||l.endsWith(e+":443"))v=l,t=c.getSchemeAndAuthority().toLowerCase();else if(FxImpl.internalEnv.blockUntrustedDomains||MsPortalFx.isFeatureEnabled("blockuntrusteddomains"))return Promise.reject("Unsupported domain ".concat(l," in batch call. Only ARM endpoints are supported in batch."))}else t=a;return t=MsPortalFx.ensureSuffix(t,"/").toLowerCase(),p=n.isBackgroundTask||f(r,4),i=it,f(r,256)?i=ft:f(r,1)||f(o,1)?i=rt:p&&(i=ut),y=i.map[t],y||(v||(v=new u.UriBuilder(t).getAuthority()),y=i.map[t]=et(t,p,i.cacheDurationMs,i.bufferDurationMs,i.telemetrySuffix,tt(v))),w=n.type||"GET",(w!=="GET"||n.headers||f(o,64)&&!f(r,32))&&(r=r|64),b=y.getResponse(n.setTelemetryHeader,n.content,n.requestHeaderDictionary,w,k,r,n.retryStatusCodes,h,n.includeResponseHeaders),lt(h,n.setTelemetryHeader,b),b}function ct(n){return __awaiter(this,void 0,void 0,(function(){var p,h,r,f,w,t,b,d,o,a,v;return __generator(this,(function(g){switch(g.label){case 0:if(!n.batchRequests.length)return[2,Q(null)];if(p=c?k:y,h=new Map,r=e!==s,f=!r||n.batchRequests.reduce((function(n,t){var i=t.uri,r;return MsPortalFx.isUriAbsolute(i)&&(r=new u.UriBuilder(i).getAuthority().toLowerCase(),n=n&&[e,s].includes(r)),n}),!0),w=n.batchRequests.map((function(n,t){var o=MsPortalFx.getUniqueId(),i,e;return h.set(o,t),i=n.uri,r&&MsPortalFx.isUriAbsolute(i)&&(e=new u.UriBuilder(i),f&&(i=[e.getScheme(),s,e.getRelativePath(),e.getOriginalQuery(),].join(""))),{url:i,httpMethod:n.httpMethod||"GET",content:n.content,name:o,requestHeaderDetails:{commandName:l((n.requestHeaderDetails||{}).commandName)},requestHeaderDictionary:n.requestHeaderDictionary}})),t=n.endpoint,b=!t||r&&t&&f&&new u.UriBuilder(t).getAuthority().toLowerCase()===e,b)t=f?i.getEndpoints().armBatch:new u.UriBuilder(FxImpl.internalEnv.fxArmEndpoint+i.getArmBatchRelativePathAndApiVersion()).toString();else if((FxImpl.internalEnv.blockUntrustedDomains||MsPortalFx.isFeatureEnabled("blockuntrusteddomains"))&&(d=new u.UriBuilder(t),o=d.getAuthority(),!(o.endsWith(e)||o.endsWith(e+":443"))))return[2,Promise.reject("Unsupported domain ".concat(o," in batch call. Only ARM endpoints are supported in batch."))];return[4,p({isBackgroundTask:n.isBackgroundTask,setAuthorizationHeader:!0,setTelemetryHeader:l(n.telemetryHeader),uri:t},{requests:w})];case 1:return a=g.sent(),v=Array(n.batchRequests.length),((a||{}).responses||[]).forEach((function(t){t&&n.includeResponseHeaders&&(t.responseHeaders=new Headers(t.headers||{}));var i=h.get(t.name);MsPortalFx.isNullOrUndefined(i)||(v[i]=t)})),[2,MsPortalFx.extend2(a,{responses:v})]}}))}))}function lt(n,t,i){var u={uri:n,setTelemetryHeader:t,initiationContext:{stack:MsPortalFx.isFeatureEnabled("fixajaxnames")&&MsPortalFx.getCurrentCallStack(),bladeInstance:null}};FxImpl.NetDiagnostics.noteAjaxCall({name:r.nameNetworkCall(u).commandName,promise:i})}var o;Object.defineProperty(t,"__esModule",{value:!0});t.DEV=t.batchMultiple=t.batch=t.getEndpoints=t.initialize=t.ajaxExtended=t.ajax=t.postJSON=void 0;var u=MsPortalFx.Base,h=u.Net2,w=u.Diagnostics.Telemetry,d=FxImpl.Extension,g=MsPortalFx.getEnvironmentValue("extensionName"),nt=MsPortalFx.isFeatureEnabled("fasteventservice"),c=MsPortalFx.isFeatureEnabled("asyncbatch"),tt=FxImpl.validateDomain,it={bufferDurationMs:100,cacheDurationMs:1e4,map:Object.create(null),telemetrySuffix:"Batch"},rt={cacheDurationMs:1e4,map:Object.create(null),telemetrySuffix:"BatchNextTick"},ut={bufferDurationMs:nt?5e3:6e4,cacheDurationMs:6e4,map:Object.create(null),telemetrySuffix:"BatchBackground"},ft={bufferDurationMs:0,cacheDurationMs:1e4,map:Object.create(null),telemetrySuffix:"SingleBatch"},a=i.getEndpoints().arm.toLowerCase(),s=new u.UriBuilder(a).getAuthority(),e=new u.UriBuilder(FxImpl.internalEnv.fxArmEndpoint).getAuthority().toLowerCase();o=66;t.postJSON=y;t.ajax=ot;t.ajaxExtended=p;t.initialize=st;t.getEndpoints=i.getEndpoints;t.batch=ht;t.batchMultiple=ct}));
define("Fx/Assets/ResourceRoutingType",["require","exports"],(function(){var n;return (function(n){var t;(function(n){n[n.Default=0]="Default";n[n.Tenant=1]="Tenant";n[n.Extension=2]="Extension";n[n.ProviderProxy=3]="ProviderProxy"})(t=n.ResourceRoutingType||(n.ResourceRoutingType={}))})(n||(n={})),n}));
define("Fx/Assets",["require","exports","Fx/Assets/ResourceRoutingType"],(function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});t.ResourceRoutingType=void 0;t.ResourceRoutingType=i.ResourceRoutingType}));
define("Fx/Composition",["require","exports"],(function(n,t){function u(n,t){function i(i){if(i){var r=i.marketplaceId,u=i.marketplaceOptions;if(r||u||i.doesProvisioning)return new c(t,n,r||u,{onClosed:i.onClosed,parameters:i.parameters});if(i.supplyInitialData||i.supplyProviderConfig||i.receiveResult||i.editScopeAccessor)return new h(t,n,i)}return new f(t,n,i)}return{createReference:i}}function l(n,t){return{createReference:function(i){var e=MsPortalFx.replaceAll(MsPortalFx.replaceAll(n,"/","_"),".","_"),r=t,u;return i.inMenu&&(r+="Menu"),u="__rt__".concat(e,"__").concat(r,"__dx"),new f(u,"Microsoft_Azure_GeneratedExtension",i)}}}function e(n,t,i,r){function u(u){return new s(t,i,n,__assign(__assign({},u),{contentBladeReference:r}))}return{createReference:u}}function o(n,i){function r(r){var u=MsPortalFx.extend2(r&&r.options,{extensionName:n});return new t.PartReference(i,r&&r.parameters,u)}return{createReference:r}}var r;Object.defineProperty(t,"__esModule",{value:!0});t.PartReferences=t.BladeReferences=t.ClickableLink=t.PartReference=t.BladeReference=void 0;var i=FxImpl.Composition.Selectable,f=i.PdlBladeReference,s=i.MenuBladeReference,h=i.ParameterProviderBladeReference,c=i.ProvisioningBladeReference;t.BladeReference=i.BladeReference;t.PartReference=MsPortalFx.Composition.PartReference;t.ClickableLink=FxImpl.CompositionCore.ClickableLink;r=window.fx.environment;t.BladeReferences={forExtension:function(n){return{forBlade:function(t){return u(n,t)},forMenuBlade:function(t,i,r){return e(n,t,i,r)}}},forBlade:function(n){return u(r.extensionName,n)},forMarketplace:function(){return u("","")},forMenuBlade:function(n,t,i){return e(r.extensionName,n,t,i)},forResourceType:function(n){return{forBlade:function(t){return l(n,t)}}}};t.PartReferences={forExtension:function(n){return{forPart:function(t){return o(n,t)}}},forPart:function(n){return o(r.extensionName,n)}}}));
define("Fx/Composition/ViewModelBase",["require","exports"],(function(n,t){function i(){}Object.defineProperty(t,"__esModule",{value:!0});t.ProxiedMember=void 0;t.ProxiedMember=i}));
define("FxInternal/Composition/CompositionViewModel",["require","exports"],(function(n,t){function r(n){return typeof n=="function"}function s(){return{allowUiBlocking:ko.observable(!0),selectable:ko.observable()}}function h(){return{allowUiBlocking:ko.observable(!0),selectable:ko.observable(),prepareFirstAjaxTime:ko.observable(),ajaxTime:ko.observable(),preAjaxRpc:ko.observable(),interruptedParent:undefined,onInitializeAsyncTime:ko.observable(),registeredSelectables:ko.observable(),registeredSelectableOptions:ko.observable(),_revealContentCallCount:ko.observable(0),activeOpenBladeCommand:ko.observable(),updateConfigFn:ko.observable(),_onInputValuesUpdated:null,dialog:ko.observable(),elements:ko.observableArray(),initialMenuHeaderBlade:null,initialMenuContentBlade:null}}var u,f;Object.defineProperty(t,"__esModule",{value:!0});t.CompositionViewModel=t.CompositionViewModelBase=t.createFrameworkPartViewModel=void 0;var e=MsPortalFx.Base,o=FxImpl,i=FxImpl.TelemetryContext,c=e.Diagnostics.createLog(n);t.createFrameworkPartViewModel=h;u=(function(){function n(n,t,i,r){this.content=ko.observable();this.onInputsSetPromiseState=ko.observable();this.role=r;this.internal=n;this.container=t;this.content(i||{})}return n.prototype.updatePartInputValues=function(n,t,u,f,e,o,s){var y=this,c=[],h=this.content(),p=this.container,v=function(n){var t,i;n?Q.isPromise(n)?(t=1,i=Q(n).inspect().state):Q.isPromiseAlike(n)?(t=2,i=Q(n).inspect().state):(t=0,i="unknown"):(t=0,i="unknown");y.onInputsSetPromiseState({type:t,state:i});return n},l,a;if(h&&r(h.onInputsSet)){f&&i.setContextValue(i.ContextType.CompositionItem,{id:f});try{l=void 0;l=h._msPortalFx_viewModelApiV2?MsPortalFx.tryImmediateResolve(Q(h),(function(i){return h=i,v(Q(i.onInputsSet(n,t,o,s)))})).finally((function(){})):!o&&v(h.onInputsSet(n,t));l&&r(l.then)&&c.push(l)}catch(w){c.push(Q.reject(w))}finally{f&&i.resetContextValue(i.ContextType.CompositionItem)}}return this.container&&(a=p.onInputsSetCallbacks.triggerCallbacks(n,t),a&&r(a.then)&&c.push(a)),c.length>0?Q.all(c):null},n})();t.CompositionViewModelBase=u;f=(function(n){function t(t,i,r){var f=n.call(this,s(),t,i,r)||this,u,e,h;return f.state=ko.observable(2),u=null,e=t,e.selectable&&o.assignSelectable(e,e.selectable),h=function(n){var t=Q(n).then((function(){var n=!u||u===t;n&&f.state(0)}),(function(){var n=!u||u===t;n&&f.state(1)}));return t},f.updatePartInputValues=function(t,i,r,e,o,s){u=null;var c=n.prototype.updatePartInputValues.call(f,t,i||{},r,e,o,s),l=0;return c!==null&&(l=2,u=h(c)),f.state(l),u},f}return __extends(t,n),t.prototype.updatePartInputValues=function(){return},t})(u);t.CompositionViewModel=f}));
define("FxInternal/Composition/ContainerViewModel",["require","exports"],(function(n,t){function a(){var n=[],t=!1,i={add:function(i,r){n.includes(i)||n.push(i);r&&t&&i(null)},remove:function(t){var i=n.indexOf(t);i>=0&&n.splice(i,1)},triggerCallbacks:function(i,r){t=!0;var f=n.slice(),u=f.map((function(n){try{return n(i,r)}catch(t){return Q.reject(t)}})).filter((function(n){return!!n}));return u.length>0?Q.all(u):null},dispose:function(){n.splice(0,n.length)}};return i._callbacks=n,i}function k(){var n=MsPortalFx.forEachKey(i,(function(n,t,i){i.push("ContainerViewModel ("+i.length+") callstack:\n"+t)}),[]);n.length&&f.error("The following "+n.length+" ContainerViewModel are created but not disposed:\nThis indicates a Framework bug. Please open a Framework bug with following call stacks.\n"+n.join("\n"))}function y(n,t,i,r,u,o){function c(n,t,i,r,u){b.every((function(t){return!(n instanceof t)}))&&!FxImpl.Po.getMetadata(n)&&e.badBladeReferenceType();var f=n.options,o=f&&f.parameters;if(w(o,50)&&e.observableInBladeParameters(),f&&f.parameters)try{f.parameters=ko.unwrap(f.parameters)}catch(s){}return u=u||MsPortalFx.getUniqueId(),h.currentBladeReference(n),a(n,t,i,r,u)}function a(n,f,e,h,c){return __awaiter(this,void 0,void 0,(function(){var l,a,v;return __generator(this,(function(y){switch(y.label){case 0:return(l=f?1:0,l|=h&&h.asNewJourney?8:0,l|=h&&h.asSubJourney?2:0,l|=i?16:0,l|=h&&h.inPlace||i&&f?4:0,!Q.isPromiseAlike(s))?[3,2]:[4,s];case 1:s=y.sent();y.label=2;case 2:return a={timestamp:e,bladeReference:MsPortalFx.clone(n,!0,!0),reason:3,selectedItem:r,controlMetadata:u,flags:l,operationId:c,telemetryName:o},[4,s(t,a)];case 3:return v=y.sent(),[2,!!v.success]}}))}))}function l(n,r,u,e,o){return __awaiter(this,void 0,void 0,(function(){var l,h,a,v,y;return __generator(this,(function(p){switch(p.label){case 0:return(l=MsPortalFx.getUniqueId(),h=u?1:0,h|=o&&o.asNewJourney?8:0,h|=o&&o.asSubJourney?2:0,h|=i?4:0,!Q.isPromiseAlike(s))?[3,2]:[4,s];case 1:s=p.sent();p.label=2;case 2:s(t,{timestamp:e,bladeReference:undefined,reason:4,flags:h,operationId:l,initialWidth:o&&o.initialWidth});p.label=3;case 3:return p.trys.push([3,5,,6]),[4,r];case 4:return v=p.sent(),[3,6];case 5:return y=p.sent(),a=new MsPortalFx.Errors.Error({message:"The extension provided promise to container.".concat(n," has failed."),innerErrors:y}),f.error(a),[2,!1];case 6:return[2,c(v,u,e,o,l)]}}))}))}var h=FxImpl.shellInterface(n),s=h.requestOpenBlade()||h.requestOpenBlade.fxAwaitAndRun(n);return{openBlade:function(n,t){return Q(c(n,!1,Date.now(),t))},openBladeAsync:function(n,t){return Q(l("openBladeAsync",n,!1,Date.now(),t))},openContextPane:function(n){return Q(c(n,!0,Date.now()))},openContextPaneAsync:function(n){return Q(l("openContextPaneAsync",n,!0,Date.now()))}}}function r(n,t){var r=n[s],i=n[h];return i?i:y(n,r,t)}function d(n,t){n[h]=t}function w(n,t){return t&&MsPortalFx.isObject(n)&&Object.keys(n).some((function(i){return ko.isSubscribable(n[i])||w(n[i],t-1)}))}var v,i,o,s,h,p;Object.defineProperty(t,"__esModule",{value:!0});t.Dlg2=t.SelectableContainerViewModel=t.setClickContext=t.createClickContext=t.ContainerViewModel=t.verifyAllContainerViewModelDisposed=t.createOnInputsSetCallbacks=void 0;var u=FxImpl.Composition.Selectable,c=MsPortalFx.Resources.Strings.ViewModels.Container,l=MsPortalFx.isDevelopmentMode||MsPortalFx.isDiagnosticsEnabled,f=MsPortalFx.Base.Diagnostics.createLog(n),b=[u.PdlBladeReference,u.ProvisioningBladeReference],e=FxImpl.getErrorMap({badBladeReferenceType:"",messageMissing:"",observableInBladeParameters:""});t.createOnInputsSetCallbacks=a;v=0;i={};t.verifyAllContainerViewModelDisposed=k;o=(function(){function n(){this._lifetime=new FxImpl.TriggerableLifetimeManager;this._id=v++;this._msPortalFxAnnounce=ko.observable();this._msPortalFxNotice=ko.observable();this._msPortalFxHandledError=ko.observable();this.onInputsSetCallbacks=a();this.helpContentUri=ko.observable();this.notFoundMessage=ko.observable();this.unauthorizedMessage=ko.observable();var n=this;n.preview=ko.observable(!1);l&&(i[this._id]=FxImpl.Rpc.getCurrentCallStack())}return n.prototype.registerForDispose=function(n){return this._lifetime.registerForDispose(n),this},n.prototype.isDisposed=function(){return this._lifetime.isDisposed()},n.prototype.createChildLifetime=function(){return this._lifetime.createChildLifetime()},n.prototype.dispose=function(){var t=this._lifetime,n;t&&t.dispose();n=this.onInputsSetCallbacks;n&&n.dispose();l&&delete i[this._id]},n.prototype.announce=function(n){this._msPortalFxAnnounce.fxAwaitAndRun(this).then((function(t){t(n)}))},n.prototype.handledError=function(n){n&&(!MsPortalFx.isObject(n)||n.message)||e.messageMissing();this._msPortalFxHandledError(n)},n.prototype.unauthorized=function(n){if(!MsPortalFx.isNullOrUndefined(n)&&(MsPortalFx.isObject(n)&&MsPortalFx.isEmpty(n)||n.noticeTitle||n.noticeHeader||n.noticeDescription)){this.unauthorizedMessage(n);return}this.unauthorizedMessage(this.fixErrorMessage(n,c.unauthorizedText))},n.prototype.notFound=function(n){this.notFoundMessage(this.fixErrorMessage(n,c.notFound))},n.prototype.enableNotice=function(n){this._msPortalFxNotice.peek()?f.error("Notice has been enabled. It cannot be enabled again."):this._msPortalFxNotice(n)},n.prototype.fixErrorMessage=function(n,t){return MsPortalFx.isNullOrWhiteSpace(n)?n=t:MsPortalFx.isObject(n)&&MsPortalFx.isNullOrWhiteSpace(n.message)&&(n.message=t),n},n})();t.ContainerViewModel=o;t.createClickContext=y;s="_msPortalFxOpenBladeSelectable";h="_clickContext";t.setClickContext=d;p=(function(n){function t(t){var i=n.call(this)||this,r;return i.configureSelectable=undefined,i[s]=new u.Selectable2({supplyBladeReference:MsPortalFx.noop}),r=t.selectable||null,FxImpl.initializeSelectableViewModel(i,r),i.selectable=r,i.flags=t.flags||0,i}return __extends(t,n),t.prototype.openBlade=function(n,t){return r(this,!!(this.flags&1)).openBlade(n,t)},t.prototype.openBladeAsync=function(n,t){return r(this,!!(this.flags&1)).openBladeAsync(n,t)},t.prototype.openContextPane=function(n){return r(this,!!(this.flags&1)).openContextPane(n)},t.prototype.openContextPaneAsync=function(n){return r(this,!!(this.flags&1)).openContextPaneAsync(n)},t})(o);t.SelectableContainerViewModel=p;t.Dlg2=99}));
define("FxInternal/Composition/Part",["require","exports","FxInternal/Composition/ContainerViewModel","FxInternal/Composition/CompositionViewModel"],(function(n,t,i,r){function d(n){return Math.min(Math.max(n,1),25)}function v(n,t,i){var r=u(n).closeBlade;return Q(r.fxAwaitAndRun(n)).then((function(n){return n(t,i)}))}function et(n,t){var u=r.createFrameworkPartViewModel(),f,i;return t=t||{},t.logArea=t.logArea||"MsPortalFx/ViewModels/Composition/ViewModels.Composition.Part",f={selectable:t.createSelectable?c.Part.createSelectableViewModel(t.initialState):undefined,location:t.location,flags:t.flags,viewModelType:t.type||129},i=new y(u,f),new p(u,i,n(i),t.initialState,t.logArea,(t===null||t===void 0?void 0:t.type)||129)}var g,y,p;Object.defineProperty(t,"__esModule",{value:!0});t.partHeaderEnabledFeatureName=t.composePartViewModel=t.Part=t.PartContainer=void 0;var w=MsPortalFx.Base,b=w.Diagnostics,nt=b.Telemetry.Context,c=MsPortalFx.ViewModels,tt=FxImpl.Composition,it=FxImpl.NetDiagnostics,rt=c.Internal,l=MsPortalFx.clone,a=w.Constants,ut=a.BladeParameterNames,f=MsPortalFx.Errors,u=FxImpl.shellInterface,o=f.isInstanceOfErrorType,s="",k=MsPortalFx.Resources.Strings,e=k.ViewModels.Container,ft={containerViewModelMissing:s,dashboardIdMissing:s,enableNoticeInvoked:s,identitySelectableMissing:s,selectableRegistered:s,selectableInstanceRegistered:s},h=FxImpl.getErrorMap(ft);g=(function(){function n(){}return n.prototype.navigateToDashboard=function(n){return n||h.dashboardIdMissing(),Q(c.navigateToDashboardEndPoint.invoke(FxImpl.Rpc.client,a.Shell,["Viewmodels.Part.DashboardManagementImpl",n]))},n})();y=(function(n){function t(t,i){var r=n.call(this,i)||this,e,f,h,o,l,s,a;return r.isSelectable=ko.observable(!0),r.clickableLink=null,r.failureMessage=ko.observable(),r.noDataMessage=ko.observable(),r.height=ko.observable(0),r.width=ko.observable(0),r.size=ko.observable(),r.mutate=ko.observable(),r.menu=null,r._partState=null,r.dashboard=new g,r.partState=r._partState=ko.observable(MsPortalFx.Parts.PartState.Ready),i.clickableLink&&(r.clickableLink=i.clickableLink),r.partTitle=ko.observable(i.partTitle||null),r.ariaLabel=ko.observable(i.partTitle||null),r.assetName=ko.observable(i.assetName||null),r.contentState=ko.observable(0),r.registerForDispose(r.operations=new c.PartOperationList(r)),r._registeredSelectables=t.registeredSelectables,r._registeredSelectableOptions=t.registeredSelectableOptions,t._onInputValuesUpdated=function(n,t,i){var u=MsPortalFx.forEachKey(n,(function(n,t,i){rt.isBladeCallerInput(n)||n===ut.EditScopeId||(i[n]=t)}),{}),f={parameters:{values:u,metadata:i||{}},settings:t&&t.content||{}};r._config.setValues(f)},r._internalViewModel=t,i.viewModelType&64?r.bladeLocation=i.flags&1?2:i.flags&4?1:0:(r.location=i.location||0,e={enableForExtensionRenderedHeader:function(n,t){if(!r.operations.inProgress())throw new Error("'updatableHeader.enableForExtensionRenderedHeader' API must be called during 'onInputsSet'");e.options(t||{});e.updatedHeader.subscribe(r,n)},updatedHeader:ko.observable(),options:ko.observable()},r.updatableHeader=e),f=u(r,{resize:ko.observable(null),selectables:ko.observable({}),closeBlade:ko.observable(null),menu:ko.observable(null),triggerValidation:ko.observable(),suppressAlert:ko.observable(!1),configureAlert:ko.observable(),setFocus:ko.observable(),openDialog:ko.observable(),print:ko.observable(),executeInCloudShell:ko.observable(),requestOpenBlade:ko.observable(),toggleFullScreen:ko.observable(),currentBladeReference:ko.observable(),partCommands:ko.observable(null),openHelpPane:ko.observable(null)}),r.contentSize=ko.observable({height:0,width:0}),r.size.subscribe(r,(function(n){MsPortalFx.deepEquals(r.contentSize(),n.dimensions)||r.contentSize(n.dimensions)})),h=function(n,i){var u=n.parameters,f={inputs:u&&u.values,settings:n.settings,inputsMetadata:u&&u.metadata};return t.updateConfigFn.fxAwaitAndRun(r).then((function(n){return n(f,i)}))},r._config=new tt.Configuration(i||{},h),i.flags&2&&(r.onLockedBlade={closeCurrentBlade:function(n){return r.closeCurrentBlade(n)}}),l=ko.observable(0),r.form={validationState:l,dirty:ko.observable(!1),triggerValidation:function(n,t){return n===void 0&&(n=!1),t===void 0&&(t=!1),r._internal_noLazyRender&&r._internal_noLazyRender(!0),Q(f.triggerValidation.fxAwaitAndRun(r)).then((function(i){return Q(i(n,t))}))},configureAlertOnClose:function(n){ko.isObservable(n)?(o&&o.dispose(),o=r.createChildLifetime(),n.subscribeAndRun(o,f.configureAlert)):f.suppressAlert(n===1)}},i.flags&4&&(s=function(n){return n=n||{},n.inPlace=!0,n},a={titleSuffix:ko.observable(),subtitleSuffix:ko.observable(),switchItem:function(n,t){f.menu.fxOnceAndRun(r,(function(i){i.switchItem(n,t)}))},internalGetAndSelectItem:function(n){return new Promise(function(t){f.menu.fxOnceAndRun(r,(function(i){t(i.internalGetAndSelectItem(n))}))})},openBlade:function(n,t){return r.openBlade(n,s(t))},openBladeAsync:function(n,t){return r.openBladeAsync(n,s(t))}},r.menu=a),r}return __extends(t,n),t.prototype.resizeTo=function(n,t){u(this).resize({width:d(n),height:d(t)})},t.prototype.setFocus=function(n){return Q(u(this).setFocus.fxAwaitAndRun(this)).then((function(t){return t(n)}))},t.prototype.print=function(){return u(this).print.fxAwaitAndRun(this).then((function(n){return n()}))},t.prototype.executeInCloudShell=function(n){for(var i=[],t=1;t<arguments.length;t++)i[t-1]=arguments[t];return u(this).executeInCloudShell.fxAwaitAndRun(this).then((function(t){return t.apply(void 0,__spreadArray([n],i,!1))}))},t.prototype.toggleFullScreen=function(){return u(this).toggleFullScreen.fxAwaitAndRun(this).then((function(n){return n()}))},t.prototype.fail=function(n){this.failureMessage(this.fixErrorMessage(n,e.unexpectedError));this._partState(MsPortalFx.Parts.PartState.Failed)},t.prototype.recover=function(){this._partState()===MsPortalFx.Parts.PartState.Failed&&(this.failureMessage(null),this._partState(MsPortalFx.Parts.PartState.Ready));this.unauthorizedMessage.peek()&&this.unauthorizedMessage(null)},t.prototype.revealContent=function(){var n=this._internalViewModel._revealContentCallCount();this._internalViewModel._revealContentCallCount(n+1)},t.prototype.enableNotice=function(){h.enableNoticeInvoked()},t.prototype.registerSelectable=function(n,t,i,r){var o=this,u=this._registeredSelectables()||{},f=this._registeredSelectableOptions,e=f()||{},s=function(){return Object.keys(u).map((function(n){return u[n]})).some((function(n){return i===n}))};t&&i||h.identitySelectableMissing();u.hasOwnProperty(t)&&h.selectableRegistered(t);s()&&h.selectableInstanceRegistered();r&&(e=l(e,!1),e[t]=r,f(e));u=l(u,!1);u[t]=i;this._registeredSelectables(u);n.registerForDispose((function(){var n=l(o._registeredSelectables(),!1),i=l(f(),!1);delete n[t];delete i[t];o._registeredSelectables(n);f(i)}))},t.prototype.activateConfiguration=function(){return this._config},t.prototype.closeCurrentBlade=function(n){if(n){typeof n=="object"&&(n=MsPortalFx.clone(n,!0,!0));var t=u(this).configureAlert;t&&t()&&t().alertOnDirtyWhenReturningData||this.form.configureAlertOnClose(1)}return v(this,0,n)},t.prototype.closeChildBlade=function(){return v(this,1)},t.prototype.closeContextBlade=function(){return v(this,2)},t.prototype.openDialog=function(n){var r=this,t;return n.dialogRef&&(t=u(n,{closeCallback:ko.observable()}),n.dialogRef.value={close:function(n){t.closeCallback.fxAwaitAndRun(r).then((function(t){t(n)}))}}),Q(u(this).openDialog.fxAwaitAndRun(this)).then((function(t){return t(MsPortalFx.extend({type:i.Dlg2,title:undefined},n,!0),n.target)}))},t.prototype.openHelpPane=function(n){return __awaiter(this,void 0,void 0,(function(){var t;return __generator(this,(function(i){switch(i.label){case 0:return[4,u(this).openHelpPane.fxAwaitAndRun(this)];case 1:return t=i.sent(),[4,t(n)];case 2:return i.sent(),[2]}}))}))},t})(i.SelectableContainerViewModel);t.PartContainer=y;p=(function(n){function t(t,i,r,u,f,e,o){var s=this,l,c;return i||h.containerViewModelMissing(),s=n.call(this,t,i,r,e)||this,s._logArea=f,s._waitForExtensionIdle=o,i.selectable&&FxImpl.assignSelectable(i,i.selectable),s._hadRevealedContentAtConstruction=t._revealContentCallCount()>0,l=s.container,c=s._initLoadingDefer=Q.defer(),l.registerForDispose((function(){Q.isPending(c.promise)&&c.reject(new MsPortalFx.Errors.DisposedCanceledError)})),s._onInputsSetPromise=c.promise,l.operations.add(s._onInputsSetPromise,{blockUi:!s._hadRevealedContentAtConstruction}),t._revealContentCallCount.subscribe(i,s._onRevealContent,s),s}return __extends(t,n),t.prototype.updatePartInputValues=function(t,i,r,u,s,h,c){var l=this,y=nt.getBladeContext(),d=y===null||y===void 0?void 0:y.instanceId,tt;if(d){var w=MsPortalFx.isFeatureEnabled("rpctelemetry")?(function(){var n=FxImpl.Rpc.client.record();return Q.delay(5e3).then((function(){return w(!1)})),function(t){if(n){var i=n();n=null;t&&l.internal.preAjaxRpc(i)}}})():null,rt=function(){var i,r,t,u,f,n;l.container.isDisposed()||(r=l.internal.prepareFirstAjaxTime,r()||(t=(i=y.id)===null||i===void 0?void 0:i.toLowerCase(),u=fx.getTimestamp(),l.internal.onInitializeStartMark&&t&&performance.measure("ExtBladePrepareFirstAjax: ".concat(t),l.internal.onInitializeStartMark),l.internal.onInitializeStart&&r(u-l.internal.onInitializeStart),f=l._waitForExtensionIdle,f&&(n=FxImpl.features.isNativePerf&&t&&"ExtBladeAjax: ".concat(t),n&&performance.mark(n),f(l.container,d).then((function(t){if(t){var i=t.lastAjaxCompleteTime,r=t.lastAjaxCompleteMark;l.internal.ajaxTime(i-u);n&&performance.measure(n,n,r);v===null||v===void 0?void 0:v.onSettled()}}))),w===null||w===void 0?void 0:w(!0)))},v=MsPortalFx.getEnvironmentValue("extensionName")!==a.Shell?it.listenForBlade(y,rt):null;this.container.registerForDispose((function(){v===null||v===void 0?void 0:v.onDisposed();v=null}))}this.internal._onInputValuesUpdated&&this.internal._onInputValuesUpdated(t,i,s);var ut=this._onInputsSetPromise,p=this._onInputsSetPromise=null,ft=this.internal._revealContentCallCount(),g=n.prototype.updatePartInputValues.call(this,t,i||{},r,u,s,h,c);return g!==null&&(p=this._onInputsSetPromise=g.then((function(){if(MsPortalFx.isNullOrUndefined(l.container.unauthorizedMessage())){var n=!l._onInputsSetPromise||l._onInputsSetPromise===p;n&&l.container.recover()}}),(function(n){var g,r=l.container,nt,it,u,h,i,c,y,w,d;if(!r.isDisposed()&&(nt=!l._onInputsSetPromise||l._onInputsSetPromise===p,nt)&&(!n||!n.handled)){var s=o(n,f.Error),rt=s&&o(n,f.DataError),a=s&&o(n,f.NotFoundDataError),v=s&&o(n,f.UnauthorizedDataError),ut=s&&o(n,f.AjaxError),ft=n&&!MsPortalFx.isNullOrUndefined(n.httpStatusCode),et=n&&!MsPortalFx.isNullOrUndefined(n.content),tt=s&&o(n,f.CanceledError),t;if(ut&&n.jqXHR?t=FxImpl.Azure.buildSimplifiedError(n.jqXHR):ft||et?t=FxImpl.Azure.buildSimplifiedError(n):rt&&n.errorData&&(t=FxImpl.Azure.buildSimplifiedError(n.errorData)),u=t&&t.status,it=u===403||u===410||u===404||u===401||u===0||a||v||tt?1:2,h=typeof n=="string"?n:n&&n.message,t){i={message:t.message,code:t.status,error:n};c=i.message===k.Azure.unknownErrorOccured;v&&c&&(i.message=e.unauthorizedText);a&&c&&(i.message=e.notFound);u===0&&(i.message=e.networkError,i.details=e.networkErrorDetails);switch(t.status){case 403:case 401:c&&(i.message=e.unauthorizedText);r.unauthorized(i);break;case 410:case 404:c&&(i.message=e.notFound);r.notFound(i);break;default:r.fail(i)}}else v?r.unauthorized({message:h}):a?r.notFound({message:h}):tt||r.fail({message:h,error:n});y=[n];t&&y.push(t);w=l.role&64?"blade":"part";d=l.role&1024?"ReactView failed to load.":l.role&2048?"Dx view failed to load.":l.role&512?"Az view failed to load.":l.role&4096?"The promise returned from the ".concat(w,"'s onInitialize method was rejected.(id: ").concat(FxImpl.Po.getMetadataId(l),")"):"The promise returned from the ".concat(w,"'s onInputsSet method was rejected.(id: ").concat(FxImpl.Po.getMetadataId(l),")");d+="\r\n".concat(t?t.message:h);(g=b.Log).writeEntry.apply(g,__spreadArray([it,l._logArea,d],y,!1))}})),tt=this._hadRevealedContentAtConstruction||this.internal._revealContentCallCount()>ft,this.container.operations.add(p,{blockUi:!tt})),this._removePromiseFromOps(ut),p},t.prototype._removePromiseFromOps=function(n){if(n){this.container.operations.remove(n);var t=this._initLoadingDefer;t&&n===t.promise&&(t.resolve(),this._initLoadingDefer=null)}},t.prototype.updatePartForUnauthorized=function(){var n=this._onInputsSetPromise;this._onInputsSetPromise=null;this._removePromiseFromOps(n)},t.prototype.invokeClickHandler=function(n,t,r,u,f,e,o,s){if(r){var h=this.container,c=i.createClickContext(this.container,u,!!(h.flags&1),e,o,s),l=n===3?[e]:[{target:f}];i.setClickContext(this.container,c);try{r.apply(t,l)}finally{i.setClickContext(this.container,undefined)}}},t.prototype._onRevealContent=function(){var n=this._onInputsSetPromise,t=n&&this.container.operations.getOptionsForOperation(n);t&&t.blockUi&&this.container.operations.update(n,{blockUi:!1})},t})(r.CompositionViewModelBase);t.Part=p;t.composePartViewModel=et;t.partHeaderEnabledFeatureName="dashboardpartsettings"}));
define("Fx/DependencyInjection",["require","exports","Fx/DependencyInjectionCore","Fx/Diagnostics","FxInternal/Composition/CompositionViewModel","FxInternal/Composition/Part","FxInternal/Rpc","Fx/DependencyInjectionCore"],(function(n,t,i,r,u,f,e,o){Object.defineProperty(t,"__esModule",{value:!0});MsPortalFx.ViewModels.PartContainer=f.PartContainer;FxImpl.ViewModels.createFrameworkPartViewModel=u.createFrameworkPartViewModel;__exportStar(o,t);i.Value()(FxImpl.Rpc.Client);i.container.set(FxImpl.Rpc.Client,FxImpl.Rpc.client);i.container.set(e.Client,FxImpl.Rpc.client);i.container.set(FxImpl.Features,FxImpl.features);i.container.set(r.Logging,FxImpl.Base.Diagnostics.loggingDiValue);var s=MsPortalFx.ViewModels;i.Value("viewModel")(s.CommandContainerContract);i.Value("viewModel")(s.ContainerContract);i.Value("viewModel")(s.PartContainerContract)}));
define("Fx/Composition/Blade",["require","exports","Fx/DependencyInjection","Fx/Composition/ViewModelBase"],(function(n,t,i,r){var u;return (function(t){function f(n){return function(t){i.Class("viewModel")(t);var r=t._fx||(t._fx={});r.itemType=0;r.options=n}}var u,e,o,s,h,c,l,a,v,y;t.Decorator=f;u=(function(){function t(){}return __decorate([__metadata("fx:diagnostics",[n,"Container"]),i.Value("viewModel")],t)})();t.Container=u,(function(n){function t(){return function(n){(n._fx||(n._fx={})).rebindable=!0}}n.Decorator=t})(e=t.Rebindable||(t.Rebindable={})),(function(n){function t(n){return function(t){(t._fx||(t._fx={})).configurableOptions=n||{}}}n.Decorator=t})(o=t.Configurable||(t.Configurable={})),(function(n){function t(){return function(){}}n.Decorator=t})(s=t.ReturnsData||(t.ReturnsData={})),(function(n){function t(){return function(){}}n.Decorator=t})(h=t.Pinnable||(t.Pinnable={})),(function(n){function t(){return function(n){(n._fx||(n._fx={})).doesProvisioning=!0}}n.Decorator=t})(c=t.DoesProvisioning||(t.DoesProvisioning={})),(function(n){function t(){return function(){}}n.Decorator=t})(l=t.LegacyFeatures||(t.LegacyFeatures={})),(function(n){function t(){return function(){}}n.Decorator=t})(a=t.ForContextPane||(t.ForContextPane={})),(function(n){function t(){return function(){}}n.Decorator=t})(v=t.ReplacesOldBlade||(t.ReplacesOldBlade={})),(function(n){function t(n){return function(t){Reflect.defineMetadata("fx:composition:model",n,t)}}n.Decorator=t})(y=t.InjectableModel||(t.InjectableModel={}));t.ProxiedMember=r.ProxiedMember})(u||(u={})),u}));
define("Fx/Composition/ButtonPart",["require","exports","Fx/DependencyInjection"],(function(n,t,i){var r;return (function(t){function u(n){return function(t){i.Class("viewModel")(t);var r=t._fx||(t._fx={});r.itemType=4;r.options=n}}var r,f,e,o,s;t.Decorator=u;r=(function(){function t(){}return __decorate([__metadata("fx:diagnostics",[n,"Container"]),i.Value("viewModel")],t)})();t.Container=r,(function(n){function t(){return function(n){(n._fx||(n._fx={})).rebindable=!0}}n.Decorator=t})(f=t.Rebindable||(t.Rebindable={})),(function(n){function t(){return function(){}}n.Decorator=t})(e=t.ReplacesOldPart||(t.ReplacesOldPart={})),(function(n){function t(n){return function(t){Reflect.defineMetadata("fx:composition:model",n,t)}}n.Decorator=t})(o=t.InjectableModel||(t.InjectableModel={})),(function(){})(s=t.UpdatableHeader||(t.UpdatableHeader={}))})(r||(r={})),r}));
define("Fx/Composition/DashboardFilters",["require","exports"],(function(){var n;return (function(n){var f,r,t,u,i,e,o,s,h;(function(n){n.filterId="MsPortalFx_TimeRange"})(f=n.TimeRangeFilter||(n.TimeRangeFilter={}));r=(function(){function n(){}return n})();n.FilterDefinition=r;t=(function(n){function t(t,i){var r=n.call(this)||this;return r.kind=t,r.operators=i,r}return __extends(t,n),t})(r);u=(function(n){function t(t,i,r,u){var f=n.call(this,r,u)||this;return f.filterId=t,f.displayText=i,f}return __extends(t,n),t})(t),(function(n){function t(n){var t=n.operator;return typeof t=="number"&&(t===0||t===1)}function i(n){return!t(n)}function r(n){return new f(n)}n.isEqualityFilterModel=t;n.isSubstringFilterModel=i;n.createDefinition=r;var f=(function(n){function t(t){var i=this,r=t.filterId,u=t.displayText,f=t.operators;return i=n.call(this,r,u,1,f)||this,i.getFilterValues=t.getFilterValues,i}return __extends(t,n),t})(u)})(i=n.EqualityFilter||(n.EqualityFilter={})),(function(n){function r(n){return i.isEqualityFilterModel(n)}function u(n){return!r(n)}function f(n){return new e(n)}n.isEqualityFilterModel=r;n.isSubstringFilterModel=u;n.createDefinition=f;n.filterId="MsPortalFx_Subscription";var e=(function(n){function t(t){var i=n.call(this,2,t.operators)||this;return i.getSubscriptionIds=t.getSubscriptionIds,i}return __extends(t,n),t})(t)})(e=n.SubscriptionFilter||(n.SubscriptionFilter={})),(function(n){function r(n){return i.isEqualityFilterModel(n)}function u(n){return!r(n)}function f(n){return new e(n)}n.isEqualityFilterModel=r;n.isSubstringFilterModel=u;n.createDefinition=f;n.filterId="MsPortalFx_Location";var e=(function(n){function t(t){var i=n.call(this,3,t.operators)||this;return i.getLocations=t.getLocations,i}return __extends(t,n),t})(t)})(o=n.LocationFilter||(n.LocationFilter={})),(function(n){function r(n){return i.isEqualityFilterModel(n)}function u(n){return!r(n)}function f(n){return new e(n)}n.isEqualityFilterModel=r;n.isSubstringFilterModel=u;n.createDefinition=f;n.filterId="MsPortalFx_ResourceGroup";var e=(function(n){function t(t){var i=n.call(this,5,t.operators)||this;return i.getResourceGroupIds=t.getResourceGroupIds,i}return __extends(t,n),t})(t)})(s=n.ResourceGroupFilter||(n.ResourceGroupFilter={})),(function(n){function r(n){return i.isEqualityFilterModel(n)}function u(n){return!r(n)}function f(n){return new e(n)}n.isEqualityFilterModel=r;n.isSubstringFilterModel=u;n.createDefinition=f;n.filterId="MsPortalFx_ResourceType";var e=(function(n){function t(t){var i=n.call(this,4,t.operators)||this;return i.getResourceTypes=t.getResourceTypes,i}return __extends(t,n),t})(t)})(h=n.ResourceTypeFilter||(n.ResourceTypeFilter={}))})(n||(n={})),n}));
define("Fx/Composition/FramePart",["require","exports","Fx/DependencyInjection"],(function(n,t,i){var r;return (function(t){function u(n){return"onReceiveMessage"in n}function s(n){return function(t){i.Class("viewModel")(t);var r=t._fx||(t._fx={});r.itemType=5;r.options=n}}function a(n,t){if(!t.onReceiveMessage)throw new Error("onReceiveMessage callback must be set.");return new o(n,t)}var f,h,c,l,r,e,o,v,y,p;t.Decorator=s;f=(function(){function t(){}return __decorate([__metadata("fx:diagnostics",[n,"Container"]),i.Value("viewModel")],t)})();t.Container=f,(function(n){function t(){return function(n){(n._fx||(n._fx={})).rebindable=!0}}n.Decorator=t})(h=t.Rebindable||(t.Rebindable={})),(function(n){function t(n){return function(t){(t._fx||(t._fx={})).configurableOptions=n||{}}}n.Decorator=t})(c=t.Configurable||(t.Configurable={})),(function(n){function t(){return function(){}}n.Decorator=t})(l=t.ReplacesOldPart||(t.ReplacesOldPart={}));t.signature="FxFramePart";t.revealContentMessageKind="revealcontent";t.initializationCompleteMessageKind="initializationcomplete";t.frameIsIdleMessageKind="frameidle";t.frameIsBusyMessageKind="framebusy";t.createViewModel=a;r=(function(){function n(n,i){var e=this,o,r,f,h,s,c;this._handlers={};o=i.signature||t.signature;r=[];this.src=i.src;this._postMessage=function(n,t){r.push({signature:o,kind:n,data:t})};this._msPortalFxData={postMessage:ko.observable(),receiveMessage:ko.observable(),isFrameReady:ko.observable(!1),signature:o,isV2Options:u(i)};f=this._msPortalFxData;f.isFrameReady.subscribe(n,(function(n){if(n&&r){for(e._postMessage=function(n,t){f.postMessage({signature:o,kind:n,data:t})};r.length;)f.postMessage(r.shift());r=null}}));f.receiveMessage.subscribe(n,(function(n){if(u(i)&&n&&n.data)i.onReceiveMessage(n.data);(e._handlers[n.kind]||[]).slice().forEach((function(t){t(n.data)}))}));h=function(){n.revealContent();e.off(t.revealContentMessageKind,h)};this.on(t.revealContentMessageKind,h);s=Q.defer();this._readyPromise=s.promise;c=function(n){var i=n&&n.errorMessage;i?s.reject(i):s.resolve();e.off(t.initializationCompleteMessageKind,c)};this.on(t.initializationCompleteMessageKind,c)}return n.prototype.waitForFrameReady=function(){return Q(this._readyPromise)},n.prototype.on=function(n,t){(this._handlers[n]=this._handlers[n]||[]).push(t)},n.prototype.off=function(n,t){MsPortalFx.remove(this._handlers[n]||[],t)},n})();t.ViewModelBase=r;e=(function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.postMessage=function(n,t){this._postMessage(n,t)},t})(r);t.ViewModel=e;o=(function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.postMessage=function(n){this._postMessage(null,n)},t})(r),(function(n){function t(){return function(n){(n._fx||(n._fx={})).filterable=!0}}n.Decorator=t})(v=t.Filterable||(t.Filterable={})),(function(n){function t(n){return function(t){Reflect.defineMetadata("fx:composition:model",n,t)}}n.Decorator=t})(y=t.InjectableModel||(t.InjectableModel={})),(function(){})(p=t.UpdatableHeader||(t.UpdatableHeader={}))})(r||(r={})),r}));
define("Fx/Composition/FrameBlade",["require","exports","Fx/DependencyInjection","Fx/Composition/FramePart"],(function(n,t,i,r){var u;return (function(t){function o(n){return function(t){i.Class("viewModel")(t);var r=t._fx||(t._fx={});r.itemType=1;r.options=n}}function p(n,t){return r.createViewModel(n,MsPortalFx.extend2(t,{signature:"FxFrameBlade"}))}var u=MsPortalFx.noop,f,s,h,c,l,a,v,y,e,w,b;t.Decorator=o;f=(function(){function t(){}return __decorate([__metadata("fx:diagnostics",[n,"Container"]),i.Value("viewModel")],t)})();t.Container=f,(function(n){function t(){return function(n){var t=n._fx||(n._fx={});t.rebindable=!0}}n.Decorator=t})(s=t.Rebindable||(t.Rebindable={})),(function(n){function t(n){return function(t){var i=t._fx||(t._fx={});i.configurableOptions=n||{}}}n.Decorator=t})(h=t.Configurable||(t.Configurable={})),(function(n){function t(){return u}n.Decorator=t})(c=t.ReturnsData||(t.ReturnsData={})),(function(n){function t(){return u}n.Decorator=t})(l=t.Pinnable||(t.Pinnable={})),(function(n){function t(){return function(n){(n._fx||(n._fx={})).doesProvisioning=!0}}n.Decorator=t})(a=t.DoesProvisioning||(t.DoesProvisioning={})),(function(n){function t(){return u}n.Decorator=t})(v=t.LegacyFeatures||(t.LegacyFeatures={})),(function(n){function t(){return u}n.Decorator=t})(y=t.ForContextPane||(t.ForContextPane={}));e=(function(n){function t(t,i){return n.call(this,t,MsPortalFx.extend2(i,{signature:"FxFrameBlade"}))||this}return __extends(t,n),t})(r.ViewModel);t.ViewModel=e;t.createViewModel=p,(function(n){function t(){return function(){}}n.Decorator=t})(w=t.ReplacesOldBlade||(t.ReplacesOldBlade={})),(function(n){function t(n){return function(t){Reflect.defineMetadata("fx:composition:model",n,t)}}n.Decorator=t})(b=t.InjectableModel||(t.InjectableModel={}))})(u||(u={})),u}));
define("FxInternal/Composition/MenuBlade",["require","exports"],(function(n,t){function r(n){var t=n._internal_initialMenuItem;return t&&i(n,undefined),t}function i(n,t){return n._internal_initialMenuItem=t,n}Object.defineProperty(t,"__esModule",{value:!0});t.setInitialMenuItem=t.claimInitialMenuItem=void 0;t.claimInitialMenuItem=r;t.setInitialMenuItem=i}));
define("FxInternal/Controls/Menu",["require","exports"],(function(n,t){function i(n){return n}function r(n,t){return MsPortalFx.extend(n,t)}Object.defineProperty(t,"__esModule",{value:!0});t.setInternal=t.getInternal=void 0;t.getInternal=i;t.setInternal=r}));
define("Fx/Controls/Menu",["require","exports","FxInternal/Composition/MenuBlade","FxInternal/Controls/Menu","Fx/Composition/Selectable"],(function(n,t,i,r,u){var f;Object.defineProperty(t,"__esModule",{value:!0});t.ViewModel=t.SortFunction=void 0;var e=FxImpl.Composition.Selectable.Selectable2,o=MsPortalFx.ViewModels,s=o.Controls,h;(function(n){n[n.Default=0]="Default";n[n.DateTime=1]="DateTime";n[n.SupportFirst=9999]="SupportFirst"})(h=t.SortFunction||(t.SortFunction={}));f=(function(n){function t(t,f){function d(n){if(p.has(n))return p.get(n);var t=new e(w(n));return p.set(n,t),t}function g(n,t,i){return function(){var r,f=(r=i||y())===null||r===void 0?void 0:r.overrideTabBlade;return f?f(n,t):new u.MenuBladeReference("HostedTabMenuBlade",n.id,"HubsExtension",{parameters:{menuId:t,menuItems:n.tabItems.map((function(n){return{id:n.id,displayText:n.displayText}}))}})}}function rt(n,t,i){var u,r,f;return((u=n.tabItems)===null||u===void 0?void 0:u.length)>0&&(r=[].concat(n.keywords),f=[],n.tabItems.forEach((function(u){var e=MsPortalFx.clone(u,!1),o,s;e.icon=n.icon;o=ko.unwrap(e.displayText);r.push(o);r.push(e.keywords);i.push(o);i.push(e.keywords);s={id:e.id,displayText:e.displayText,icon:e.icon};s.supplyBladeReference=g(n,e.id);t[e.id]=d(s);f.push(e)})),n=MsPortalFx.clone(n,!1),delete n.supplyBladeReferenceAsync,n.supplyBladeReference=g(n,n.tabItems[0].id),n.tabItems=f,n.keywords=r),n}function ut(n,t){var i=MsPortalFx.clone(n),r=[ko.unwrap(i.displayText)].concat(i.keywords),u;return i=rt(i,t,r),u=r.filter((function(n){return!!n})).join(" "),i.keywords=u,t[i.id]=d(i),i}var o=n.call(this,t)||this,c,l;o.groups=ko.observableArray();o.showSearch=!0;o.controlType=115;o.groupSortFunction=f;var nt=Q.defer(),a=o._msPortalFxData={items:ko.observableArray(),selectableMap:ko.observable(),options:ko.observable(),overviewPromise:nt.promise},ft=a.items,v=a.selectableMap,y=a.options,p=new Map,w,b,k,s,h,tt,it=function(){w=function(n){return n};b=function(){return Q()};k=undefined;s=undefined;h=undefined;r.setInternal(o,{getInitialItemId:null,resolveInitialItem:null})};return it(),o.groups.subscribe(t,(function(n){var t={},u=function(n,i){var r=n.id,u,f,e;if(!r)throw new Error("Invalid item. No id specified. Item: '".concat(ko.toJSON(n),"'."));if(t[r])throw new Error("Multiple items specified with the same id '".concat(r,"'."));return u=[ko.unwrap(n.displayText),ko.unwrap(i.displayText)].concat(n.keywords).concat(i.keywords),n=rt(n,t,u),f=u.filter((function(n){return!!n})).join(" "),e=$.extend({group:i.displayText,aggregatedKeywords:f},n),t[r]=d(n),e},f=MsPortalFx.mapMany(n,(function(n){return n.items.map((function(t){return u(t,n)}))})),i=y(),r=i&&i.overview;r&&ut(r,t);v(t);ft(f)})),o.setOptions=function(n){var r=MsPortalFx.clone(n,!1),u=n.overview,t,i;u&&(t=MsPortalFx.clone(v()),i=ut(u,t),nt.resolve(i),v(t),r.overview=i);y(r)},c=i.claimInitialMenuItem(t),c&&(l=function(n,t,i,r){return k=n,s=t,h=i,c.setBladeReferencePromise(Q(t),Q(i),r)},r.setInternal(o,{getInitialItemId:function(){return c.id},resolveInitialItem:l}),b=function(n,t){var f,e,o=Q(),a=function(n){return n.supplyBladeReference?Q(n.supplyBladeReference()):Q(n.supplyBladeReferenceAsync())},i,r,u,v;return s&&h||(i=c.id||t.defaultId||t.overview&&t.overview.id,r=i&&(MsPortalFx.find(MsPortalFx.mapMany(n||[],(function(n){return n.items||[]})),(function(n){return n&&(n.id===i||!!MsPortalFx.find(n.tabItems,(function(n){return n.id===i})))}))||(((f=t.overview)===null||f===void 0?void 0:f.id)===i||!!MsPortalFx.find((e=t.overview)===null||e===void 0?void 0:e.tabItems,(function(n){return n.id===i})))&&t.overview),r&&(r.tabItems?(u=r.id===i?MsPortalFx.first(r.tabItems):MsPortalFx.find(r.tabItems,(function(n){return n.id===i})),v=g(r,u.id,t),v&&u&&(u.supplyBladeReference||u.supplyBladeReferenceAsync)&&(o=l(i,Promise.resolve(v()),a(u),t.menuExtensionName))):(r.supplyBladeReference||r.supplyBladeReferenceAsync)&&(o=l(i,null,a(r),t.menuExtensionName)))),(s||h)&&(w=function(n){if(k===n.id){var t=MsPortalFx.clone(n);return delete t.supplyBladeReference,t.supplyBladeReferenceAsync=function(){var t=s!==null&&s!==void 0?s:h;return t?(s=null,h=null,t):a(n)},t}return n}),o}),o.initialize=function(n,t){return tt&&it(),tt=!0,b(n,t).then((function(){o.groups(n);o.setOptions(t)}))},o}return __extends(t,n),t})(s.Base.ViewModel);t.ViewModel=f}));
define("Fx/Composition/MenuBlade",["require","exports","Fx/DependencyInjection","Fx/Controls/Menu"],(function(n,t,i,r){var u;return (function(t){function o(n){return function(t){i.Class("viewModel")(t);var r=t._fx||(t._fx={});r.itemType=2;r.options=n}}var e=MsPortalFx.extend,u,s,h,f,c,l;t.Decorator=o;u=(function(){function t(){}return __decorate([__metadata("fx:diagnostics",[n,"Container"]),i.Value("viewModel")],t)})();t.Container=u,(function(n){function t(){return function(n){(n._fx||(n._fx={})).rebindable=!0}}n.Decorator=t})(s=t.Rebindable||(t.Rebindable={})),(function(n){function t(){return function(){}}n.Decorator=t})(h=t.ReturnsData||(t.ReturnsData={}));t.SortFunction=r.SortFunction;f=(function(){function n(){}return n.create=function(t,i){var r=new n;return r._initialize(t,i),e(r,i)},n.prototype._initialize=function(n,t){var i=t.groupSortFunction,o;i=i===undefined?r.SortFunction.SupportFirst:i;var f=t.groups,e=t.showSearch,u=this._msPortalFxMenu=new r.ViewModel(n,i);u.groupSortOrder=t.groupSortOrder||0;e!==undefined&&(u.showSearch=e);o=__assign(__assign({},t),{menuExtensionName:MsPortalFx.getEnvironmentValue("extensionName")});u.initialize(ko.unwrap(f),o).then((function(){ko.isObservable(f)&&f.subscribeAndRun(n,u.groups)}))},n})();t.ViewModel2=f,(function(n){function t(){return function(){}}n.Decorator=t})(c=t.ReplacesOldBlade||(t.ReplacesOldBlade={})),(function(n){function t(n){return function(t){Reflect.defineMetadata("fx:composition:model",n,t)}}n.Decorator=t})(l=t.InjectableModel||(t.InjectableModel={}))})(u||(u={})),u}));
define("Fx/Composition/Part",["require","exports","Fx/Composition/ViewModelBase","Fx/DependencyInjection"],(function(n,t,i,r){var u;return (function(t){function f(n){return function(t){r.Class("viewModel")(t);var i=t._fx||(t._fx={});i.itemType=6;i.options=n}}var u,e,o,s,h,c,l;t.Decorator=f;u=(function(){function t(){}return __decorate([__metadata("fx:diagnostics",[n,"Container"]),r.Value("viewModel")],t)})();t.Container=u,(function(n){function t(){return function(n){(n._fx||(n._fx={})).rebindable=!0}}n.Decorator=t})(e=t.Rebindable||(t.Rebindable={})),(function(n){function t(n){return function(t){(t._fx||(t._fx={})).configurableOptions=n||{}}}n.Decorator=t})(o=t.Configurable||(t.Configurable={})),(function(n){function t(){return function(){}}n.Decorator=t})(s=t.ReplacesOldPart||(t.ReplacesOldPart={}));t.ProxiedMember=i.ProxiedMember,(function(n){function t(){return function(n){(n._fx||(n._fx={})).filterable=!0}}n.Decorator=t})(h=t.Filterable||(t.Filterable={})),(function(n){function t(n){return function(t){Reflect.defineMetadata("fx:composition:model",n,t)}}n.Decorator=t})(c=t.InjectableModel||(t.InjectableModel={})),(function(){})(l=t.UpdatableHeader||(t.UpdatableHeader={}))})(u||(u={})),u}));
define("Fx/Composition/Pdl/Blade",["require","exports","Fx/DependencyInjection"],(function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});t.Container=void 0;var r=(function(){function t(){}return __decorate([__metadata("fx:diagnostics",[n,"Container"]),i.Value("viewModel")],t)})();t.Container=r}));
define("Fx/Controls/TabMenu",["require","exports"],(function(n,t){Object.defineProperty(t,"__esModule",{value:!0});t.ViewModel=void 0;var i=FxImpl.Composition.Selectable.Selectable2,r=MsPortalFx.ViewModels,u=r.Controls,f=(function(n){function t(t){function h(n){if(f.has(n))return f.get(n);var t=new i(n);return f.set(n,t),t}var r=n.call(this,t)||this;r.items=ko.observableArray();r.controlType=211;var u=r._msPortalFxData={items:ko.observableArray(),selectableMap:ko.observable(),options:ko.observable()},o=u.items,s=u.selectableMap,e=u.options,f=new Map;return r.items.subscribe(t,(function(n){var t={};n.forEach((function(n){var i=n.id;if(!i)throw new Error("Invalid item. No id specified. Item: '".concat(ko.toJSON(n),"'."));if(t[i])throw new Error("Multiple items specified with the same id '".concat(i,"'."));return!e().mainMenu||n.supplyBladeReference||n.supplyBladeReferenceAsync||(n=__assign(__assign({},n),{supplyBladeReference:function(){return null}})),t[i]=h(n),n}));s(t);o(n)})),r.setOptions=function(n){e(n)},r.initialize=function(n,t){return r.setOptions(t),r.items(n),Promise.resolve()},r}return __extends(t,n),t})(u.Base.ViewModel);t.ViewModel=f}));
define("Fx/Composition/TabMenuBlade",["require","exports","Fx/DependencyInjection","Fx/Controls/TabMenu"],(function(n,t,i,r){var u;return (function(t){function o(n){return function(t){i.Class("viewModel")(t);var r=t._fx||(t._fx={});r.itemType=14;r.options=n}}var e=MsPortalFx.extend,u,s,h,f;t.Decorator=o;u=(function(){function t(){}return __decorate([__metadata("fx:diagnostics",[n,"Container"]),i.Value("viewModel")],t)})();t.Container=u,(function(n){function t(){return function(){}}n.Decorator=t})(s=t.ReturnsData||(t.ReturnsData={})),(function(n){function t(){return function(){}}n.Decorator=t})(h=t.ReplacesOldBlade||(t.ReplacesOldBlade={}));f=(function(){function n(){}return n.create=function(t,i){var r=new n;return r._initialize(t,i),e(r,i)},n.prototype._initialize=function(n,t){var i=t.items,f=t.defaultId,e=t.mainMenu,u=this._msPortalFxTabMenu=new r.ViewModel(n),o={defaultId:f,mainMenu:e};u.initialize(ko.unwrap(i),o).then((function(){ko.isObservable(i)&&i.subscribeAndRun(n,u.items)}))},n})();t.ViewModel2=f})(u||(u={})),u}));
define("Fx/Composition/TemplateBlade",["require","exports","Fx/DependencyInjection","Fx/Composition/ViewModelBase"],(function(n,t,i,r){var u;return (function(t){function f(n){return function(t){i.Class("viewModel")(t);var r=t._fx||(t._fx={});r.itemType=3;r.options=n||{}}}var u,e,o,s,h,c,l,a,v,y;t.Decorator=f;u=(function(){function t(){}return __decorate([__metadata("fx:diagnostics",[n,"Container"]),i.Value("viewModel")],t)})();t.Container=u,(function(n){function t(){return function(n){(n._fx||(n._fx={})).rebindable=!0}}n.Decorator=t})(e=t.Rebindable||(t.Rebindable={})),(function(n){function t(n){return function(t){(t._fx||(t._fx={})).configurableOptions=n||{}}}n.Decorator=t})(o=t.Configurable||(t.Configurable={})),(function(n){function t(){return function(){}}n.Decorator=t})(s=t.ReturnsData||(t.ReturnsData={})),(function(n){function t(){return function(){}}n.Decorator=t})(h=t.Pinnable||(t.Pinnable={})),(function(n){function t(){return function(n){(n._fx||(n._fx={})).doesProvisioning=!0}}n.Decorator=t})(c=t.DoesProvisioning||(t.DoesProvisioning={})),(function(n){function t(n){return function(t){Reflect.defineMetadata("fx:legacyFeatures",n,t)}}n.Decorator=t})(l=t.LegacyFeatures||(t.LegacyFeatures={})),(function(n){function t(n){return function(t){Reflect.defineMetadata("fx:forContextPane",n,t)}}n.Decorator=t})(a=t.ForContextPane||(t.ForContextPane={}));t.ProxiedMember=r.ProxiedMember,(function(n){function t(){return function(){}}n.Decorator=t})(v=t.ReplacesOldBlade||(t.ReplacesOldBlade={})),(function(n){function t(n){return function(t){Reflect.defineMetadata("fx:composition:model",n,t)}}n.Decorator=t})(y=t.InjectableModel||(t.InjectableModel={}))})(u||(u={})),u}));
define("Fx/Composition/TemplatePart",["require","exports","Fx/DependencyInjection","Fx/Composition/ViewModelBase"],(function(n,t,i,r){var u;return (function(t){function f(n){return function(t){i.Class("viewModel")(t);var r=t._fx||(t._fx={});r.itemType=7;r.options=n}}var u,e,o,s,h,c,l;t.Decorator=f;u=(function(){function t(){}return __decorate([__metadata("fx:diagnostics",[n,"Container"]),i.Value("viewModel")],t)})();t.Container=u,(function(n){function t(){return function(n){(n._fx||(n._fx={})).rebindable=!0}}n.Decorator=t})(e=t.Rebindable||(t.Rebindable={})),(function(n){function t(n){return function(t){(t._fx||(t._fx={})).configurableOptions=n||{}}}n.Decorator=t})(o=t.Configurable||(t.Configurable={})),(function(n){function t(){return function(){}}n.Decorator=t})(s=t.ReplacesOldPart||(t.ReplacesOldPart={}));t.ProxiedMember=r.ProxiedMember,(function(n){function t(){return function(n){(n._fx||(n._fx={})).filterable=!0}}n.Decorator=t})(h=t.Filterable||(t.Filterable={})),(function(n){function t(n){return function(t){Reflect.defineMetadata("fx:composition:model",n,t)}}n.Decorator=t})(c=t.InjectableModel||(t.InjectableModel={})),(function(){})(l=t.UpdatableHeader||(t.UpdatableHeader={}))})(u||(u={})),u}));
define("FxInternal/Controls/Base/Base",["require","exports"],(function(n,t){Object.defineProperty(t,"__esModule",{value:!0});t.ViewModel=void 0;var i=new MsPortalFx.Base.Diagnostics.Log("FxInternal/Controls/Base/Base"),r=(function(){function t(n,t){this.vmKind="Fx";t=t||{};this.controlType=0;n?(this._lifetimeManager=n.createChildLifetime(),this._lifetimeManager.registerForDispose(this)):(i.error(FxImpl.createError("LifetimeManager was not provided. Creating a TriggerableLifetimeManager.",{data:{ctor:this.constructor+""}})),this._lifetimeManager=new FxImpl.TriggerableLifetimeManager);this.telemetryName=t.telemetryName}return t.prototype.dispose=function(){this._lifetimeManager.dispose()},Object.defineProperty(t.prototype,"lifetimeManager",{get:function(){return this._lifetimeManager},enumerable:!1,configurable:!0}),t.prototype.populateFromObject=function(n){var r=this,t=n;for(var i in t)t.hasOwnProperty(i)&&t[i]!==undefined&&(r[i]=t[i])},t.prototype._addDisposablesToCleanUp=function(n){this._lifetimeManager.registerForDispose(n)},__decorate([__metadata("fx:diagnostics",[n,"ViewModel"]),MsPortalFx.Composition.ProxyCompatibilityMode,__metadata("design:paramtypes",[Object,Object])],t)})();t.ViewModel=r}));
define("FxInternal/Controls/Button",["require","exports","FxInternal/Controls/Base/Base"],(function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});t.ViewModel=void 0;var r=(function(n){function t(t,i){var r=n.call(this,t)||this;return r.controlType=100,r.style=MsPortalFx.initObservable(i.style,0),r.onClick=i.onClick,r.cssClass=MsPortalFx.initObservable(i.cssClass),r.text=MsPortalFx.initObservable(i.text,""),r.disabled=MsPortalFx.initObservable(i.disabled,!1),r.ariaLabel=MsPortalFx.initObservable(i.ariaLabel,""),r.visible=MsPortalFx.initObservable(i.visible,!0),r.loading=MsPortalFx.initObservable(i.loading,!1),r.icon=MsPortalFx.initObservable(i.icon),r.loadingText=MsPortalFx.initObservable(i.loadingText),r}return __extends(t,n),t})(i.ViewModel);t.ViewModel=r}));
define("Fx/Controls/Button",["require","exports","FxInternal/Controls/Button"],(function(n,t,i){function r(n,t){var r;return ko.ignoreDependencies((function(){r=new i.ViewModel(n,t)})),r}Object.defineProperty(t,"__esModule",{value:!0});t.create=void 0;t.create=r}));
define("FxInternal/Utils/ValidationHelper",["require","exports"],(function(n,t){function u(n){var u=n.focusOnFirstInvalid,t=n.ltm,r=n.msPortalFxTriggerValidation,f=n.validateHidden,e=n.vm;return i(e),ko.ignoreDependencies((function(){var n=r();return Q(MsPortalFx.Base.Promises.cancelOnDispose(t,n?Q(n()):function(){var n=Q.defer(),i=t.createChildLifetime();return r.subscribe(i,(function(t){t&&(i.dispose(),Q().then((function(){return t(u,f)})).then(n.resolve).catch(n.reject))})),n.promise}))}))}function i(n){var t=n&&r.get(n);t&&t()}function f(n,t){n&&t&&r.set(n,t)}Object.defineProperty(t,"__esModule",{value:!0});t.setOnTriggerValidationCallback=t.tryOnTriggerValidation=t.triggerValidation=void 0;t.triggerValidation=u;t.tryOnTriggerValidation=i;t.setOnTriggerValidationCallback=f;var r=new WeakMap}));
define("FxInternal/Controls/Base/FormsBase",["require","exports","FxInternal/Controls/Base/Base","FxInternal/Utils/ValidationHelper"],(function(n,t,i,r){function f(n,t){var i=!1;return n.length===t.length&&(i=n.every((function(n,i){return n===t[i]}))),i}Object.defineProperty(t,"__esModule",{value:!0});t.ViewModel=void 0;var u=(function(n){function t(i,r){var u=n.call(this,i,r)||this,f;return r=r||{},f=u.lifetimeManager,u.controlType=0,u.ariaLabel=MsPortalFx.initObservable(r.ariaLabel,""),u.cssClass=MsPortalFx.initObservable(r.cssClass),u.defaultValue=ko.observable(null),u.delayValidationTimeout=ko.observable(MsPortalFx.ViewModels.Controls.ValidatableControl.DefaultDelayValidationTimeout),u.disabled=MsPortalFx.initObservable(r.disabled,!1),u.dirty=ko.observable(!1),u.enabled=ko.observable(!u.disabled()),u.enableValidation=ko.observable(!1),u.ensureValidation=ko.observable(0),u.hideValidationCheck=MsPortalFx.initObservable(r.hideValidationCheck,!1),u.infoBalloonContent=MsPortalFx.initObservable(r.infoBalloonContent,""),u.infoBalloonAriaLabel=MsPortalFx.initObservable(r.infoBalloonAriaLabel,""),u.infoBalloonLinkContent=ko.observable(),u.initialValue=ko.observable(null),u.label=MsPortalFx.initObservable(r.label),u.labelPosition=MsPortalFx.initObservable(r.labelPosition,MsPortalFx.ViewModels.Forms.LabelPosition.Top),u.loading=MsPortalFx.initObservable(r.loading,!1),u.performValidation=ko.observable(null),u.showValidationMessagesBelowControl=!0,u.overflowMode=MsPortalFx.initObservable(r.overflowMode,0),u.subLabel=MsPortalFx.initObservable(r.subLabel,undefined),u.subLabelPosition=ko.observable(MsPortalFx.ViewModels.Forms.SubLabelPosition.Bottom),u.value=ko.observable(),u.valid=ko.observable(!0),u.validate=ko.observable(0),u.validations=MsPortalFx.initObservableArray(r.validations,[]),u.validationResults=ko.observableArray(),u.visible=MsPortalFx.initObservable(r.visible,!0),u._msPortalFxClearValidation=ko.observable(),u._msPortalFxLeftLabelWidth=ko.observable(),u._msPortalFxTriggerValidation=ko.observable(),u._msPortalFxViewModelValueChangesAreClean=!r.suppressDirtyBehavior,u._msPortalFxWidgetValue=ko.observable(),u._msPortalFxRequired=ko.observable(),u._originalDirty=u.dirty,u._newThisValueBinding=undefined,u._dirtyLifetime=undefined,u._enableValidationReactor=undefined,MsPortalFx.isNullOrUndefined(r.value)||(ko.isObservable(r.value)?ko.utils.twoWayBinding(f,r.value,u.value):u.value(r.value)),t.bindSelfTriggeringValidation(u),u.enabled.subscribe(f,(function(n){ko.isWritableObservable(u.disabled)&&u.disabled(!n)})),u.disabled.subscribe(f,(function(n){ko.isWritableObservable(u.enabled)&&u.enabled(!n)})),u.enableValidation(!0),u.createValueSubscriptions(f),u}return __extends(t,n),t.bindSelfTriggeringValidation=function(n){var i=[],u=ko.observable().extend({rateLimit:{timeout:750,method:"notifyWhenChangesStop"}}),t,r;u.subscribe(n.lifetimeManager,(function(){return n.triggerValidation()}));t=new WeakMap;r=[];n.validations.subscribeAndRun(n.lifetimeManager,(function(f){var e=(f||[]).reduce((function(i,r){return"triggerSubscribable"in(r||{})&&(r.value=n.value,t.set(r,r.triggerSubscribable),delete r.triggerSubscribable),t.has(r)&&i.push(t.get(r)),i}),[]),o;r.map((function(n){t.has(n)&&!f.includes(n)&&(n.triggerSubscribable=t.get(n),t.delete(n),n.value=undefined)}));r=f||[];o=(i=i.map((function(n){if(e.includes(n._target))return n;n.dispose()})).filter((function(n){return n}))).map((function(n){return n._target}));e.forEach((function(t){o.includes(t)||i.push(t.subscribe(n.lifetimeManager,(function(){u({})})))}))}))},t.prototype.clearValidation=function(){var n=this;return ko.ignoreDependencies((function(){var t=n._msPortalFxClearValidation();return Q(MsPortalFx.Base.Promises.cancelOnDispose(n.lifetimeManager,t||Q()))}))},t.prototype.triggerValidation=function(n){return r.triggerValidation({vm:this,focusOnFirstInvalid:n,ltm:this.lifetimeManager,msPortalFxTriggerValidation:this._msPortalFxTriggerValidation})},t.prototype.resetDirtyComputed=function(n){MsPortalFx.disposeDisposable(this._dirtyLifetime);this._dirtyLifetime=this.lifetimeManager.createChildLifetime();ko.computed(this._dirtyLifetime,n)},t.prototype.createValueSubscriptions=function(n){var t=this,i=!1,r=!1,u=this.value;Q.nextTick((function(){var n=t.value,i=!!t.lifetimeManager;n!==u&&i&&(MsPortalFx.disposeDisposable(t._newThisValueBinding),t._newThisValueBinding=n.subscribeAndRun(t.lifetimeManager,u))}));this.setValue(this.value(),this._msPortalFxWidgetValue);this.value.subscribe(n,(function(n){r?t.trySetDirty(!0):(i=!0,t.setValue(n,t._msPortalFxWidgetValue),i=!1)}));this._msPortalFxWidgetValue.subscribe(n,(function(n){if(!i){r=!0;var u=void 0;ko.isComputed(t.value)&&((u=t.value())===n||Array.isArray(u)&&Array.isArray(n)&&f(u,n))||t.setValue(n,t.value);r=!1}}))},t.prototype.setDirty=function(n){this.dirty===this._originalDirty&&this.dirty(n)},t.prototype.trySetDirty=function(n){this&&this._msPortalFxViewModelValueChangesAreClean&&this.setDirty(n)},t.prototype.setValue=function(n,t){Array.isArray(n)?t(n.slice()):t(n)},t})(i.ViewModel);t.ViewModel=u}));
define("FxInternal/Controls/CheckBox",["require","exports","FxInternal/Controls/Base/FormsBase"],(function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});t.ViewModel=void 0;var r=(function(n){function t(t,i){var r=n.call(this,t,i)||this;return i=i||{},r.controlType=7,r.inlineLabel=i.labelOnRight||i.inlineLabel||!1,r.isAMD=!0,r}return __extends(t,n),t})(i.ViewModel);t.ViewModel=r}));
define("Fx/Controls/CheckBox",["require","exports","FxInternal/Controls/CheckBox"],(function(n,t,i){function r(n,t){var r;return ko.ignoreDependencies((function(){r=new i.ViewModel(n,t)})),r}Object.defineProperty(t,"__esModule",{value:!0});t.create=void 0;t.create=r}));
define("FxInternal/Controls/CopyableLabel",["require","exports","FxInternal/Controls/Base/Base"],(function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});t.ViewModel=void 0;var r=(function(n){function t(t,i){var r=n.call(this,t,i)||this;return i=i||{},r.controlType=40,r.ariaLabel=MsPortalFx.initObservable(i.ariaLabel),r.cssClass=MsPortalFx.initObservable(i.cssClass),r.readOnly=MsPortalFx.initObservable(i.readOnly,!1),r.hideTextbox=i.hideTextbox,r.style=i.style||0,r.infoBalloonContent=MsPortalFx.initObservable(i.infoBalloonContent),r.infoBalloonAriaLabel=MsPortalFx.initObservable(i.infoBalloonAriaLabel),r.infoBalloonLinkContent=ko.observable(),r.label=MsPortalFx.initObservable(i.label),r.labelPosition=ko.observable(MsPortalFx.ViewModels.Forms.LabelPosition.Top),r.loading=ko.observable(!1),r.subLabel=MsPortalFx.initObservable(i.subLabel),r.subLabelPosition=ko.observable(MsPortalFx.ViewModels.Forms.SubLabelPosition.Bottom),r.value=MsPortalFx.initObservable(i.value),r.visible=MsPortalFx.initObservable(i.visible),r._msPortalFxLeftLabelWidth=ko.observable(),r._msPortalFxRows=MsPortalFx.isNullOrUndefined(i.rows)?1:i.rows,r}return __extends(t,n),t})(i.ViewModel);t.ViewModel=r}));
define("Fx/Controls/CopyableLabel",["require","exports","FxInternal/Controls/CopyableLabel"],(function(n,t,i){function r(n,t){var r;return ko.ignoreDependencies((function(){r=new i.ViewModel(n,t)})),r}Object.defineProperty(t,"__esModule",{value:!0});t.create=void 0;t.create=r}));
define("FxInternal/Controls/Section",["require","exports","FxInternal/Controls/Base/Base","FxInternal/Utils/ValidationHelper"],(function(n,t,i,r){function e(n,t){var i;return ko.ignoreDependencies((function(){i=new f(n,t)})),i}Object.defineProperty(t,"__esModule",{value:!0});t.create=t.ViewModel=void 0;var u=MsPortalFx.ViewModels.Forms.LabelPosition,f=(function(n){function t(t,i){var r=n.call(this,t,__assign(__assign({},i),{telemetryName:MsPortalFx.initObservable(i&&i.telemetryName,"")}))||this;return r.active=ko.observable(!1),r.children=ko.observableArray(),r.dirty=ko.observable(!1),r.valid=ko.observable(!0),r.required=ko.observable(!1),r.validate=null,r.tabSection=ko.observable(),r.tabHasBeenLoaded=ko.observable(!1),r.tabStyle=0,i=i||{},r.controlType=15,r.smartAlignLabel=i.smartAlignLabel,r.children=MsPortalFx.initObservableArray(i.children,[]),r.cssClass=MsPortalFx.initObservable(i.cssClass,""),r.disabled=MsPortalFx.initObservable(i.disabled,!1),r.leftLabelPosition=i.smartAlignLabel?ko.observable(!1):MsPortalFx.initObservable(i.leftLabelPosition,!1),r.leftLabelWidth=i.smartAlignLabel?ko.observable(undefined):MsPortalFx.initObservable(i.leftLabelWidth),r.minHeight=i.minHeight,r.name=MsPortalFx.initObservable(i.name),r.style=MsPortalFx.initObservable(i.style,1),r.visible=MsPortalFx.initObservable(i.visible,!0),r.disableStyles=i.disableStyles,r.telemetrySource=i.telemetrySource,r.width=MsPortalFx.initObservable(i.width),r.populateSection=MsPortalFx.initObservable(i.populateSection),r.submit=MsPortalFx.initObservable(i.submit),r.smartAlignLabel||ko.computed(t,[r.children,r.leftLabelPosition,r.leftLabelWidth],(function(){var t=arguments[0],i=arguments[1],n=arguments[2],r=i&&!n;t.forEach((function(n){n&&ko.isObservable(n.labelPosition)&&n.labelPosition(r?u.Left:u.Top)}));n&&t.forEach((function(t){t._msPortalFxLeftLabelWidth&&t._msPortalFxLeftLabelWidth(n)}))})),r.style()===4&&(r._msPortalFxSetFocusOnTab=ko.observable(undefined)),ko.computed(t,(function(){var n=r.children(),t=n.some((function(n){var t=ko.unwrap(n),i=t&&(MsPortalFx.isNullOrUndefined(t.visible)||ko.unwrap(t.visible));return i&&t.dirty?t.dirty():!1})),i=n.some((function(n){var t=ko.unwrap(n),r=t&&(MsPortalFx.isNullOrUndefined(t.visible)||ko.unwrap(t.visible)),i=!1;return(t&&t.validationResults&&t.validationResults().forEach((function(n){if(n.state===1)return i=!1;n.state===3&&(i=!0)})),r&&i)?!1:r&&t.valid?!t.valid():!1})),u=r.children().some((function(n){var t=ko.unwrap(n),i=t&&(MsPortalFx.isNullOrUndefined(t.visible)||ko.unwrap(t.visible)),r=t&&(t._msPortalFxRequired&&t._msPortalFxRequired()||t.required&&ko.unwrap(t.required));return i&&r}));r.dirty(t);r.required(u);r.valid(!i)})),r}return __extends(t,n),t.prototype.clearValidation=function(){return Q.all(this.children().map((function(n){return n.clearValidation?n.clearValidation():Q()})))},t.prototype.triggerValidation=function(){var t=ko.unwrap(this.visible),n;return t?(r.tryOnTriggerValidation(this),n=this.children().filter((function(n){return typeof n.triggerValidation=="function"})).map((function(n){return n.triggerValidation()})),Q.all(n).then((function(n){return n.every(MsPortalFx.identity)}))):Q(!0)},t})(i.ViewModel);t.ViewModel=f;t.create=e}));
define("Fx/Controls/Section",["require","exports","FxInternal/Controls/Section"],(function(n,t,i){function r(n,t){var r;return ko.ignoreDependencies((function(){r=new i.ViewModel(n,t)})),r}Object.defineProperty(t,"__esModule",{value:!0});t.create=void 0;t.create=r}));
define("FxInternal/Controls/FileDownload",["require","exports"],(function(n,t){function r(n,t){var r=Q.defer(),i=FxImpl.createElement("a");return i.style.display="none",i.href=n,i.download=t,document.body.appendChild(i),i.click(),$(i).remove(),r.resolve(),r.promise}function u(n,i,r){r=r||{};var e=!!MsPortalFx.isInWebWorker,u=null,f=null;return typeof r.downloadContext=="function"?f=r.downloadContext:u=r.downloadContext,{controlType:82,vmKind:"Fx",downloadType:i,label:MsPortalFx.initObservable(r.label,""),toolTip:MsPortalFx.initObservable(r.toolTip,""),ariaLabel:MsPortalFx.initObservable(r.ariaLabel,""),disabled:MsPortalFx.initObservable(r.disabled,!1),asLink:r.displayStyle===1,downloadContext:u,downloadContextCallback:f,errorTitle:MsPortalFx.initObservable(r.errorTitle,null),errorMessage:MsPortalFx.initObservable(r.errorMessage,""),downloadDialogOptions:MsPortalFx.initObservable(r.downloadDialogOptions,null),disableNotifications:MsPortalFx.initValue(r.disableNotifications,!1),onStart:MsPortalFx.initValue(r.onStart,null),onComplete:MsPortalFx.initValue(r.onComplete,null),downloadStatus:ko.observable(null),extensionisInWebWorker:e,onBlobUriDownload:function(n,i){return t.downloadBlobUri(n,i)},dispose:function(){return!0}}}Object.defineProperty(t,"__esModule",{value:!0});t.create=t.DownloadType=t.downloadBlobUri=void 0;t.downloadBlobUri=r;var i;(function(n){n[n.OAuth=0]="OAuth";n[n.SasLike=1]="SasLike";n[n.BlobUri=2]="BlobUri";n[n.DataUri=3]="DataUri"})(i=t.DownloadType||(t.DownloadType={}));t.create=u}));
define("FxInternal/Controls/Toolbar",["require","exports","FxInternal/Controls/Base/Base"],(function(n,t,i){var r,u;Object.defineProperty(t,"__esModule",{value:!0});t.PdlCommandGroup=t.ViewModel=void 0;r=(function(n){function t(t,i){var r=n.call(this,t)||this;return r.controlType=62,r.disabled=MsPortalFx.initObservable(i.disabled),r.items=MsPortalFx.initObservable(i.items,[]),r.loading=ko.observable(!1),r.showLabels=MsPortalFx.initObservable(i.showLabels),r.smallItemSize=ko.observable(!1),r}return __extends(t,n),t.prototype.setItems=function(n){this.items(n)},t})(i.ViewModel);t.ViewModel=r;u=(function(n){function t(t){t===void 0&&(t={});var i=n.call(this,13)||this;return i.commandGroup=t.commandGroup,i.commandGroupOwner=t.commandGroupOwner,i.viewModel=t.viewModel,i}return __extends(t,n),t})(MsPortalFx.ViewModels.Toolbars.ToolbarItem);t.PdlCommandGroup=u}));
define("FxInternal/Controls/ToolbarItems/BaseButton",["require","exports"],(function(n,t){Object.defineProperty(t,"__esModule",{value:!0});t.BaseButton=void 0;var i=(function(){function n(n,t){var u=this,i,r;this.ariaLabel=MsPortalFx.initObservable(t.ariaLabel);this.icon=MsPortalFx.initObservable(t.icon);this.disabledMessage=MsPortalFx.initObservable(t.disabledMessage);this.label=MsPortalFx.initObservable(t.label);this.tooltip=MsPortalFx.initObservable(t.tooltip);this.cssClass=MsPortalFx.initObservable(t.cssClass);this.telemetryName=t.telemetryName;i=t.name||t.telemetryName;this.name=i;this.telemetryName=i;this.unauthorizedMessage=MsPortalFx.initObservable(t.unauthorizedMessage);r=MsPortalFx.initObservable(t.disabled);this.disabled=ko.computed(n,{read:function(){var n=r();return n?typeof n=="string"?n:u.disabledMessage()||!0:!1},write:function(n){r(n)}})}return n})();t.BaseButton=i}));
define("FxInternal/Controls/ToolbarItems/BasicButton",["require","exports","FxInternal/Controls/ToolbarItems/BaseButton"],(function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});t.BasicButton=void 0;var r=(function(n){function t(t,i){var r=n.call(this,t,i)||this;return r.type=typeof i.onClick=="function"?14:15,r.onClick=i.onClick,r}return __extends(t,n),t})(i.BaseButton);t.BasicButton=r}));
define("FxInternal/Controls/ToolbarItems/ClipboardCopyButton",["require","exports","FxInternal/Controls/ToolbarItems/BaseButton"],(function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});t.ClipboardCopyButton=void 0;var r=(function(n){function t(t,i){var r=n.call(this,t,i)||this;return r.onClick=i.onClick,r.type=20,r.statusText=MsPortalFx.initObservable(""),r.statusBalloonVisible=MsPortalFx.initObservable(!1),r}return __extends(t,n),t})(i.BaseButton);t.ClipboardCopyButton=r}));
define("FxInternal/Controls/ToolbarItems/ClipboardPasteButton",["require","exports","FxInternal/Controls/ToolbarItems/BaseButton"],(function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});t.ClipboardPasteButton=void 0;var r=(function(n){function t(t,i){var r=n.call(this,t,i)||this;return r.onClick=i.onClick,r.type=21,r.statusText=MsPortalFx.initObservable(""),r.statusBalloonVisible=MsPortalFx.initObservable(!1),r}return __extends(t,n),t})(i.BaseButton);t.ClipboardPasteButton=r}));
define("FxInternal/Controls/ToolbarItems/FileDownloadButton",["require","exports","FxInternal/Controls/ToolbarItems/BaseButton","FxInternal/Controls/FileDownload"],(function(n,t,i,r){Object.defineProperty(t,"__esModule",{value:!0});t.FileDownloadButton=void 0;var u=(function(n){function t(t,i,u){var f=n.call(this,t,u)||this;return f.vmKind="Fx",f.asLink=!1,f.controlType=null,f.type=16,f.downloadType=i,typeof u.downloadContext=="function"?f.downloadContextCallback=u.downloadContext:f.downloadContext=u.downloadContext,f.extensionisInWebWorker=!!MsPortalFx.isInWebWorker,f.tooltip=f.toolTip=MsPortalFx.initObservable(u.tooltip),f.errorTitle=MsPortalFx.initObservable(u.errorTitle),f.errorMessage=MsPortalFx.initObservable(u.errorMessage),f.downloadStatus=ko.observable(),f.onStart=u.onStart,f.onComplete=u.onComplete,f.onBlobUriDownload=r.downloadBlobUri,f.downloadDialogOptions=MsPortalFx.initObservable(u.downloadDialogOptions),f.disableNotifications=MsPortalFx.initValue(u.disableNotifications,!1),f}return __extends(t,n),t.prototype.dispose=function(){},t})(i.BaseButton);t.FileDownloadButton=u}));
define("FxInternal/Controls/ToolbarItems/FileUploadButton",["require","exports","FxInternal/Controls/ToolbarItems/BaseButton"],(function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});t.ViewModel=void 0;var r=(function(n){function t(t,i){var r=n.call(this,t,i)||this,u;return r.type=18,r.accept=MsPortalFx.initObservable(i.accept),r.allowedFileExtensions=MsPortalFx.initObservable(i.allowedFileExtensions),r.maxFiles=i.maxFiles||1,r.uploadContext=MsPortalFx.initObservable(i.uploadContext),r.uploadTasks=ko.observableArray(),r._msPortalFxUploadActionCallback=ko.observable(null),u=ko.unwrap(r.icon),u||r.icon(MsPortalFx.Base.Images.Upload()),r}return __extends(t,n),t.prototype.resetUploadTasks=function(){var n=this._msPortalFxUploadActionCallback();return n?n():Q()},t})(i.BaseButton);t.ViewModel=r}));
define("FxInternal/Controls/ToolbarItems/MenuButton",["require","exports","FxInternal/Controls/ToolbarItems/BaseButton"],(function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});t.MenuButton=void 0;var r=(function(n){function t(t,i){var r=this;return i=i||{},r=n.call(this,t,i)||this,r.type=17,r.menuId=MsPortalFx.getUniqueId(),r.buttons=MsPortalFx.initObservable(i.buttons,[]),r.isOverflowButton=MsPortalFx.initValue(i.isOverflowButton,!1),r.popupWidth=MsPortalFx.initObservable(i.popupWidth,0),r.popupWidthString=ko.computed(t,(function(){return r.popupWidth()>0?"{0}px".format(r.popupWidth()):"auto"})),r}return __extends(t,n),t})(i.BaseButton);t.MenuButton=r}));
define("FxInternal/Controls/ToolbarItems/MenuItemCustomButton",["require","exports","FxInternal/Controls/ToolbarItems/BaseButton"],(function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});t.MenuItemCustomButton=void 0;var r=(function(n){function t(t,i){var r=n.call(this,t,i)||this;return r.type=22,r.onClick=i.onClick,r.content=MsPortalFx.initObservable(i.content),r}return __extends(t,n),t})(i.BaseButton);t.MenuItemCustomButton=r}));
define("FxInternal/Controls/ToolbarItems/MoveResourceButton",["require","exports","FxInternal/Controls/ToolbarItems/MenuButton","FxInternal/Controls/ToolbarItems/BasicButton","Fx/Composition/Selectable","Fx/ResourceManagement"],(function(n,t,i,r,u,f){function o(n,t){var i={label:t.label,icon:t.icon,ariaLabel:t.ariaLabel,tooltip:t.tooltip,onClick:function(){var i,r,f;t.selectedResourceIds&&t.selectedResourceIds()&&t.selectedResourceIds().length&&(r=t.selectedResourceIds().map((function(n){return n.resourceId})),i=MsPortalFx.extend2(t.parameters,{resourceIds:r}),t.label===e.region&&(i=MsPortalFx.extend2(i,{sourceRegion:t.selectedResourceIds()[0].sourceRegion})));f=new u.PdlBladeReference(t.bladeName,t.extensionName,{parameters:i||t.parameters});n.openBlade(f)},disabled:t.disabled,disabledMessage:t.disabledMessage};return new r.BasicButton(n,i)}var c;Object.defineProperty(t,"__esModule",{value:!0});t.DEV=t.MoveResourceButton=void 0;var e=MsPortalFx.Resources.Strings.Toolbar.MoveButton,l=MsPortalFx.isFeatureEnabled("enableregionmove"),a=MsPortalFx.isFeatureEnabled("enablezonalmove"),v=MsPortalFx.isFeatureEnabled("resourcesextmoveresources"),s=MsPortalFx.isFeatureEnabled("moveresourcesreact"),y={"microsoft.network/virtualnetworks":!0,"microsoft.compute/virtualmachines":!0,"microsoft.network/networkinterfaces":!0,"microsoft.network/networksecuritygroups":!0,"microsoft.network/loadbalancers":!0,"microsoft.network/publicipaddresses":!0,"microsoft.compute/availabilitysets":!0},h={"microsoft.compute/virtualmachines":!0};c=(function(n){function t(t,i){var u=n.call(this,t,{disabled:i.disabled})||this,w=f.ArmId.parse(i.resourceId,!0),d=w.subscription,p=w.resourceType.toLowerCase(),c=[],r=MsPortalFx.initObservableArray(i.selectedResourceIds),g=MsPortalFx.initObservable(i.disabledMessage),b=s?"MoveResources.ReactView":"MoveResourceBlade",k=s&&v?"Microsoft_Azure_Resources":"HubsExtension";return c.push(o(t,{label:e.resourcegroup,icon:MsPortalFx.Base.Images.MoveAcrossResourceGroups(),ariaLabel:e.resourcegroup,tooltip:e.resourcegroup,parameters:{resourceId:i.resourceId,moveType:1},bladeName:b,extensionName:k,selectedResourceIds:r})),c.push(o(t,{label:e.subscription,icon:MsPortalFx.Base.Images.MoveAcrossSubscriptions(),ariaLabel:e.subscription,tooltip:e.subscription,parameters:{resourceId:i.resourceId,moveType:0},bladeName:b,extensionName:k,selectedResourceIds:r})),(l&&y[p]||i.enableRegionMove)&&c.push(o(t,{label:e.region,icon:MsPortalFx.Base.Images.MoveAcrossRegions(),ariaLabel:e.region,tooltip:e.region,parameters:{subscriptionId:d,resourceIds:[i.resourceId]},bladeName:"RmAddResourceWizardBlade",extensionName:"Microsoft_Azure_ResourceMove",disabled:ko.pureComputed((function(){if(r().length){var n=r()[0].sourceRegion.toLowerCase();return r().some((function(t){return t.sourceRegion.toLowerCase()!==n}))}return p==="microsoft.resources/subscriptions/resourcegroups"?!0:!1})),disabledMessage:e.regionDisabledMessage,selectedResourceIds:r})),(a&&h[p]||i.enableZonalMove)&&c.push(o(t,{label:e.zone,icon:MsPortalFx.Base.Images.MoveAcrossRegions(),ariaLabel:e.zone,tooltip:e.zone,parameters:{resourceIds:[i.resourceId]},bladeName:"ZonalMoveWizardBlade",extensionName:"Microsoft_Azure_ResourceMove",disabled:ko.pureComputed((function(){return r().length?r().some((function(n){var t,i=(t=f.ArmId.parse(n.resourceId,!0))===null||t===void 0?void 0:t.resourceType,u=r()[0].sourceRegion.toLowerCase();return!h[i===null||i===void 0?void 0:i.toLowerCase()]||r().some((function(n){return n.sourceRegion.toLowerCase()!==u}))})):p==="microsoft.resources/subscriptions/resourcegroups"?!0:!1})),disabledMessage:e.zonalMoveDisabledMessage,selectedResourceIds:r})),u.buttons(c),u.label(e.title),u.icon(MsPortalFx.Base.Images.ArrowRight()),u.disabledMessage(g()),u}return __extends(t,n),t})(i.MenuButton);t.MoveResourceButton=c}));
define("FxInternal/Controls/ToolbarItems/OAuthButton",["require","exports","FxInternal/Controls/ToolbarItems/BaseButton"],(function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});t.OAuthButton=void 0;var r=(function(n){function t(t,i){var r=n.call(this,t,i)||this;return r.type=9,r.requestUrl=MsPortalFx.initObservable(i.requestUrl),r.popupHeight=MsPortalFx.initObservable(i.popupHeight),r.popupWidth=MsPortalFx.initObservable(i.popupWidth),r.value=ko.observable(),r}return __extends(t,n),t})(i.BaseButton);t.OAuthButton=r}));
define("FxInternal/Controls/ToolbarItems/ToggleButton",["require","exports","FxInternal/Controls/ToolbarItems/BaseButton"],(function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});t.ToggleButton=void 0;var r=(function(n){function t(t,i){var r=n.call(this,t,i)||this;return r.type=6,r.checked=MsPortalFx.initObservable(i.checked,!1),r.optionGroupName=i.optionGroupName,r.ariaLabelId=MsPortalFx.getUniqueId(),r.command={canExecute:ko.observable(!0),execute:function(n){return Q(i.onToggled(n.checked))}},r}return __extends(t,n),t})(i.BaseButton);t.ToggleButton=r}));
define("Fx/Controls/Toolbar",["require","exports","FxInternal/Controls/ToolbarItems/BasicButton","Fx/Composition","FxInternal/Controls/ToolbarItems/ToggleButton","FxInternal/Controls/ToolbarItems/MoveResourceButton","FxInternal/Controls/ToolbarItems/OAuthButton","FxInternal/Controls/ToolbarItems/FileDownloadButton","FxInternal/Controls/ToolbarItems/ClipboardCopyButton","FxInternal/Controls/ToolbarItems/ClipboardPasteButton","FxInternal/Controls/Toolbar","FxInternal/Controls/FileDownload","FxInternal/Controls/ToolbarItems/FileUploadButton","FxInternal/Controls/ToolbarItems/MenuButton","FxInternal/Controls/ToolbarItems/MenuItemCustomButton"],(function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y){function p(n,t){var i;return ko.ignoreDependencies((function(){i=new c.ViewModel(n,t)})),i}Object.defineProperty(t,"__esModule",{value:!0});t.ToolbarItems=t.create=void 0;t.create=p;var w;(function(n){function t(n,t){var r;return ko.ignoreDependencies((function(){r=new i.BasicButton(n,t)})),r}function p(n,t){var i;return ko.ignoreDependencies((function(){i=new u.ToggleButton(n,t)})),i}function w(n,t){var i;return ko.ignoreDependencies((function(){i=new e.OAuthButton(n,t||{})})),i}function b(n,t){var i;return ko.ignoreDependencies((function(){i=new f.MoveResourceButton(n,t)})),i}function k(n,t){var i;return ko.ignoreDependencies((function(){i=new o.FileDownloadButton(n,l.DownloadType.DataUri,t)})),i}function d(n,t){var i;return ko.ignoreDependencies((function(){i=new o.FileDownloadButton(n,l.DownloadType.SasLike,t)})),i}function g(n,t){var i;return ko.ignoreDependencies((function(){i=new o.FileDownloadButton(n,l.DownloadType.OAuth,t)})),i}function nt(n,t){var i;return ko.ignoreDependencies((function(){i=new o.FileDownloadButton(n,l.DownloadType.BlobUri,t)})),i}function tt(n,t){return c(n,t)}function it(n,t){return c(n,t)}function c(n,t){var i;return ko.ignoreDependencies((function(){i=new a.ViewModel(n,t)})),i}function rt(n,t){var i;return ko.ignoreDependencies((function(){i=new y.MenuItemCustomButton(n,t)})),i}function ut(n,t){var i;return ko.ignoreDependencies((function(){i=new v.MenuButton(n,t)})),i}function ft(){return{type:12}}function et(n,i){var u=MsPortalFx.Resources.Strings.Toolbar.FeedbackButton.title;return t(n,{label:u,icon:MsPortalFx.Base.Images.Feedback(),onClick:new r.ClickableLink("#menu/feedback","_self","",i.onButtonClicked,i.telemetryName),tooltip:u})}function ot(n,t){var i;return ko.ignoreDependencies((function(){i=new s.ClipboardCopyButton(n,t)})),i}function st(n,t){var i;return ko.ignoreDependencies((function(){i=new h.ClipboardPasteButton(n,t)})),i}n.createBasicButton=t;n.createToggleButton=p;n.createOAuthButton=w;n.createMoveResourceButton=b;n.createDataUriFileDownloadButton=k;n.createSasLikeFileDownloadButton=d;n.createOAuthFileDownloadButton=g;n.createBlobUriFileDownloadButton=nt;n.createStreamUploadButton=tt;n.createBlobStoreUploadButton=it;n.createMenuItemCustomButton=rt;n.createMenuButton=ut;n.createSeparator=ft;n.createFeedbackButton=et;n.createCopyButton=ot;n.createPasteButton=st})(w=t.ToolbarItems||(t.ToolbarItems={}))}));
define("FxInternal/Experimentation",["require","exports","Fx/DependencyInjectionCore","FxInternal"],(function(n,t,i,r){function o(n,t){return n=(n||"").toLowerCase(),n.startsWith("azureportal_")||(t=(t===null||t===void 0?void 0:t.toLowerCase())||"azureportal",n=t+"_"+n),n}function s(n){return n=(n||"").toLowerCase(),n.indexOf("_")<0&&(n="azureportal_"+n),n}var f,u,e;Object.defineProperty(t,"__esModule",{value:!0});t.ExperimentationManager=t.ExperimentationProvider=void 0;f=/^\w[\w-]*$/;u=(function(){function n(n){this._data=n}return n.prototype.hasFlight=function(n){return!!~this._data.flights.indexOf(n.toLowerCase())},n.prototype.getStringValue=function(n,t){return this._getValue(n,t,(function(n){return String(n)}))},n.prototype.getNumberValue=function(n,t){return this._getValue(n,t,(function(n){var t=parseFloat(n);return isNaN(t)?null:t}))},n.prototype.getBooleanValue=function(n,t){return this._getValue(n,t,(function(n){return typeof n=="boolean"?n:typeof n=="string"?n.length===4&&n.toLowerCase()==="true":null}))},n.prototype._getValue=function(n,t,i){var u=this._data.variables[o(n,t)];return r.isNullOrUndefined(u)?u:i(u)},n})();t.ExperimentationProvider=u;e=(function(){function t(n,t,i){i===void 0&&(i=null);this._trace=t;this._onVariantsAssigned=i;this._queryStringFlights=(n.getValue("experimentationflights")||"").toLowerCase().split(";").filter((function(n){return f.test(n)}));var u=n.shellFeatures.fromQuery;this._queryStringVariables=Object.keys(u).filter((function(n){return r.startsWith(n,"exp.")})).reduce((function(n,t){return n[s(t.substring(4))]=u[t],n}),Object.create(null));n.isEnabled("experimentation")||this.setExtensionFlights(null,!1)}return t.prototype.getExtensionFlights=function(){var t=function(n){return Q({has:function(t){return n.hasFlight(t)},getAll:function(){return n._data.flights}})},n=this._getCache();return Q.isPromiseAlike(n)?Q(n).then(t):t(n)},t.prototype.getAssignments=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(){return[2,this._getCache()]}))}))},t.prototype.setExtensionFlights=function(n,t){var e,o,s,i,f,h;return this._cached||(s=r.union(n&&n.flights||[],this._queryStringFlights).sort(),i=Object.create(null),r.forEachKey(n&&n.variables||{},(function(n,t){i[n.toLowerCase()]=t})),r.extend(i,this._queryStringVariables),f={flights:s,assignmentContext:!this._queryStringFlights.length&&!this._queryStringVariables.length&&n&&n.assignmentContext||"",variables:i},this._cached=new u(f),s.length&&((e=this._onVariantsAssigned)===null||e===void 0?void 0:e.call(this,f)),h=this._timer,h&&(this._trace({source:"Fx/Experimentation",action:t?"Experimentation-ExtensionTimeout":"Experimentation-ExtensionWaitedForFlights",duration:h(),data:f}),this._firstAccessTraced=!0),(o=this._onResolve)===null||o===void 0?void 0:o.call(this)),__assign({},this._cached._data)},t.prototype._getCache=function(){var n=this,i=function(){return __awaiter(n,void 0,void 0,(function(){var t,n=this;return __generator(this,(function(i){switch(i.label){case 0:return t=this._primeCachePromise||(this._primeCachePromise=new Promise(function(t){n._cached?t():(n._timer=n._timer||r.startTimer(),n._onResolve=t,setTimeout((function(){n._cached||(n.setExtensionFlights(null,!0),t())}),300))})),[4,t];case 1:return i.sent(),this._onResolve=this._primeCachePromise=null,[2]}}))}))},t=this._cached;return t?(this._firstAccessTraced||(this._trace({source:"Fx/Experimentation",action:"Experimentation-FlightsAlreadyAvailable",duration:0,data:this._cached._data}),this._firstAccessTraced=!0),t):i().then((function(){return n._cached}))},__decorate([__metadata("fx:diagnostics",[n,"ExperimentationManager"]),i.Value(),__metadata("design:paramtypes",[FxImpl.Features,Function,Function])],t)})();t.ExperimentationManager=e}));
define("Fx/Experimentation",["require","exports","Fx/DependencyInjectionCore","FxInternal/Experimentation"],(function(n,t,i,r){Object.defineProperty(t,"__esModule",{value:!0});t.Experimentation=void 0;var u=(function(){function t(){}return t.create=function(n){return n.get(r.ExperimentationManager)},__decorate([__metadata("fx:diagnostics",[n,"Experimentation"]),i.Factory(),__metadata("design:type",Function),__metadata("design:paramtypes",[i.Container]),__metadata("design:returntype",t)],t,"create",null),t})();t.Experimentation=u}));
define("Fx/Feedback",["require","exports"],(function(n,t){function o(n){r.showNpsEndpoint.invoke(i.client,u,n)}function s(){return Q(r.canShowNpsEndpoint.invoke(i.client,u,null))}var u;Object.defineProperty(t,"__esModule",{value:!0});t.canShowNps=t.showNps=t.Internal=void 0;var e=MsPortalFx.Base,i=FxImpl.Rpc,f=FxImpl.Constants.RpcMethods,r;(function(n){n.showNpsEndpoint=new i.FuncEndPointDefinition(f.showNps);n.canShowNpsEndpoint=new i.FuncEndPointDefinition(f.canShowNps)})(r=t.Internal||(t.Internal={}));u=e.Constants.Shell;t.showNps=o;t.canShowNps=s}));
define("Fx/Lifetime",["require","exports"],(function(n,t){Object.defineProperty(t,"__esModule",{value:!0})}));
define("Fx/Security",["require","exports"],(function(n,t){Object.defineProperty(t,"__esModule",{value:!0})}));
define("Fx/Telemetry",["require","exports"],(function(n,t){Object.defineProperty(t,"__esModule",{value:!0});t.trace=void 0;var i=MsPortalFx.Base.Diagnostics.Telemetry;t.trace=i.trace}));
define("FxInternal/Units",["require","exports"],(function(n,t){Object.defineProperty(t,"__esModule",{value:!0});t.UnitType=t.perTimeBit=t.higherByteOffset=void 0;t.higherByteOffset=8;t.perTimeBit=1<<t.higherByteOffset-1;var i;(function(n){n[n.None=0]="None";n[n.Bytes=1]="Bytes";n[n.Decimal=2]="Decimal";n[n.Time=3]="Time";n[n.BytesPerTime=4]="BytesPerTime";n[n.DecimalPerTime=5]="DecimalPerTime";n[n.Bytes_SI=6]="Bytes_SI";n[n.BytesPerTime_SI=7]="BytesPerTime_SI"})(i=t.UnitType||(t.UnitType={}))}));
define("Fx/Units",["require","exports","FxInternal/Units"],(function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});t.Unit=void 0;var r;(function(n){n[n.None=i.UnitType.None<<i.higherByteOffset]="None";n[n.Percentage=n.None+1]="Percentage";n[n.Bytes=i.UnitType.Bytes<<i.higherByteOffset]="Bytes";n[n.Kilobytes=n.Bytes+1]="Kilobytes";n[n.Megabytes=n.Bytes+2]="Megabytes";n[n.Gigabytes=n.Bytes+3]="Gigabytes";n[n.Terabytes=n.Bytes+4]="Terabytes";n[n.Petabytes=n.Bytes+5]="Petabytes";n[n.BytesPerDay=i.UnitType.BytesPerTime<<i.higherByteOffset|i.perTimeBit]="BytesPerDay";n[n.BytesPerHour=n.BytesPerDay+1]="BytesPerHour";n[n.BytesPerMinute=n.BytesPerDay+2]="BytesPerMinute";n[n.BytesPerSecond=n.BytesPerDay+3]="BytesPerSecond";n[n.KilobytesPerSecond=n.BytesPerDay+4]="KilobytesPerSecond";n[n.MegabytesPerSecond=n.BytesPerDay+5]="MegabytesPerSecond";n[n.GigabytesPerSecond=n.BytesPerDay+6]="GigabytesPerSecond";n[n.TerabytesPerSecond=n.BytesPerDay+7]="TerabytesPerSecond";n[n.PetabytesPerSecond=n.BytesPerDay+8]="PetabytesPerSecond";n[n.Count=i.UnitType.Decimal<<i.higherByteOffset]="Count";n[n.Thousand=n.Count+1]="Thousand";n[n.Million=n.Count+2]="Million";n[n.Billion=n.Count+3]="Billion";n[n.Trillion=n.Count+4]="Trillion";n[n.MicroSeconds=i.UnitType.Time<<i.higherByteOffset]="MicroSeconds";n[n.MilliSeconds=n.MicroSeconds+1]="MilliSeconds";n[n.Seconds=n.MicroSeconds+2]="Seconds";n[n.Minutes=n.MicroSeconds+3]="Minutes";n[n.Hours=n.MicroSeconds+4]="Hours";n[n.Days=n.MicroSeconds+5]="Days";n[n.CountPerDay=i.UnitType.DecimalPerTime<<i.higherByteOffset|i.perTimeBit]="CountPerDay";n[n.CountPerHour=n.CountPerDay+1]="CountPerHour";n[n.CountPerMinute=n.CountPerDay+2]="CountPerMinute";n[n.CountPerSecond=n.CountPerDay+3]="CountPerSecond";n[n.ThousandPerSecond=n.CountPerDay+4]="ThousandPerSecond";n[n.MillionPerSecond=n.CountPerDay+5]="MillionPerSecond";n[n.BillionPerSecond=n.CountPerDay+6]="BillionPerSecond";n[n.TrillionPerSecond=n.CountPerDay+7]="TrillionPerSecond";n[n.Bytes_SI=i.UnitType.Bytes_SI<<i.higherByteOffset]="Bytes_SI";n[n.Kilobytes_SI=n.Bytes_SI+1]="Kilobytes_SI";n[n.Megabytes_SI=n.Bytes_SI+2]="Megabytes_SI";n[n.Gigabytes_SI=n.Bytes_SI+3]="Gigabytes_SI";n[n.Terabytes_SI=n.Bytes_SI+4]="Terabytes_SI";n[n.Petabytes_SI=n.Bytes_SI+5]="Petabytes_SI";n[n.BytesPerDay_SI=i.UnitType.BytesPerTime_SI<<i.higherByteOffset|i.perTimeBit]="BytesPerDay_SI";n[n.BytesPerHour_SI=n.BytesPerDay_SI+1]="BytesPerHour_SI";n[n.BytesPerMinute_SI=n.BytesPerDay_SI+2]="BytesPerMinute_SI";n[n.BytesPerSecond_SI=n.BytesPerDay_SI+3]="BytesPerSecond_SI";n[n.KilobytesPerSecond_SI=n.BytesPerDay_SI+4]="KilobytesPerSecond_SI";n[n.MegabytesPerSecond_SI=n.BytesPerDay_SI+5]="MegabytesPerSecond_SI";n[n.GigabytesPerSecond_SI=n.BytesPerDay_SI+6]="GigabytesPerSecond_SI";n[n.TerabytesPerSecond_SI=n.BytesPerDay_SI+7]="TerabytesPerSecond_SI";n[n.PetabytesPerSecond_SI=n.BytesPerDay_SI+8]="PetabytesPerSecond_SI"})(r=t.Unit||(t.Unit={}))}));
define("Fx/UriBuilder",["require","exports"],(function(){return MsPortalFx.Base.UriBuilder}));
define("FxHubs/ArmClient/Models",["require","exports","Fx/ResourceManagement"],(function(n,t,i){function f(n,t){var e=n.id,u,f;if(!e){if(n.value&&Array.isArray(n))throw new Error("toResource called with object with array property 'value'");return r.warning("ARM returned a resource with no id: "+JSON.stringify(n)),null}return u=n.name,t=t||i.ArmId.parse(e,!0),u||(u=t.resourceName),f=n.type,f||(f=t.resourceType),{id:e,armId:t,location:n.location||"",name:u,tags:n.tags||{},properties:n.properties||{},resourceGroup:i.ArmId.stringify(t,4),type:f,kind:n.kind,zones:n.zones,plan:n.plan,managedBy:n.managedBy,sku:n.sku,identity:n.identity}}function e(n,t){var u=(n||{}).id,f,e;if(!u){if(n.value&&Array.isArray(n))throw new Error("toResourceGroup called with object with array property 'value'");return r.warning("ARM returned a resource group with no id: "+JSON.stringify(n)),null}return t=t||i.ArmId.parse(u,!0),f=n.properties||{},e={id:u,armId:t,location:n.location||"",name:n.name,tags:n.tags||{},properties:f,provisioningState:f.provisioningState,managedBy:n.managedBy},e}Object.defineProperty(t,"__esModule",{value:!0});t.toResourceGroup=t.toResource=void 0;var u=MsPortalFx.Base.Diagnostics,r=u.createLog(n);t.toResource=f;t.toResourceGroup=e}));
define("FxHubs/ArmHelpers/ArmApisStartup",["require","exports","Fx/Ajax","Fx/ResourceManagement","FxHubs/RpcEndPoints"],(function(n,t,i,r,u){function h(n){return n.replace(pt,"")}function v(n){return"/"+h(n)}function o(n){return(n||"").toLowerCase()}function kt(n){return MsPortalFx.replaceAll(n,"'","''")}function c(n){return MsPortalFx.replaceAll(n,"#","%23")}function s(n){return c(kt(n))}function dt(n,t){var i=MsPortalFx.trimEnd(t,"/")+MsPortalFx.ensurePrefix(n,"/"),r=yt.exec(i);return r||bt.invalidUrlEndpoint(i),i=r[1]?r[1]+"/":"",i+=h(r[7]).replace(wt,"/"),!r[1]&&r[7].startsWith("/")&&(i="/"+i),i+(r[8]||"")}function gt(n){var t=o(n);return!n||t.startsWith("hidden-")||t.startsWith("link:")}function ni(n){return g(n)?n:dt(n,i.getEndpoints().arm)}function b(n,i,r,u,f){if(!n.length)return Q();var e=n.pop(),o=t.getAbsoluteArmUri(e);return Q(tt({headers:{accept:"application/json"},isBackgroundTask:u,armApiOrUri:o,telemetry:f,httpMethod:"GET"})).then((function(t){var o=t.content,h=o&&o.value,s;return o?h?i(h)===!1?n=[]:(s=o.nextLink,s&&n.push(s)):r({api:e,reason:"Expected response.value not found."}):r({api:e,reason:"Expected response not found."}),b(n,i,r,u,f)}),(function(t){return r({api:e,reason:t}),b(n,i,r,u,f)}))}function ti(n,t,i,r){return b(n,t,i,!1,r)}function tt(n){var f=n.armApiOrUri,e=n.httpMethod,r=n.data,h=n.isBackgroundTask,c=n.dataType,v=n.telemetry,y=n.useApiInvoke,p=n.filterEmptyResponse,w=n.performRetry,o=n.noBatch,b=t.getAbsoluteArmUri(f),u={headers:n.headers||{accept:"application/json"},isBackgroundTask:h,performRetry:w,invokeApi:y!==!1?FxImpl.internalEnv.fxArmInvokeApi:null,setAuthorizationHeader:!0,setTelemetryHeader:v,type:e,uri:b},l,a,s;return(r&&(u.contentType="application/json",u.data=typeof r=="string"?r:at(r)),p&&(u.dataFilter=function(n,t){return t==="json"&&!n?"{}":n}),c&&(u.dataType=c),l=t.getAbsoluteArmUri("/"),o||!g(f)||~f.indexOf(l)||(o=!0),!o&&nt.includes(e.toUpperCase()))?(a=h?4:1,s={options:a,setTelemetryHeader:u.setTelemetryHeader,type:e,uri:f},r&&MsPortalFx.extend(s,{content:r}),Q(i.batch(s).then((function(n){return{content:n.content,jqXHR:{responseJSON:n.content,status:n.httpStatusCode,getResponseHeader:function(t){return n.headers[t]}}}}),(function(n){throw{errorThrown:MsPortalFx.getLogFriendlyMessage(n),jqXHR:{responseJSON:n.content,responseText:n.content,status:n.httpStatusCode,getResponseHeader:function(t){return n.headers[t]}}};})))):Q(i.ajaxExtended(u))}function ii(n,i,r,u,f,e,o,s){return t.callRaw({armApiOrUri:n,httpMethod:i,data:r,dataType:"json",telemetry:u,useApiInvoke:f,filterEmptyResponse:e,performRetry:o,headers:s}).then((function(n){return n.content}))}function ri(n,t,r,u,f){f=f||{};var e=n,o=function(){if(e.length){var s=!1,h=[],c=[],l=e.map((function(e,o){var l=e.originalIndex===undefined?o:e.originalIndex,v=n[l],a=v.uri;return c.push(a),i.batch({options:u?4:1,uri:e.uri,setTelemetryHeader:e.telemetry+(e.lastChunk||".-1")}).then((function(n){var o;if(!s){var i=n.content||{},u=i,c="",v={value:0,type:"None"};e.arrayResponse&&(u=i.value,c=i.nextLink,f.additionalResponseInfo&&(o=i.count,o&&(v.value=o.value,v.type=o.type)));!i||!u||n.httpStatusCode>=400?r({api:a,reason:n}):t(u,l,{countData:v})===!1?s=!0:c&&h.push({uri:c,arrayResponse:!0,telemetry:e.telemetry,originalIndex:l,lastChunk:".".concat(u.length)})}})).catch((function(n){if(n.httpStatusCode)r({api:a,reason:n});else return Q.reject(n)}))}));return Q.all(l).then((function(){if(!s)return e=h,o()})).catch((function(n){return r({api:c.join("|"),reason:n}),s?void 0:(e=h,o())}))}return Q()};return o()}function ui(){return"/locations".concat(e!==null&&e!==void 0?e:"?api-version=2019-11-01")}function fi(){return"/tenants"+(MsPortalFx.isFeatureEnabled("tenants2020")?"?api-version=2020-01-01&$includeAllTenantCategories=true":"?api-version=2019-03-01&$includeAllTenantCategories=true")}function ei(n){n=MsPortalFx.replaceAll(n.replace(/^\/?subscriptions\/?/,""),"/","");var t=MsPortalFx.isFeatureEnabled("mspfilter")?MsPortalFx.isFeatureEnabled("subscriptionpromotions")?"?api-version=2022-01-01":"?api-version=2018-06-01":"?api-version=2016-06-01";return"/subscriptions/".concat(n).concat(t)}function oi(n,t,i){return it(n,t,i)}function it(n,t,i){var u=r.ArmId.parse(t,!0);return u.kind===1?[u.subscription]:u.kind===4||u.kind===6?(i&&i("resourcegroup eq '".concat(s(u.resourceGroup),"'")),[u.subscription]):n||[]}function si(n,t,i){var f=MsPortalFx.makeArray(t).filter((function(n){return!MsPortalFx.find(l,(function(t){return n.extensionName===t.extensionName&&n.assetType===t.assetType&&MsPortalFx.deepEquals(n.assetId,t.assetId)}))})),r;(l.push.apply(l,f),r=f.map((function(n){var t=n;return t.reason=i,t})),r.length)&&u.Events.notifyAssetDeletedDefinition.invoke(n.get(st.Client),ct,r).finally((function(){Q.delay(2e3).then((function(){l.forEach((function(n){return MsPortalFx.remove(l,n)}))}))}))}function hi(){return"/subscriptions".concat("?api-version=2018-06-01&$expand=inherited")}function ci(n){return"/subscriptions/".concat(n,"/locations").concat(e!==null&&e!==void 0?e:"?api-version=2019-11-01")}function li(n){return"".concat(n,"/locations").concat(e!==null&&e!==void 0?e:"?api-version=2019-11-01")}function ai(n){var t=MsPortalFx.getFeatureValue("permissionsapiversion"),i=t?"?api-version=".concat(t):"?api-version=2018-01-01-preview";return"/".concat(h(c(n)),"/providers/microsoft.authorization/permissions").concat(i)}function rt(n,t,i,r,u,e){var h="eventTimestamp",c=new f.UriBuilder("/subscriptions/".concat(t,"/providers/microsoft.insights/eventtypes/management/").concat(n)),o="".concat(h," ge '").concat(i.toISOString(),"' and ").concat(h," le '").concat(r.toISOString(),"'"),s;return u&&u.length&&(o=u+" and "+o),s=c.query,s.setParameter("api-version","2014-04-01"),s.setParameter("$filter",o),c.toString()+(MsPortalFx.isNullOrUndefined(e)?"":"&$top=".concat(e))}function vi(n,t,i,r){return r===void 0&&(r=null),rt("values",n,t,i,r)}function yi(n,t,i,r,u){return rt("digestEvents",n,t,i,r,u)}function k(n,t){o(n).split(" ").forEach((function(n){n&&t.push("substringof('".concat(s(n),"', name)"))}))}function a(n,t,i,r){var f=r?"ne":"eq",u=MsPortalFx.makeArray(t).filter(MsPortalFx.identity).map((function(t){return"".concat(n," ").concat(f," '").concat(s(o(t)),"'")})).join(r?" and ":" or ");u&&i.push(u)}function pi(n,t,i,r,u,e,o){var h=new f.UriBuilder("/resources"),s=[n.map((function(n){return"subscriptionId eq '".concat(n,"'")})).join(" or "),],c;return k(i,s),a("resourcegroup",e,s,o),a("location",u,s),a("resourceType",t,s),r&&s.push.apply(s,r),h.query.setParameter("api-version","2014-04-01-preview"),c=s.filter(MsPortalFx.identity).map((function(n){return"(".concat(n,")")})).join(" and "),c&&h.query.setParameter("$filter",c),h.toString()}function wi(n,t,i){var r=new f.UriBuilder("/providers/".concat(n.topLevelTenantAlias)),u=[],e;return(n.proxyRoutingFilters||[]).forEach((function(n){switch(n){case 1:k(t,u);break;case 3:a("location",i,u);break;default:y.error("Unhandled proxy routing filter: <".concat(n,">"))}})),r.query.setParameter("api-version",n.apiVersion),e=u.filter(MsPortalFx.identity).map((function(n){return"(".concat(n,")")})).join(" and "),e&&r.query.setParameter("$filter",e),r.toString()}function bi(n,t,i,r,u,e,o){var l,v=t.topLevelResourceTypeAlias,h,s,c;return l=v?"/subscriptions/".concat(n,"/providers/").concat(v):"".concat(o,"/").concat(MsPortalFx.last(t.resourceType.split("/"))),h=new f.UriBuilder(l),s=[],(t.proxyRoutingFilters||[]).forEach((function(n){switch(n){case 1:k(i,s);break;case 2:a("resourcegroup",u,s,e);break;case 3:a("location",r,s);break;default:y.error("Unhandled proxy routing filter: <".concat(n,">"))}})),h.query.setParameter("api-version",t.apiVersion),c=s.filter(MsPortalFx.identity).map((function(n){return"(".concat(n,")")})).join(" and "),c&&h.query.setParameter("$filter",c),h.toString()}function ki(n){return"/subscriptions/".concat(h(n),"/tagnames").concat("?api-version=2016-06-01")}function ut(n,t){var i="/subscriptions/".concat(h(n),"/resourcegroups").concat("?api-version=2014-04-01-preview");return t&&(i=i+"&$top=1"),i}function ft(n,t){var i="/subscriptions/".concat(h(n),"/resources").concat("?api-version=2014-04-01-preview");return t&&(i=i+"&$top=1"),i}function di(n,t,i){var r=new f.UriBuilder(ut(n)),u=["tagname eq '".concat(s(t),"'"),i||i===""?"tagvalue eq '".concat(s(i),"'"):null,].filter((function(n){return!!n})).join(" and ");return r.query.setParameter("$filter",u),r.toString()}function gi(n,t,i){var r=new f.UriBuilder(ft(n)),u=["tagname eq '".concat(s(t),"'"),i||i===""?"tagvalue eq '".concat(s(i),"'"):null,].filter((function(n){return!!n})).join(" and ");return r.query.setParameter("$filter",u),r.toString()}function nr(n,t){return t?v(c(n))+"?api-version=2016-09-01":v(c(n))+"?api-version=2014-04-01-preview"}function tr(n,t){return"".concat(v(c(n))).concat("?api-version=2020-06-01","&").concat(t)}function ir(n){n="/"+h(n);var t=r.ArmId.parse(n,!0);return t.kind!==6?et(n):Q("".concat(r.ArmId.stringify(t,1),"/resources")+"".concat("?api-version=2014-04-01-preview","&").concat("$filter","=resourceId eq '").concat(s(n),"'"))}function et(n){var i=new f.UriBuilder(v(c(n))),r=i.query;return r.getParameter("api-version")?Q(i.toString()):t.getLatestApiVersion(i.path).then((function(n){return r.setParameter("api-version",n),i.toString()}))}function rr(n){var i,u,r,f;if(!i)for(u=n.split("/"),r=u.length-1;r;){if(f=u.slice(0,r).join("/"),t.resourceTypeApiVersionDictionary[f]){i=t.resourceTypeApiVersionDictionary[f];t.resourceTypeApiVersionDictionary[n]=i;break}r--}return i}function ur(n){var f=r.ArmId.parse(n,!0),s,e;return f.kind===4?Q("2014-04-01-preview"):f.kind===1?Q("2016-06-01"):f.kind===6||f.kind===3||f.kind===8?(s=o(f.resourceType),w||(w=Q(u.AssetTypes.getAssetTypesInformationEndPoint.invoke(lt,"fxw",undefined)).then((function(n){n.forEach((function(n){var i=n.resourceType,r=n.apiVersion;i&&r&&(t.resourceTypeApiVersionDictionary[o(i)]=r)}))}))),w.then((function(){if((e=t.resourceTypeApiVersionDictionary[s],e)||(e=t.resourceTypeApiVersionDictionary[o(r.ArmId.parse(n).resourceType)],e))return Q(e);ht.trace({source:"HubsExtension",action:"MissingApiVersion",actionModifier:s});var h=f.subscription,u=f.isNestedResourceType&&MsPortalFx.last(f.nestedResourceTypes).provider||f.provider,l=(h?"/subscriptions/".concat(h,"/providers/").concat(u):"/providers/".concat(u))+"?api-version=2021-04-01",a=t.getAbsoluteArmUri(l),c=o(f.isNestedResourceType&&"".concat(u,"/").concat(MsPortalFx.last(f.nestedResourceTypes).resourceTypes.join("/"))||f.resourceType);return Q(i.ajaxExtended({uri:a,invokeApi:FxImpl.internalEnv.fxArmInvokeApi,type:"GET",headers:{accept:"application/json"},setAuthorizationHeader:!0,setTelemetryHeader:"getLatestApiVersion"})).then((function(n){var i=n&&n.content&&n.content.resourceTypes||[];return i.forEach((function(n){var i=n.defaultApiVersion,r,f;i||(r=n.apiVersions||[],i=MsPortalFx.find(r,(function(n){return n&&vt.test(n)}))||r[0]);f=o(u+"/"+n.resourceType);t.resourceTypeApiVersionDictionary[f]||(t.resourceTypeApiVersionDictionary[f]=i)})),t.resourceTypeApiVersionDictionary[c]||rr(c)||p}),(function(t){return y.warning("".concat(n," using api ver ").concat(p,". Error ").concat(t.responseText)),p}))}))):Q.reject("Unexpected id "+n)}function fr(n){return v(n)+"/resources?api-version=2014-04-01-preview"}var nt,l;Object.defineProperty(t,"__esModule",{value:!0});t.DEV=t.resourcesInResourceGroupApi=t.getLatestApiVersion=t.resourceApi=t.resourceFromArmCacheApi=t.getResourceGroupForceDeleteApi=t.resourceGroupApi=t.resourcesWithTagApi=t.resourceGroupsWithTagApi=t.resourcesInSubscriptionApi=t.resourceGroupsInSubscriptionApi=t.subscriptionTagsApi=t.providerProxyResourcesApi=t.tenantResourcesApi=t.resourcesAcrossSubscriptionsApi=t.resourceTypeApiVersionDictionary=t.getDigestEventsApi=t.getEventsApi=t.getPermissionsApi=t.listLocationsAtScopeApi=t.listSubscriptionLocationsApi=t.listSubscriptions=t.internalNotifyAssetDeleted=t.filterSubscriptionsByScopeByResourceGroup=t.filterSubscriptionsByScope=t.getSubscriptionApi=t.listTenantsApi=t.listLocationsApi=t.callBatchWithContinuation=t.call=t.callRaw=t.callWithContinuation=t.getAbsoluteArmUri=t.isHiddenTag=void 0;var f=MsPortalFx.Base,ot=f.Constants,d=f.Diagnostics,st=FxImpl.Rpc,ht=d.Telemetry,er=MsPortalFx.Extension.ProxyRoutingFilter,y=d.createLog(n),ct=ot.Shell,lt=FxImpl.Rpc.client,at=JSON.stringify,g=f.Resources.isUriAbsolute,e=MsPortalFx.getFeatureValue("azslocapiver"),vt=/^[0-9-]+$/g,p="2014-04-01",yt=/^((https?:)(\/\/\/?)(\w*(?::\w*)?@)?([\w.-]+)(?::(\d+))?)?([^?]*)?(.*)?$/i,pt=/^[\s/]*|\/*$/g,wt=/\/\//g,bt=FxImpl.getErrorMap({batchLimitExceeded:"",invalidUrlEndpoint:"",endpointNotFound:""}),w;t.isHiddenTag=gt;t.getAbsoluteArmUri=ni;t.callWithContinuation=ti;nt=["GET","POST","DELETE","HEAD","PUT","PATCH"];t.callRaw=tt;t.call=ii;t.callBatchWithContinuation=ri;t.listLocationsApi=ui;t.listTenantsApi=fi;t.getSubscriptionApi=ei;t.filterSubscriptionsByScope=oi;t.filterSubscriptionsByScopeByResourceGroup=it;l=[];t.internalNotifyAssetDeleted=si;t.listSubscriptions=hi;t.listSubscriptionLocationsApi=ci;t.listLocationsAtScopeApi=li;t.getPermissionsApi=ai;t.getEventsApi=vi;t.getDigestEventsApi=yi;t.resourceTypeApiVersionDictionary={"aspera.transfers/services":"2016-03-25","cloudyn.analytics/accounts":"2016-03-01","conexlink.mycloudit/accounts":"2015-06-15","hive.streaming/services":"2016-03-18","microsoft.bingmaps/mapapis":"2015-07-02","microsoft.visualstudio/account/project":"2014-02-26","pokitdok.platform/services":"2016-05-17","raygun.crashreporting/apps":"2015-01-01","signiant.flight/accounts":"2015-06-29","trendmicro.deepsecurity/accounts":"2015-06-15"};t.resourcesAcrossSubscriptionsApi=pi;t.tenantResourcesApi=wi;t.providerProxyResourcesApi=bi;t.subscriptionTagsApi=ki;t.resourceGroupsInSubscriptionApi=ut;t.resourcesInSubscriptionApi=ft;t.resourceGroupsWithTagApi=di;t.resourcesWithTagApi=gi;t.resourceGroupApi=nr;t.getResourceGroupForceDeleteApi=tr;t.resourceFromArmCacheApi=ir;t.resourceApi=et;t.getLatestApiVersion=ur;t.resourcesInResourceGroupApi=fr}));
define("FxHubs/ArmHelpers/ArmIds",["require","exports","Fx/ResourceManagement"],(function(n,t){var i;Object.defineProperty(t,"__esModule",{value:!0});t.ResourceArmIdKindMap=void 0;t.ResourceArmIdKindMap=(i={},i[6]=!0,i[3]=!0,i[8]=!0,i)}));
define("FxHubs/ArmClient",["require","exports","Fx/Ajax","Fx/ResourceManagement","FxHubs/ArmHelpers/ArmApisStartup","FxHubs/ArmHelpers/ArmIds","FxHubs/ArmClient/Models","Fx"],(function(n,t,i,r,u,f,e,o){function b(n,r,f){f===void 0&&(f={});var o=f.background;return Q(i.batch({options:o?4:1,setTelemetryHeader:r,uri:u.resourceGroupApi(n)}).then((function(n){return e.toResourceGroup(n.content)})).catch((function(i){i&&i.status===404&&MsPortalFx.UI.AssetManager.notifyAssetDeleted(t.resourceGroupAssetType,n,"HubsExtension");throw i;})))}function k(n,t,i){if(r.ArmId.parse(n,!0).kind!==4)throw new Error("Invalid resource group ID: ".concat(n));return Q.spread([b(n,t,i),s(),],(function(t,i){if(!t)throw new h(n);return a(t,i)}))}function a(n,t){var i=n.location||"";return MsPortalFx.extend({locationString:t.get(i)||i},n)}function v(n,t,f){return f===void 0&&(f={}),__awaiter(this,void 0,void 0,(function(){var l,h,a,nt,tt,y,p,it,c,b,k,s,d,g;return __generator(this,(function(rt){switch(rt.label){case 0:l=f.skipArmCache;h=f.useArgPointGet;a=f.background;nt=f.skipCacheMissRetry;tt=r.ArmId.parse(n);y=function(i,r){if(l||nt){if(r)throw r;return Q.reject({content:i===null||i===void 0?void 0:i.content,headers:i===null||i===void 0?void 0:i.headers,httpStatusCode:404})}return w.trace({source:"getResource",action:"FallbackFromCache",data:{options:f,response:i,error:r}}),v(n,t,{skipArmCache:!0,background:a})};p=l||h&&tt.kind===6;it=p?u.resourceApi(n):u.resourceFromArmCacheApi(n);rt.label=1;case 1:return rt.trys.push([1,4,,5]),[4,it];case 2:return c=rt.sent(),p&&(b="",o.forEachKey(f.additionalQueryStrings,(function(n,t){b+="&".concat(n,"=").concat(t)})),c+=b,h&&(c+="&useResourceGraph=true")),[4,i.batch({options:a?4:1,setTelemetryHeader:t,uri:c})];case 3:return(k=rt.sent(),s=k.content,s&&s.value&&(s=s.value[0],s&&(s.id=s.id||n)),d=s&&e.toResource(s),!d)?[2,y(k)]:[2,d];case 4:if(g=rt.sent(),!h)throw g;return[2,y(null,g)];case 5:return[2]}}))}))}function d(n,t,i){if(!f.ResourceArmIdKindMap[r.ArmId.parse(n,!0).kind])throw new c(n);return Q.spread([v(n,t,i),s(),],(function(t,i){if(!t)throw new h(n);return y(t,i)}))}function y(n,t){var i=n.location||"";return MsPortalFx.extend({locationString:t.get(i)||i,trimmedName:MsPortalFx.last((n.name||n.id||"").split("/"))},n)}var s,h,c;Object.defineProperty(t,"__esModule",{value:!0});t.mapResourceToResourceWithStrings=t.getResource=t.mapResourceGroupToResourceGroupWithStrings=t.getResourceGroup=t.InvalidResourceIdError=t.resourceGroupAssetType=void 0;var l=MsPortalFx.Base,p=l.Constants,w=l.Diagnostics.Telemetry;t.resourceGroupAssetType=p.AssetNames.ResourceGroups;s=o.memoizePromise((function(){return Q(MsPortalFx.Azure.getLocations()).then((function(n){var t=FxImpl.lowerCaseStringMap();return o.forEachKey(n,(function(n,i){return t.set(n,i)})),t}))}));h=(function(n){function t(t){var i=n.call(this,"Invalid server response for ".concat(t))||this;return i.status=406,i}return __extends(t,n),t})(Error);c=(function(n){function t(i){var r=n.call(this,"Invalid Resource ID: ".concat(MsPortalFx.sanitizeMessage(i)))||this;return Object.setPrototypeOf(r,t.prototype),r}return __extends(t,n),t})(Error);t.InvalidResourceIdError=c;t.getResourceGroup=k;t.mapResourceGroupToResourceGroupWithStrings=a;t.getResource=d;t.mapResourceToResourceWithStrings=y}));
define("FxHubs/HubsSettingsSchema",["require","exports"],(function(n,t){var i,u,r;Object.defineProperty(t,"__esModule",{value:!0});t.writeBrowsePreviewOptInFlagEndpoint=t.allowedUserSettingsKeys=t.Keys=t.writeHubsLastUsedUserSettings=t.deleteHubsUserSettings=t.writeHubsUserSettings=t.readHubsUserSettings=void 0;i=FxImpl.Rpc;u=FxImpl.Constants.RpcMethods;t.readHubsUserSettings=new i.FuncEndPointDefinition(u.shellReadUserSettings);t.writeHubsUserSettings=new i.ActionEndPointDefinition(u.shellWriteUserSettings);t.deleteHubsUserSettings=new i.ActionEndPointDefinition("Shell.deleteUserSettings");t.writeHubsLastUsedUserSettings=new i.ActionEndPointDefinition(u.shellWriteLastUsedUserSettings),(function(n){n.createLastDeployedItems="gallery_create_lastDeployed_galleryItems";n.createLauncherLastUsedSubscriptionId="gallery_createLauncher_lastUsed_subscriptionId";n.createLauncherLastUsedResourceGroupLocation="gallery_createLauncher_lastUsed_resourceGroupLocation";n.deploymentsLastUsedLocations=FxImpl.Azure.lastUsedLocationsKey;n.whatsNewLastNotificationTime="whatsNew_lastNotificationTimestamp";n.lastRecommendationsFetchTime="recommendations_lastFetchTimestamp";n.subscriptionsSelected="subscriptions_selected";n.pastDueSubscriptionsSnoozed="pastduesubscriptions_snoozed";n.browseColumnsSettings="browse_columns";n.browseFavoriteViews="favorite_views";n.recentResourcesSettings="browse_recentResources";n.directoriesSelected="directories_selected";n.recentArgQueries="recents_argQueries";n.favoriteResourcesSettings="browse_favoriteResources"})(r=t.Keys||(t.Keys={}));t.allowedUserSettingsKeys=[r.createLastDeployedItems,r.createLauncherLastUsedSubscriptionId,r.createLauncherLastUsedResourceGroupLocation,r.deploymentsLastUsedLocations,];t.writeBrowsePreviewOptInFlagEndpoint=new i.ActionEndPointDefinition("writeBrowsePreviewOptInFlag")}));
define("FxHubs/Common/UserSettingsHelper",["require","exports","Fx/DependencyInjection","FxHubs/HubsSettingsSchema","FxHubs/HubsSettingsSchema","Fx"],(function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});t.UserSettingsHelper=void 0;var o=MsPortalFx.Base,s=FxImpl.Rpc,e=o.Constants.Shell,h=(function(){function t(n,t){var i=this;this._rpcClient=n;this._diContainer=t;this._settingsCache=Object.create(null);this.useGlobalResourceFiltersMemo=f.memoizePromise((function(){var t=i._diContainer.get(FxImpl.Features),r=t.isEnabled("globalresourcefilter"),n;return r?(n="optedIn",i.readSettings([n],19).then((function(t){return!!t[n]}))):Q(!1)}))}return t.prototype.readSettings=function(n,t){var i=t||0,u;return this._settingsCache[i]||(this._settingsCache[i]=Object.create(null)),u=n.join("|"),this._settingsCache[i][u]||(this._settingsCache[i][u]=Q(r.readHubsUserSettings.invoke(this._rpcClient,e,{settingsKeys:n,settingStore:t}))),this._settingsCache[i][u]},t.prototype.writeSettings=function(n,t,i){var u=this;return Q(r.writeHubsUserSettings.invoke(this._rpcClient,e,{settings:n,priority:t,settingStore:i})).then((function(){return u._clearCacheForStore(i)}))},t.prototype.deleteSettings=function(n,t){var i=this;return Q(r.deleteHubsUserSettings.invoke(this._rpcClient,e,{settingsKeys:n,settingStore:t})).then((function(){return i._clearCacheForStore(t)}))},t.prototype.writeLastUsedSettings=function(n){return Q(r.writeHubsLastUsedUserSettings.invoke(this._rpcClient,e,n))},t.prototype.writeBrowsePreviewOptIn=function(n,t,i,r,f){var e=this;return Q(u.writeBrowsePreviewOptInFlagEndpoint.invoke(this._rpcClient,"fx",{assetIds:n,value:r,resourceType:t,kind:i,preventAutoBladeLaunch:f})).then((function(){return e._clearCacheForStore(15)}))},t.prototype._clearCacheForStore=function(n){delete this._settingsCache[n||0]},__decorate([__metadata("fx:diagnostics",[n,"UserSettingsHelper"]),i.Class(),__metadata("design:paramtypes",[s.Client,i.Container])],t)})();t.UserSettingsHelper=h}));
define("FxHubs/ResourceManagement",["require","exports"],(function(n,t){function u(n,t){return(n&t)===t}function f(n,t){return(n&t)!=0}function e(n,t){return(n&t)===t}function o(n,t){return(n&t)!=0}Object.defineProperty(t,"__esModule",{value:!0});t.supportsAnyOption=t.supportsOption=t.supportsAnyContract=t.supportsContract=t.AssetTypeOptions=t.AssetTypeContracts=void 0;var i=MsPortalFx.Assets,r=MsPortalFx.Extension;t.AssetTypeContracts=i.AssetContracts;t.AssetTypeOptions=r.AssetTypeOptions;t.supportsContract=u;t.supportsAnyContract=f;t.supportsOption=e;t.supportsAnyOption=o}));
define("FxHubs/Utilities",["require","exports"],(function(n,t){Object.defineProperty(t,"__esModule",{value:!0});t.MapWithKeyTransform=void 0;var i=(function(){function n(n){this._map=new Map;this._toInternal=n.sourceToInternal;this._toSource=n.internalToSource}return n.prototype.clear=function(){this._map.clear()},n.prototype.delete=function(n){return this._map.delete(this._toInternal(n))},n.prototype.forEach=function(n,t){var i=this;this._map.forEach((function(r,u){n.call(t,r,i._toSource&&i._toSource(u),i)}),t)},n.prototype.get=function(n){return this._map.get(this._toInternal(n))},n.prototype.has=function(n){return this._map.has(this._toInternal(n))},n.prototype.set=function(n,t){return this._map.set(this._toInternal(n),t),this},Object.defineProperty(n.prototype,"size",{get:function(){return this._map.size},enumerable:!1,configurable:!0}),n})();t.MapWithKeyTransform=i}));
define("FxHubs/ArtHelpers/ArgBrowseHelpers",["require","exports","Fx","Fx","Fx/Composition/Selectable","Fx/Errors","FxHubs/ResourceManagement","FxHubs/RpcEndPoints","Fx/ResourceManagement","FxHubs/Utilities","MsPortalFx/Globalization","FxHubs/Resources/FxHubsClientStrings","FxHubs/HubsSettingsSchema","FxHubs/Common/UserSettingsHelper"],(function(n,t,i,r,u,f,e,o,s,h,c,l,a,v){function kt(n,t){if(t){if(t.browseType!==1)return!1;if(MsPortalFx.isFeatureEnabled("artbrowse")&&(!e.supportsContract(t.contracts,2)||n&&n!==4)&&(t.routingType||g.Default)===g.Default&&n!==4&&n!==3)return!0}return n===1||n===2}function dt(n){return!!t.initializedFromSettings[n]}function gt(n,t,i,r,u,f,e){var h=n.data||{},o=MsPortalFx.convertArrayToMap(h.columns,(function(n){return n.name}),(function(n,t){return t})),a=o.id,v=o.name,y=o.type,p=o.kind,w=o.subscriptionId,b=o.subscriptionDisplayName,k=o.tags,c=MsPortalFx.getUniqueId(),l;return e===null||e===void 0?void 0:e.preProcessor(c),l=(h.rows||[]).reduce((function(n,o){var g=o[a],ot=o[y],st=o[p],d=ot&&i&&i[ot.toString().toLowerCase().trim()],nt,rt,ut,l,et;if(!d&&t&&(d={}),d){nt=d.partDetails;st&&(rt=function(n){nt=n.partDetails},ut=(d.kindMap||Object.create(null))[st],ut?rt(ut):d.defaultKind&&rt(d.defaultKind));nt||(nt=f);var ft=o[w],ht=o[k]||Object.create(null),it=o[v],tt=s.ArmId.parse(g,!0);tt.kind===0&&(tt=s.ArmId.parse("/"+g,!0),tt.kind!==0&&(g="/"+g));it=s.ResourceName.getDisplayName({id:g,name:it,armId:tt,tags:ht})||it;l={};(h.columns||[]).forEach((function(n,t){var i=MsPortalFx.replaceAll(n.name,"_","."),f=r[i]||MsPortalFx.identity;l[i]=f(o[t],u[i])}));l.id=g;l.name=it;l.resourceGroupId=s.ArmId.stringify(tt,4);l.tagsArray=ko.observable(null);l.partDetails=nt;l.tags=ko.observable(ht);et=o[b];et?l.subscriptionDisplayName=ko.observable(et):(l.subscriptionDisplayName=ko.observable(ft),ft&&void ct(lt.getSubscriptionInfo(ft),(function(n){l.subscriptionDisplayName(n.displayName)})));e===null||e===void 0?void 0:e.itemProcessor(c,l);n.push(l)}return n}),[]),e===null||e===void 0?void 0:e.postProcessor(c),l}function ni(n,t){var e=n.sourceBladeOrPartName||"Resources",s,l,h,o,c,i;return n.noPdlCreateBlade?(t&&(s={},r.forEachKey(n.noPdlCreateParameters,(function(n,i){s[n]=typeof i=="string"&&i.toLowerCase()==="{resourceid}"?t:i}))),Q(new u.ProvisioningBladeReference(n.noPdlCreateBlade,n.noPdlCreateExtension,n.marketplaceItemId,{parameters:s||n.noPdlCreateParameters,onClosed:n.onBladeClosed}))):n.marketplaceItemId?(l={extension:"HubsExtension",detailBlade:"NoCreateFlowBlade",detailBladeInputs:{marketplaceItemId:n.marketplaceItemId}},h=n.createFlowPromise||Q(yt().then((function(t){return t.getCreateFlow({marketplaceGalleryItemId:n.marketplaceItemId,launchingContext:{telemetryId:MsPortalFx.newGuid(),galleryItemId:n.marketplaceItemId,source:[e,n.resourceType]},dontDiscardJourney:!0,error:{extension:n.noPdlCreateExtension,maretplaceItemId:n.marketplaceItemId}})}))),n.onCreateFlowPromise&&n.onCreateFlowPromise(h),o=new u.PdlBladeReference("NoCreateFlowBlade","HubsExtension",{parameters:l.detailBladeInputs,onClosed:n.onBladeClosed}),h.then((function(t){var r,f=t.createVersion,i;f===undefined&&(f=t.isOldCreate?0:2);switch(f){case 0:return b.trace({action:"OldCreateFlowLaunched",source:e,data:{marketplaceItemId:n.marketplaceItemId}}),o.parameters.notSupported=!0,Q.resolve(o);case 1:case 2:i=t.bladeSelection.detailBladeInputs;r=new u.ParameterProviderBladeReference(t.bladeSelection.detailBlade,t.bladeSelection.extension,{parameters:i,onClosed:n.onBladeClosed,supplyInitialData:function(){return i.internal_bladeCallerParams&&FxImpl.fromSerializableObject(i.internal_bladeCallerParams.initialData)},receiveResult:function(){return{}},supplyProviderConfig:function(){return i.internal_bladeCallerParams&&i.internal_bladeCallerParams.providerConfig}});break;case 3:r=new u.ProvisioningBladeReference(t.bladeSelection.detailBlade,t.bladeSelection.extension,null,{parameters:{internal_bladeCallerParams:Q(t)},onClosed:n.onBladeClosed})}return Q(r)})).catch((function(t){return vt.warning(new f.FxError({message:"Could not get the create flow for item <".concat(n.marketplaceItemId,">. Error: ").concat(MsPortalFx.getLogFriendlyMessage(t)),innerErrors:[t]})),o}))):n.marketplaceMenuItemId?(c=void 0,i=n.marketplaceMenuItemId,c=n.listScopeArmId&&n.listScopeArmId.kind===4?i.indexOf("/")!==-1?nt({parameters:{selectedSubMenuItemId:{menuItemId:i,dontDiscardJourney:!0,resourceGroup:n.listScope,resourceGroupLocation:n.listScopeLocation,launchingContext:{source:"AddResourceCommand"}}},callbacks:null,onClosed:n.onBladeClosed}):tt({parameters:{selectedMenuItemId:i,dontDiscardJourney:!0,resourceGroup:n.listScope,resourceGroupLocation:n.listScopeLocation,launchingContext:{source:"AddResourceCommand"}},callbacks:null,onClosed:n.onBladeClosed}):i.indexOf("/")!==-1?nt({parameters:{selectedSubMenuItemId:{menuItemId:i,dontDiscardJourney:!0,launchingContext:{source:"".concat(e," ").concat(n.resourceType)}}},callbacks:null,onClosed:n.onBladeClosed}):i===MsPortalFx.Base.Constants.GalleryMenuItems.HomeMenuItem?new u.PdlBladeReference(MsPortalFx.Base.Constants.BladeNames.Hubs.CreateHubBlade,"Microsoft_Azure_Marketplace",{parameters:{"package":null,additionalConfig:null,dontDiscardJourney:!0,selectedMenuItemId:null,createLanding:null},onClosed:n.onBladeClosed}):tt({parameters:{selectedMenuItemId:i,dontDiscardJourney:!0,launchingContext:{source:"".concat(e," ").concat(n.resourceType)}},callbacks:null,onClosed:n.onBladeClosed}),Q(c)):void 0}function ti(n,i){if(!t.initializedFromSettings[i]){var r=b.start({source:"ColumnChooser",action:"ReadUserSettingsV"+i}),u=Q(n.get(v.UserSettingsHelper).readSettings([it],i>1?15:undefined)).then((function(n){b.endTrace(r,"complete");et(i,n[it],!0)}));t.initializedFromSettings[i]=u}return t.initializedFromSettings[i]}function et(n,i,r){if(!t.initializedFromSettings[n]||r)return t.initializedFromSettings[n]=Q(),MsPortalFx.forEachKey(i,(function(n,i){ht(t.resourcePersistedColumns,n.toLowerCase())(i)})),!0}function ii(n,i,r,u){if(!t.initializedFromSettings)throw new Error("Columns not initialized, call initializeColumns() first");k(n,i,r)(u)}function k(n,i,r){if(!t.initializedFromSettings)throw new Error("Columns not initialized, call initializeColumns() first");return st(t.resourceDefaultColumns,n,i,r)}function ri(n,i,r){var f,u,e,o;if(!t.initializedFromSettings)throw new Error("Columns not initialized, call initializeColumns() first");return f=d(n,i,r),u=t.resourceVisibleColumns.get(f),u||(e=k(n,i,r),o=ot(n,i,r),u=ko.pureComputed((function(){var t=e(),i=o(),n;return i?(n=[],i.forEach((function(i){var e;if(i.visible){var r=i.id,u=void 0,f=MsPortalFx.find(t,(function(n){return n.id===r}));f&&(u=MsPortalFx.extend2(f,{visible:!0}));!f&&MsPortalFx.startsWith(r,wt)&&(e=r.slice(bt),u={id:r,name:l.Browse.tagColumnNameFormat.format(e),format:MsPortalFx.ViewModels.Controls.Lists.Grid.Format.HtmlBindings,formatOptions:{htmlBindingsTemplate:pt},visible:!0});u&&n.push(u)}})),t.forEach((function(t){if(t.visible){var r=MsPortalFx.find(i,(function(n){return n.id===t.id}));r||n.push(t)}})),n):t.filter((function(n){return n.visible}))})),u.extend({deferred:!0}),t.resourceVisibleColumns.set(f,u)),u}function ot(n,i,r){if(!t.initializedFromSettings)throw new Error("Columns not initialized, call initializeColumns() first");return st(t.resourcePersistedColumns,n,i,r)}function d(n,t,i){return i>1?(n+(t?"|"+t:"")+"."+i.toString()).toLowerCase():(n+(t?"|"+t:"")).toLowerCase()}function st(n,t,i,r){return ht(n,d(t,i,r))}function ht(n,t){var i=n.get(t);return i||(i=ko.observable(),n.set(t,i)),i}var y,w,rt,ut,ft;Object.defineProperty(t,"__esModule",{value:!0});t.getResourceTypeKey=t.getPersistedBrowseColumns=t.getVisibleBrowseColumns=t.getDefaultBrowseColumns=t.setDefaultBrowseColumns=t.initializeColumnsWithSettings=t.initializeColumns=t.getCreateBlade=t.getBrowsePreRequisitesMemoized=t.knownArgTopLevelOperatorsLowerCased=t.getColumnName=t.dateFormatter=t.numberFormatter=t.mapArgResponseToArgBrowseItems=t.areColumnsInitialized=t.canOptIn=t.defaultDateTimeFormat=t.columnIdToArgColumn=t.columnIdToStringMap=t.resourceDefaultColumns=t.resourceVisibleColumns=t.resourcePersistedColumns=t.initializedFromSettings=void 0;var ui=MsPortalFx.Extension.BrowseType,g=MsPortalFx.Extension.ResourceRoutingType,ct=MsPortalFx.tryImmediateResolve,lt=MsPortalFx.Azure,p=MsPortalFx.UnitConversionUtil,at=MsPortalFx.Assets,fi=at.ResourceColumnIds,b=MsPortalFx.Base.Diagnostics.Telemetry,vt=MsPortalFx.Base.Diagnostics.createLog(n),yt=r.memoizePromise((function(){return Q(i.require("FxHubs/MarketplaceRpc"))})),nt=function(n){return new u.PdlBladeReference("GalleryResultsListBlade","Microsoft_Azure_Marketplace",n)},tt=function(n){return new u.PdlBladeReference("GalleryFeaturedMenuItemBlade","Microsoft_Azure_Marketplace",n)},pt='<!-- ko if: value --><div data-bind="pcControl:value"><\/div><!-- /ko -->',wt="tags.",bt=5,it=a.Keys.browseColumnsSettings;t.initializedFromSettings={};t.resourcePersistedColumns=new Map;t.resourceVisibleColumns=new Map;t.resourceDefaultColumns=new Map;t.columnIdToStringMap=(y={},y[1]="name",y[2]="kind",y[3]="resourceGroup",y[4]="location",y[5]="locationId",y[6]="resourceId",y[7]="resourceGroupId",y[8]="resourceType",y[9]="subscription",y[10]="subscriptionId",y[11]="assetType",y[12]="tagsArray",y[13]="edgeZone",y);t.columnIdToArgColumn=(w={},w[6]="id",w[8]="type",w[12]="tags",w[13]="extendedLocation",w);t.defaultDateTimeFormat=FxImpl.Intl.DateTimeFormat.create({year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0});t.canOptIn=kt;t.areColumnsInitialized=dt;t.mapArgResponseToArgBrowseItems=gt;rt=function(n,t){var i;if(typeof n!="number")return n;if(i=n,t.sourceUnits){var u=p.getAppropriateUnit(i,p.Unit[p.Unit[t.sourceUnits]]),r=p.getConversionFactor(p.Unit[p.Unit[t.sourceUnits]],u),f=p.toString(u,!0);return r&&r!==1&&(i=i/r),c.NumberFormat.create({maximumFractionDigits:t.maximumFractionDigits}).format(i)+" "+f}return c.NumberFormat.create({maximumFractionDigits:t.maximumFractionDigits}).format(i)};t.numberFormatter=rt;ut=function(n){var i=Date.parse(n);return isNaN(i)?n:t.defaultDateTimeFormat.format(new Date(i))};t.dateFormatter=ut;ft=function(n){return typeof n=="string"?n:t.columnIdToArgColumn[n]||t.columnIdToStringMap[n]};t.getColumnName=ft;t.knownArgTopLevelOperatorsLowerCased=["count","distinct","extend","join","limit","mvexpand","mv-expand","order","parse","project","project-away","sort","summarize","take","top","union","where",];t.getBrowsePreRequisitesMemoized=i.memoizePromise((function(n){return Q(o.ArtBrowse.getBrowsePrereqsEndpoint.invoke(FxImpl.Rpc.client,"fxw",n))}),{cacheFactory:function(){return new h.MapWithKeyTransform({sourceToInternal:function(n){var t;return(n===null||n===void 0?void 0:n.resourceTypeKey)||((t=n===null||n===void 0?void 0:n.resourceType)===null||t===void 0?void 0:t.toLowerCase())}})}});t.getCreateBlade=ni;t.initializeColumns=ti;t.initializeColumnsWithSettings=et;t.setDefaultBrowseColumns=ii;t.getDefaultBrowseColumns=k;t.getVisibleBrowseColumns=ri;t.getPersistedBrowseColumns=ot;t.getResourceTypeKey=d}));
define("FxHubs/Helpers/PermissionsHelpers",["require","exports"],(function(n,t){function f(){return MsPortalFx.convertArrayToMap(r,(function(n){return(n||"").toLowerCase()}),(function(){return!0}))}function e(n){return MsPortalFx.getFeatureValue("rdfe")==="false"?!1:!n||!n.subscriptionPolicies||!u[(n.subscriptionPolicies.quotaId||"").toLowerCase()]}function o(n){return Q(i.getSubscriptionInfo(n)).then((function(n){return(n.authorizationSource||"").toLowerCase().indexOf("legacy")>=0}))}var i,r,u;Object.defineProperty(t,"__esModule",{value:!0});t.DEV=t.isCoAdminOnSub=t.subscriptionRequiresRdfe=void 0;i=MsPortalFx.Azure;r=MsPortalFx.getEnvironmentValue("armSubscriptionQuotaIds",[]);u=f();t.subscriptionRequiresRdfe=e;t.isCoAdminOnSub=o}));
define("FxHubs/ProvisioningRpc",["require","exports","FxHubs/RpcEndPoints"],(function(n,t,i){function r(n){return!!(n._fx&&n._fx.itemType!==undefined)}function u(n){i.Provisioning.createPostProvisioningContentEndPoint.registerObjectFactory(n,{allowedOrigin:["fx","HubsExtension","Microsoft_Azure_Resources"],allowRemoteChanges:!0,handler:function(n){var t=new FxImpl.TriggerableLifetimeManager;return MsPortalFx.require(n.viewModelLocator.module).then((function(i){var u=i[n.viewModelLocator.export];if(r(u)||(u=new u(null,null,null)._viewModelClass),!u)throw new Error("Unable to locate blade viewmodel based on locator. Locator: ".concat(JSON.stringify(n.viewModelLocator)));return{getContent:function(n){return u.createPostProvisioningContent(t,n)},lifetime:t}}))}})}Object.defineProperty(t,"__esModule",{value:!0});t.provisioningContextEndpoint=t.register=void 0;t.register=u;t.provisioningContextEndpoint=new FxImpl.Rpc.FuncEndPointDefinition("ProvisioningContext")}));
define("FxInternal/Assets/AssetTypes",["require","exports"],(function(n,t){Object.defineProperty(t,"__esModule",{value:!0});t.getAllAssetTypesEndPoint=void 0;t.getAllAssetTypesEndPoint=new FxImpl.Rpc.FuncEndPointDefinition(FxImpl.Constants.RpcMethods.getAllAssetTypes)}));
define("FxInternal/AsyncLoaderCore",["require","exports","FxInternal","FxInternal/Rpc"],(function(n,t,i,r){function u(n,t){return Q(i.tryImmediateResolve(h(n),(function(n){return n[t]})))}function e(n,t){return t}function o(n,t,u){u=u||n.get(r.Client);i.forEachKey(t,(function(t,r){i.forEachKey(r,(function(i,r){r(n,u,t,i)}))}))}function s(n,t){return function(r,f,e,o){return n.register(f,t,(function(n,t){return i.tryImmediateResolve(u(e,o),(function(i){return i({diContainer:r,messageArg:n,messageContext:t})}))})),null}}function h(n){return Q.promise((function(t,i){f.requirejs([n],t,i)}))}Object.defineProperty(t,"__esModule",{value:!0});t.makeRegistration=t.registerRpc=t.defineHandler=t.get=void 0;var f=window;t.get=u;t.defineHandler=e;t.registerRpc=o;t.makeRegistration=s}));
define("FxInternal/AsyncLoader",["require","exports","FxInternal/AsyncLoaderCore"],(function(n,t,i){function r(n,i){return function(){return Q(t.get(n,i))}}function u(n,t){i.registerRpc(n,t,n.get(FxImpl.Rpc.Client))}function f(n,i,r){return function(u,f,e,o){return n.registerObjectFactory(f,{allowedOrigin:i,allowRemoteChanges:r,handler:function(n,i){return MsPortalFx.tryImmediateResolve(t.get(e,o),(function(t){return t({diContainer:u,messageArg:n,messageContext:i})}))}}),null}}Object.defineProperty(t,"__esModule",{value:!0});t.makeProxyRegistration=t.makeRegistration=t.registerRpc=t.defineHandler=t.getFactory=t.get=void 0;t.get=i.get;t.getFactory=r;t.defineHandler=i.defineHandler;t.registerRpc=u;t.makeRegistration=i.makeRegistration;t.makeProxyRegistration=f}));
define("FxInternal/Composition/BladeContainer",["require","exports","FxInternal/Composition/Part"],(function(n,t,i){function e(n,t){var i=t&&t.actionBar;i instanceof u&&n._actionBar(i)}Object.defineProperty(t,"__esModule",{value:!0});t.bindActionBar=t.BladeContainer=void 0;var r=MsPortalFx.ViewModels,u=r.ActionBars.Base.ViewModel,f=(function(n){function t(t,i){var r=n.call(this,t,i)||this;return r._actionBar=ko.observable(),r}return __extends(t,n),t})(i.PartContainer);t.BladeContainer=f;t.bindActionBar=e}));
define("FxInternal/Composition/DashboardFilters",["require","exports","Fx/Composition/DashboardFilters"],(function(n,t,i){var r;return (function(n){function f(n){return!MsPortalFx.isNullOrUndefined(n.granularity)}function e(n,t){return(n&&n.length?n:[0,1]).includes(t)}function o(n){return MsPortalFx.isNullOrUndefined(u[n])?1:u[n]}var r,t,u=(r={},r[i.TimeRangeFilter.filterId]=0,r[i.SubscriptionFilter.filterId]=2,r[i.LocationFilter.filterId]=3,r[i.ResourceGroupFilter.filterId]=5,r[i.ResourceTypeFilter.filterId]=4,r);n.operatorStrings=(t={},t[0]="==",t[1]="!=",t[2]="contains",t[3]="!contains",t[4]="startswith",t[5]="!startswith",t[6]="endswith",t[7]="!endswith",t);n.defaultFilterOperators=[{text:n.operatorStrings[0],value:0},{text:n.operatorStrings[1],value:1},];n.isTimeRangeFilter=f;n.supportsOperator=e;n.getFilterKindFromId=o})(r||(r={})),r}));
define("FxInternal/Composition/TemplateBlade2",["require","exports","Fx/DependencyInjection"],(function(n,t,i){var r;return (function(t){function u(n){return function(t){i.Class("viewModel")(t);var r=t._fx||(t._fx={});r.itemType=12;r.options=n;r.isWeaveBlade=!0}}var r,f,e,o,s,h;t.Decorator=u;r=(function(){function t(){}return __decorate([__metadata("fx:diagnostics",[n,"Container"]),i.Value("viewModel")],t)})();t.Container=r,(function(n){function t(n){return function(t){(t._fx||(t._fx={})).configurableOptions=n||{}}}n.Decorator=t})(f=t.Configurable||(t.Configurable={})),(function(n){function t(){return function(){}}n.Decorator=t})(e=t.ReturnsData||(t.ReturnsData={})),(function(n){function t(){return function(){}}n.Decorator=t})(o=t.Pinnable||(t.Pinnable={})),(function(n){function t(n){return function(t){Reflect.defineMetadata("fx:forContextPane",n,t)}}n.Decorator=t})(s=t.ForContextPane||(t.ForContextPane={})),(function(n){function t(){return function(){}}n.Decorator=t})(h=t.ReplacesOldBlade||(t.ReplacesOldBlade={}))})(r||(r={})),r}));
define("FxInternal/Composition/ViewModel",["require","exports","Fx/DependencyInjection"],(function(n,t,i){function r(n){return n&&n._msPortalFx_viewModelApiV2}function u(n){return n._msPortalFx_viewModelApiV2=!0,n}Object.defineProperty(t,"__esModule",{value:!0});t.PartContext=t.markAsV2=t.isV2=void 0;t.isV2=r;t.markAsV2=u;var f=(function(){function t(){}return __decorate([__metadata("fx:diagnostics",[n,"PartContext"]),i.Value("viewModel")],t)})();t.PartContext=f}));
define("Weave/Core/WeaveUtil",["require","exports"],(function(n,t){function i(){}function r(n,t,i){var r=n.get(t);r?r.push(i):n.set(t,[i])}function u(n,t){var i=n.get(t);return i&&i.pop()}function e(){return this}Object.defineProperty(t,"__esModule",{value:!0});t.returnThis=t.raiseAsyncError=t.tryPopFromMapOfArray=t.addToMapOfArray=t.noop=t.resolvedPromise=void 0;t.resolvedPromise=Promise.resolve();t.noop=i;t.addToMapOfArray=r;t.tryPopFromMapOfArray=u;var f=function(n){t.resolvedPromise.then((function(){throw n;}))};t.raiseAsyncError=f;t.returnThis=e}));
define("Weave/Core/Computation",["require","exports","Weave/Core/WeaveUtil"],(function(n,t,i){function gi(){return{activatedCount:ut,lifetimeCount:a.size,pendingPropagationCount:ft}}function gt(n,t,i){n.splice(i,0,t)}function ni(n,t,i){n.splice.apply(n,__spreadArray([i,0],t||[],!1))}function nr(n,t){n.push(t)}function et(n,t){n.push.apply(n,t||[])}function ti(n,t){var i=n.pop();i!==t&&(n[n.indexOf(t)]=i)}function tr(n){return v.length?ii().then(n):(n(),i.resolvedPromise)}function ii(){return dt}function ot(n){for(var t=n,i=e.length;t<i;t++)e[t].flags&=-257;e.length=n}function ir(){for(var i,u,n,t=0,r=v;t<r.length;t++)n=r[t],n.refCount&&(at(n,f),ot(0));for(v.length=0,i=0,u=rt;i<u.length;i++)n=u[i],tt(n,!1,!1);rt.length=0;y();y=undefined}function rr(n){y=n}function st(){y||(dt=new Promise(rr),i.resolvedPromise.then(ir))}function ri(n){n.flags&2&&(ft--,n.flags&=-3)}function u(n){var t,i,r;if(n.flags&256)throw new Error("Cannot modify a dependency of a graph evaluation.");if(~n.flags&2&&n.refCount){if(n.flags|=2,ft++,n.dependents)for(t=0,i=n.dependents;t<i.length;t++)r=i[t],u(r);n.fn&&(n.flags&=-2);n.flags&16&&(v.push(n),st())}}function ht(n,t){return n!==t||Array.isArray(t)}function ct(n,t,i){return t>=n.length||ht(n[t],i)}function ui(n){var t=n.args,o=n.argsChangeIndex,u=0,r,e;t&&n.flags&128&&(t.length=0);n.flags|=128;for(var i=0,s=n.dependencies,h=s.length;i<h;i++)r=s[i],e=f(r),t&&(r.flags&4?o-=ct(t,i,e)?1:0:u+=r.changeIndex,t[i]=e);return n.flags&=-129,n.argsChangeIndex=u,o!==u}function lt(n){return!!(n.flags&32)}function f(n){var o=n.flags,h,s,t,i,u;if(ri(n),~o&1){if(o&256)throw new Error("Cyclic computation graph detected.");n.flags|=256;e.push(n);h=n.dependencies&&ui(n);s=o&64;n.flags|=128;t=n.value;lt(n)?t=n.fn(0):(i=n.valueComp,h&&(t=n.fn.apply(undefined,n.args),u=r.get(t),i!==u&&(wt(n,i,u),n.valueComp=i=u)),i&&(t=f(i)));(s&&t||!s&&ht(n.value,t))&&(n.value=t,n.changeIndex++);n.flags=n.flags&-129|1}return n.value}function at(n,t){try{return t(n),!0}catch(i){n.errorHandler(i)}}function ur(n){var i=fi(n,4),t=function(n){ht(i.value,n)&&(u(i),i.changeIndex++,t.value=i.value=n)};return t.compose=eu,t.composeArray=ou,t.state=i,t.value=n,r.set(t,i),t}function fi(n,t){var i=c(undefined,undefined,undefined,t|1);return i.value=n,i}function o(n){return fi(n,8)}function ei(n){switch(n){case undefined:return fr;case!1:return er;case!0:return or;case null:return sr;case"":return hr;default:return o(n)}}function s(n){return r.get(n)||ei(n)}function c(n,t,i,u){if(n&&!t)throw new TypeError("fn parameter is required.");var f={activate:ru,args:u&32||!n?undefined:[],argsChangeIndex:0,changeIndex:1,compose:uu,composeArray:fu,dependencies:n,dependents:u&24?undefined:[],errorHandler:i,flags:u,fn:t,refCount:0,value:undefined,valueComp:undefined};return r.set(f,f),f}function p(n,t,i){return c(n,i,undefined,t|32)}function cr(n,t){t.hasValue=n&&!!n.length;t.value?t.value.length=0:t.value=[];t.hasValue&&et(t.value,n)}function oi(n,t){t.hasValue=!!n;t.value=t.source}function si(n,t){t.hasValue=!0;t.value=n}function lr(n,t,i){si(kr(i,n),t)}function ar(){return!0}function vr(){return!1}function yr(n,t){return t}function h(n,t,i){for(var f,r=0,u=i;r<u.length;r++)f=u[r],f.adjustValueRefCount(n,t)}function hi(n,t,i,r){if(r.length)for(var u=n,f=t.length;u<f;u++)h(t[u],i,r)}function b(n,t,i){hi(0,n,t,i)}function k(n,t,i){return ct(t,n,i)?(t[n]=i,-1):1}function pr(n,t,i){for(var u=i.length,f=1,r=0;r<u;r++)k(n+r,t,i[r])<0&&(f=-1);return u*f}function d(n,t,r,u,f){var o=new w(undefined,n,t,i.noop,oi),e=p([n.state],0,(function(t){var s,c;if(t===0){o.prune(e);for(var i=0,h=n.array,l=h.length;i<l;i++)if(s=h[i],c=o.evaluate(s,e),r===c.hasValue)return u(s,i)}else o.adjustRefCount(t,e);return f}));return e}function ci(n,t,i,r){for(var e,o=!1,f=n?n.length:0,u=0;u<f;u++)e=i(n[u]),ct(t,u,e)&&(u<t.length&&h(t[u],-1,r),t[u]=e,h(e,1,r),o=!0);return t.length>f&&(hi(f,t,-1,r),t.length=f,o=!0),o?t:undefined}function vt(n,t,i,r,u){var o=[],f=new w(o,n,t,i,r),e=new g(o,n.state,function(t){var h=e.state,i=e.array,o,r,l,s;if(t===0){f.prune(h);o=!1;r=0;for(var c=0,a=n.array,v=a.length;c<v;c++)l=f.evaluate(a[c],h),l.hasValue&&(s=u(r,i,l.value),s<0&&(s*=-1,o=!0),r+=s);return r!==i.length&&(o=!0,i.length=r),o?i:undefined}return f.adjustRefCount(t,h),i.length=0,i});return e}function li(n,t,i){var r=n.state,f;u(r);f=n.value.splice(t,i);r.refCount&&n.adjustRefsForValues(f,-1,n.dependents)}function yt(n,t,i,r){var e=n.state,f;u(e);f=n.mapInput(i);r(n.value,f,t);e.refCount&&n.adjustRefsForValue(f,1,n.dependents)}function pt(n,t,i,r){var f,e;i&&(f=n.state,u(f),e=i.map(n.mapInput),r(n.value,e,t),f.refCount&&n.adjustRefsForValues(e,1,n.dependents))}function kr(n,t){var i=n.get(t);return i||n.set(t,i={array:[],index:0}),i}function dr(n){return new br(n?n.map(s):[])}function gr(n,t,i){var e=[],r,u,o,f;for(i=i|8,r=0,u=n;r<u.length;r++)o=u[r],f=s(o),i&=f.flags&8,e.push(f);return c(e,t,undefined,i)}function nu(n){return r.has(n)}function wt(n,t,i){i&&nt(n,i);t&&l(n,t)}function pi(n,t,i){i>0?nt(n,t):l(n,t)}function nt(n,t){t.dependents&&(t.dependents.push(n),bt(t))}function wi(n,t){for(var u,i=0,r=t;i<r.length;i++)u=r[i],nt(n,u)}function bt(n){n.refCount++==0&&(ut++,n.dependencies&&wi(n,n.dependencies),lt(n)&&(n.value=n.fn(1)))}function l(n,t){kt(n,t,!0)}function kt(n,t,i){var r=t.dependents;r&&(ti(r,n),tt(t,i,!1))}function bi(n,t,i){for(var f,r=0,u=t;r<u.length;r++)f=u[r],kt(n,f,i)}function tt(n,t,i){t?(rt.push(n),st()):--n.refCount==0&&(ut--,ri(n),n.fn&&(lt(n)&&n.fn(-1),n.valueComp&&(kt(n,n.valueComp,i),n.valueComp=undefined),n.value=undefined,n.flags&=-258,n.dependencies&&(n.args&&(n.args.length=0,n.argsChangeIndex=0),bi(n,n.dependencies,i))))}function tu(n){tt(n,!(n.flags&16),!0)}function ki(n,t){var i=a.get(n),r;i||(a.set(n,i=new Set),n.registerForDispose((function(){i.forEach(tu);st();a.delete(n)})));r=i.size;i.add(t);i.size>r&&bt(t)}function di(n,t,r,u,e){var o=c(t,r,u||i.raiseAsyncError,16);ki(n,o);e?at(o,f):at(o,ui)&&(o.flags|=1)}function iu(n,t,i,r){return t&&!t.isDisposed()&&~n.flags&8&&(n.fn||r)?r?di(t,[n],r,undefined,!1):(ki(t,n),f(n)):~n.flags&1&&(~n.flags&8&&!n.refCount&&(bt(n),tt(n,!0,!1)),f(n)),r&&i>=0&&i<n.changeIndex&&r(n.value),n.value}function ru(n,t,i){var r=e.length;try{return iu(this,n,t,i)}finally{ot(r)}}function uu(n){return c([this],n,undefined,this.flags&8)}function fu(n){var u=this,t,i=new g([],this,function(e){var s=i.array,h,o;return e===0?(h=n(u.value),o=r.get(h),t!==o&&(wt(i.state,t,o),t=o),o&&(h=f(o)),ci(h,s,it,i.dependents)):(b(s,e,i.dependents),s.length=0,t&&e<0&&(l(i.state,t),t=undefined),s)});return i}function eu(n){return this.state.compose(n)}function ou(n){return this.state.composeArray(n)}function su(n,t,i,r,u){var f=e.length;di(n,t.map(s),i,r,u);ot(f)}function hu(n){return r.get(n).activate()}function cu(n){return r.get(n)}function lu(n){return new wr(n)}function au(n){return new yi(n)}function it(n){return n}var w,g,vi,yi;Object.defineProperty(t,"__esModule",{value:!0});t._identity=t._makeIndirectComputation=t._makeArrayComputation=t._makeWritableComputation=t._makeConstantComputation=t._ensureComputationState=t.resolveComputation=t.pokeComputation=t._composeSubscription=t._isComputation=t._composeComputation=t._makeLiftedArrayComputation=t._waitForChangePropagation=t.invokeAfterChangePropagation=t.getDebugInfo=void 0;var r=new WeakMap,a=new Map,v=[],rt=[],e=[],ut=0,ft=0,dt=i.resolvedPromise,y=undefined;t.getDebugInfo=gi;t.invokeAfterChangePropagation=tr;t._waitForChangePropagation=ii;var fr=o(undefined),er=o(!1),or=o(!0),sr=o(null),hr=o("");w=(function(){function n(n,t,i,r,u){this._context=n;this._arrayDependency=t;this._projectionFn=i;this._adjustRefsForValueFn=r;this._metadataValueFn=u;this._deletionList=[];this._projectionMap=new Map}return n.prototype.prune=function(n){for(var t,r,i=0,u=this._deletionList,f=u.length;i<f;i++)t=u[i],t.refCount?t.flags&=-3:(t.hasValue&&this._adjustRefsForValueFn(t.value,-1,this._context),r=t.computation,r&&l(n,r),this._projectionMap.delete(t.source));this._deletionList.length=0},n.prototype.evaluate=function(n,t){var i=this._projectionMap.get(n),s,h,c,e,u,o;return~i.flags&1&&(i.flags|=1,c=this._projectionFn(n),e=r.get(c),e?(i.computation=e,nt(t,e)):s=c,h=!0),u=i.computation,u&&(s=f(u),i.changeIndex!==u.changeIndex&&(i.changeIndex=u.changeIndex,h=!0)),h&&(o=this._context,i.hasValue&&this._adjustRefsForValueFn(i.value,-1,o),this._metadataValueFn(s,i,o),i.hasValue&&this._adjustRefsForValueFn(i.value,1,o)),i},n.prototype.adjustRefCount=function(n,t){var i=this._arrayDependency;if(n>0){i.dependents.push(this);for(var r=0,u=i.array,f=u.length;r<f;r++)this.adjustValueRefCount(u[r],1)}else ti(i.dependents,this),this._projectionMap.forEach((function(n){n.computation&&l(t,n.computation)})),this._deletionList.length=0,this._projectionMap.clear()},n.prototype.adjustValueRefCount=function(n,t){var i=this._projectionMap.get(n);i||this._projectionMap.set(n,i={changeIndex:0,computation:undefined,flags:0,hasValue:!1,refCount:0,source:n,value:undefined});i.refCount+=t;!i.refCount&&~i.flags&2&&(i.flags|=2,this._deletionList.push(i))},n})();g=(function(){function n(n,t,i){this.dependents=n;this.array=[];this.state=p(t&&[t],64,i);r.set(this,this.state)}return n.prototype.compose=function(n){return this.state.compose(n)},n.prototype.composeArray=function(n){return this.state.composeArray(n)},n.prototype.cEvery=function(n){return d(this,n,!1,vr,!0)},n.prototype.cFlatMap=function(n){return vt(this,n,b,cr,pr)},n.prototype.cFilter=function(n){return vt(this,n,h,oi,k)},n.prototype.cFind=function(n){return d(this,n,!0,it,undefined)},n.prototype.cFindIndex=function(n){return d(this,n,!0,yr,-1)},n.prototype.cGroupBy=function(n){return new vi(this,n)},n.prototype.cMap=function(n){return vt(this,n,h,si,k)},n.prototype.cSome=function(n){return d(this,n,!0,ar,!1)},n})();var ai=(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.clear=function(){var n=this.state;n.refCount&&(u(n),this.adjustRefsForValues(this.value,-1,this.dependents));this.value.length=0},t.prototype.insert=function(n,t){this._validate(n,1,"index");yt(this,n,t,gt)},t.prototype.insertAll=function(n,t){this._validate(n,1,"index");pt(this,n,t,ni)},t.prototype.pop=function(){var t=this.value,n,i;t.length&&(n=this.state,u(n),i=t.pop(),n.refCount&&this.adjustRefsForValue(i,-1,this.dependents))},t.prototype.push=function(n){yt(this,0,n,nr)},t.prototype.pushAll=function(n){pt(this,0,n,et)},t.prototype.removeAt=function(n){this.splice(n,1)},t.prototype.reverse=function(){u(this.state);this.value.reverse()},t.prototype.set=function(n,t){this._validate(n,1,"index");var r=this.state,i=this.value,f=this.mapInput(t);r.refCount&&(u(r),n<i.length&&this.adjustRefsForValue(i[n],-1,this.dependents),this.adjustRefsForValue(f,1,this.dependents));i[n]=f},t.prototype.setAll=function(n){this.clear();this.pushAll(n)},t.prototype.shift=function(){this.value.length&&li(this,0,1)},t.prototype.splice=function(n,t){this._validate(n,0,"index");this._validate(n+t,1,"deleteCount");li(this,n,t)},t.prototype.unshift=function(n){yt(this,0,n,gt)},t.prototype.unshiftAll=function(n){pt(this,0,n,ni)},t.prototype._validate=function(n,t,i){if(n<0||n>=this.value.length+t)throw new RangeError("The value ".concat(n," for the ").concat(i," argument is out of range. The array length is ").concat(this.value.length,"."));},t})(g),wr=(function(n){function t(t){var i=n.call(this,[],undefined,(function(n){return n!==0&&b(i.value,n,i.dependents),i.value}))||this;return i.adjustRefsForValue=h,i.adjustRefsForValues=b,i.mapInput=it,i.value=i.array,et(i.value,t),i}return __extends(t,n),t.prototype.remove=function(n){for(var i=this.value,t=0;t<i.length;t++)if(i[t]===n){this.removeAt(t);break}},t.prototype.removeAll=function(n){this.removeIf((function(t){return n.indexOf(t)>=0}))},t.prototype.removeIf=function(n){for(var i=this.value,t=i.length-1;t>=0;t--)n(i[t])&&this.removeAt(t)},t.prototype.sort=function(n){u(this.state);this.value.sort(n)},t})(ai),br=(function(n){function t(t){var i=n.call(this,[],undefined,(function(n){return n===0?ci(i.value,i.array,f,i.dependents):(i.adjustRefsForValues(i.value,n),i.array.length=0,i.array)}))||this;return i.value=t,i.mapInput=s,i}return __extends(t,n),t.prototype.adjustRefsForValue=function(n,t){pi(this.state,n,t)},t.prototype.adjustRefsForValues=function(n,t){n&&(t>0?wi(this.state,n):bi(this.state,n,!0))},t})(ai);vi=(function(){function n(n,t){var u=this;this._metadata=new Map;this._value=new Map;this._projectionEngine=new w(this._metadata,n,t,i.noop,lr);this._state=p([n.state],64,(function(t){var e=u._state,o=u._projectionEngine,s,i,r,c,h,f;if(t===0){for(o.prune(e),s=n.array,i=!1,r=0,c=s.length;r<c;r++)h=s[r],f=o.evaluate(h,e).value,k(f.index,f.array,h)<0&&(i=!0),f.index++;return u._metadata.forEach((function(n,t,r){var f=n.array;f.length>n.index&&(f.length=n.index,i=!0);n.index=0;f.length?u._value.set(t,f):(u._value.delete(t),r.delete(t))})),i?u._value:undefined}o.adjustRefCount(t,e);u._metadata.clear();u._value.clear()}));r.set(this,this._state)}return n.prototype.compose=function(n){return this._state.compose(n)},n.prototype.composeArray=function(n){return this._state.composeArray(n)},n.prototype.get=function(n){return this.composeArray((function(t){return t.get(n)}))},n})();t._makeLiftedArrayComputation=dr;yi=(function(){function n(n){var t=this;this.state=p(undefined,0,(function(n){if(t._target){if(n===0)return f(t._target);pi(t.state,t._target,n)}}));this._target=s(n);r.set(this,this.state)}return n.prototype.compose=function(n){return this.state.compose(n)},n.prototype.composeArray=function(n){return this.state.composeArray(n)},n.prototype.reseat=function(n){var t=r.get(n),i=this.state;i.refCount&&this._target!==t&&((!t||~t.flags&1||i.flags&1&&i.value!==t.value)&&u(i),wt(i,this._target,t));this._target=t},n})();t._composeComputation=gr;t._isComputation=nu;t._composeSubscription=su;t.pokeComputation=hu;t.resolveComputation=cu;t._ensureComputationState=s;t._makeConstantComputation=ei;t._makeWritableComputation=ur;t._makeArrayComputation=lu;t._makeIndirectComputation=au;t._identity=it}));
define("Weave/Core/InternalUtil",["require","exports","Weave/Core/Computation"],(function(n,t,i){function w(n){r=n}function s(n,t){if(!t)throw new Error("Unexpected '".concat(n,"' in switch statement."));}function e(n){switch(n){case"if":return 5;case"forEach":return 8;case"forEachItem":return 2;case"computation":return 5;case"once":return 7;case"external":return 1;default:s(n)}}function b(n,t){var r=e(n),i=t,u;return r&2&&(i=t.createChildNode()),r&1&&(u=i.createChildNode()),{contentLtm:u,selfLtm:i}}function k(n,t,r,u){var f=i.resolveComputation(r);f?f.activate(n.getElementNodeLtm(t),0,u):u(r)}function o(n){return n!==null&&n!==undefined}function d(n){return function(t,i){o(i)&&t.addBinding({handler:n,value:i})}}function g(n){return function(t,i){o(i)&&t.addDeferredBinding({handler:n,value:i})}}function nt(n){return function(t,i,r){t.addEventListener(i,{eventName:n,eventHandler:r})}}function tt(n,t,i,r){var u,f,o,s,e;for(r===void 0&&(r=!0),u=new Map,f=0,o=n;f<o.length;f++){if(s=o[f],e=t(s),r&&u.has(e))throw new Error("The key '".concat(e,"' already exists."));u.set(e,i(s))}return u}function it(n,t){if(!(e(n)&t))throw new Error("Node '".concat(n,"' does not support '").concat(t,"'."));}function rt(n){return/^[\w\s.\-#]*$/.test(n)?n:(n||"").replace(ut,st)}function st(n,t,i){var r=n.charCodeAt(0);return c[n]||(c[n]="&#"+(t?0:i?(r-ft)*1024+n.charCodeAt(1)-et+ot:r)+";")}function ht(n,t){var r={};for(var i in t)t[i]&&(r[i]=n[i].aggregate(t[i]));return r}function l(n,t){for(var r,u={},i=0,f=n;i<f.length;i++)r=f[i],u[r]=t(r);return u}function ct(n){return l(n,(function(){return[]}))}function lt(n,t){switch(t){case"keydown":case"keypress":case"keyup":var i=n;return{alt:i.altKey,ctrl:i.ctrlKey,keyCode:i.keyCode,shift:i.shiftKey};default:return{}}}function at(n,t){var i=u.get(n);if(i){if(i!==t)throw new Error("Cannot bind ElementRef for ".concat(n.locatorClass," because it is already bound to another Weave fragment."));}else u.set(n,t)}function vt(n){return u.get(n)}function yt(){return y++}function pt(){return"_weave_e_"+p++}function wt(n,i){var r=n&&n.children,u,f,o,e;if(r){if(t.isReadonlyArray(r)){for(u=[],f=0,o=r.length;f<o;f++)e=r[f],t.isReadonlyArray(e)?u.push.apply(u,e):u.push(e);return u}return[r]}return i}var f,r,h,a,v,u,y,p;Object.defineProperty(t,"__esModule",{value:!0});t.isReadonlyArray=t.pickChildren=t.getUniqueElementId=t.getUniqueDynamicNodeId=t.getRenderAgent=t.assignRenderAgent=t.getEventData=t.AggregationRelay=t.Aggregator=t.buildMapOfArray=t.arrayToMap=t.aggregateResults=t.encodeHtml=t.ensureDynamicNodeOperation=t.WeaveTsx=t.makeMap=t.makeEventHandler=t.generateDeferredBindOnlyAttributeHandler=t.generateBindOnlyAttributeHandler=t.isNotNullNorUndefined=t.activateAndRun=t.createDynamicNodeLtms=t.getDynamicNodeOperations=t.assertSwitchNever=t.setTsxInterceptor=void 0;f=[];Object.freeze(f);r=undefined;t.setTsxInterceptor=w;t.assertSwitchNever=s;t.getDynamicNodeOperations=e;t.createDynamicNodeLtms=b;t.activateAndRun=k;t.isNotNullNorUndefined=o;t.generateBindOnlyAttributeHandler=d;t.generateDeferredBindOnlyAttributeHandler=g;t.makeEventHandler=nt;t.makeMap=tt;h=function(n,t){var i=f,h=arguments.length,e,u,o,c,s;if(h>2)for(i=[],e=2;e<h;++e)if(u=arguments[e],Array.isArray(u))for(o=0,c=u.length;o<c;o++)i.push(u[o]);else i.push(u);return typeof n=="function"?(s=n(t,i),r?r(s,n,t,i):s):{type:"native",tag:n,attributes:t,children:i}};t.WeaveTsx=h;t.ensureDynamicNodeOperation=it;t.encodeHtml=rt;var ut=/[`><"'&\t\n\r\xa0-\xff]|([\x00-\x1f\x7f\x80-\x9f])|([\ud800-\udbff][\udc00-\udfff])/g,c={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&#34;","`":"&#96;"},ft=55296,et=56320,ot=65536;t.aggregateResults=ht;t.arrayToMap=l;t.buildMapOfArray=ct;a=(function(){function n(n,t){this._aggregateFn=n;this.identityElement=t;this.identityElementComp=i._makeConstantComputation(t)}return n.prototype.aggregate=function(n){return this._aggregateFn(n)},n})();t.Aggregator=a;v=(function(){function n(n,t){var f,e,r,o,u;for(this.aggregators=n,f=Object.keys(t).filter((function(n){return t[n]})),e={},r=0,o=f;r<o.length;r++)u=o[r],t[u].push(e[u]=i._makeIndirectComputation(n[u].identityElementComp));this._aggrRelayMap=e;this.relayedKeys=f}return n.prototype.stop=function(){for(var i,n=0,t=this.relayedKeys;n<t.length;n++)i=t[n],this._aggrRelayMap[i].reseat(this.aggregators[i].identityElementComp)},n.prototype.relay=function(n){for(var r,t=0,i=this.relayedKeys;t<i.length;t++)r=i[t],this._aggrRelayMap[r].reseat(n[r])},n})();t.AggregationRelay=v;t.getEventData=lt;u=new WeakMap;t.assignRenderAgent=at;t.getRenderAgent=vt;y=0;t.getUniqueDynamicNodeId=yt;p=0;t.getUniqueElementId=pt;t.pickChildren=wt;t.isReadonlyArray=Array.isArray}));
define("Weave",["require","exports","Weave/Core/Computation","Weave/Core/WeaveUtil","Weave/Core/InternalUtil"],(function(n,t,i,r,u){function nt(n,t){return i._composeComputation(n,t)}function tt(n,t,r,u){i._composeSubscription(n,t,r,u,!1)}function it(n,t,r,u){i._composeSubscription(n,t,r,u,!0)}function l(n,t){return{type:"setcontext",children:u.pickChildren(n,t),props:n}}function g(n,t,i){if(t){var r=null;return n.compose((function(n){return(i?!n:n)?r||(r={condition:!0,weaveNode:t()}):d}))}}function rt(n){return n.content}var f,e,o,s,h,c,a,v,y,p,w,b,k,d;Object.defineProperty(t,"__esModule",{value:!0});t.ElementRef=t.Css=t.Aggregatable=t.Aggregated=t.PromiseFragment=t.LifetimeManagerScoped=t.SetContext=t.GetContext=t.Once=t.ForEach=t.If=t.Fragment=t.evaluate=t.subscribeAndRun=t.subscribe=t.composeComputation=t.waitForChangePropagation=t.makeIndirectComputation=t.makeLiftedArrayComputation=t.makeArrayComputation=t.makeWritableComputation=t.makeConstantComputation=t.ensureComputation=t.isComputation=void 0;t.isComputation=i._isComputation;t.ensureComputation=i._ensureComputationState;t.makeConstantComputation=i._makeConstantComputation;t.makeWritableComputation=i._makeWritableComputation;t.makeArrayComputation=i._makeArrayComputation;t.makeLiftedArrayComputation=i._makeLiftedArrayComputation;t.makeIndirectComputation=i._makeIndirectComputation;t.waitForChangePropagation=i._waitForChangePropagation;t.composeComputation=nt;t.subscribe=tt;t.subscribeAndRun=it;f=function(n,t){if(!n)throw new Error("ltm is required.");var r=i.resolveComputation(t);return r?r.activate(n):t};t.evaluate=f;e=function(n,t){return{type:"fragment",children:u.pickChildren(n,t)}};t.Fragment=e;o=function(n){if(u.isNotNullNorUndefined(n.condition)){var t=i.resolveComputation(n.condition);return{type:"if",concealmentBehavior:n.concealmentBehavior||"hide",trueCase:g(t,"trueFn"in n&&n.trueFn,!1),falseCase:g(t,"falseFn"in n&&n.falseFn,!0)}}return"falseFn"in n&&n.falseFn?n.falseFn():null};t.If=o;s=function(n){var e=n.fn,f=t.makeWritableComputation(0),u=new Map;return{type:"forEach",contentList:i.resolveComputation(n.collection).compose((function(n){var s,o,a,h,c,v,i;for(n=n||[],s=n.length,f(s),o=[],i=0;i<s;++i)a=n[i],h=r.tryPopFromMapOfArray(u,a),h?(h.indexComp(i),o.push(h)):(c=t.makeWritableComputation(i),v=l({indexInLoop:c},[e({item:a,index:c,length:f}),]),o.push({indexComp:c,content:v}));for(u.clear(),i=s-1;i>=0;--i)r.addToMapOfArray(u,n[i],o[i]);return o.map(rt)}))}};t.ForEach=s;h=function(n){if(u.isNotNullNorUndefined(n.condition)){var t=null,r=null;return{type:"once","data-odebug":n["data-odebug"],content:i.resolveComputation(n.condition).compose((function(i){return i?t||(t={condition:!0,weaveNode:"trueFn"in n&&n.trueFn?n.trueFn():null}):r||(r={condition:!1,weaveNode:"falseFn"in n&&n.falseFn?n.falseFn():null})}))}}return"falseFn"in n&&n.falseFn?n.falseFn():null};t.Once=h;c=function(n){return{type:"getcontext",props:n}};t.GetContext=c;t.SetContext=l;a=function(n){return{type:"ltmscoped",fn:n.fn}};t.LifetimeManagerScoped=a;v=function(n){var u=n.promise,r=n.whilePending,i,f;if(u)return i=t.makeWritableComputation(!1),u.then((function(n){f=n;i(!0)}),(function(n){i(!0);throw n;})),t.Once({condition:i,"data-odebug":n["data-odebug"],trueFn:function(){return f},falseFn:r!==null&&r!==undefined?function(){return r}:null})};t.PromiseFragment=v;y=function(n,t){return{type:"aggr",children:u.pickChildren(n,t),resultsReceivers:n}};t.Aggregated=y;p=function(n,t){return{type:"aggrsrc",children:u.pickChildren(n,t),sources:n}};t.Aggregatable=p;w=function(n){return{type:"css",css:n.css}};t.Css=w;b=(function(){function n(){this.locatorClass="_wv_elemref_".concat(k++)}return n.prototype.focus=function(n){var t=this;i.invokeAfterChangePropagation((function(){var i=u.getRenderAgent(t);i&&i.focus(t.locatorClass,n|0)}))},n})();t.ElementRef=b;k=0;d={condition:!1,weaveNode:undefined}}));
define("FxInternal/Weave",["require","exports","Weave","Weave/Core/Computation"],(function(n,t,i,r){function f(n,t){var f,r;return n?(f=u.get(n),f?f:(r=i.makeWritableComputation(n.peek()),n.subscribe(r),u.set(n,r),r)):t}function e(n,t){return n!==null&&n!==undefined?ko.isObservable(n)?f(n):n:t}function o(n,t){if(t){var i=ko.observable();return r.resolveComputation(t).activate(n,0,i),i}}Object.defineProperty(t,"__esModule",{value:!0});t.toObservable=t.toValueOrComputation=t.toComputation=void 0;var u=new WeakMap;t.toComputation=f;t.toValueOrComputation=e;t.toObservable=o}));
define("FxInternal/Weave/Util",["require","exports","Weave/Core/Computation","Weave","FxInternal","FxInternal/Weave","FxInternal/Weave"],(function(n,t,i,r,u,f,e){function h(n){return r.makeLiftedArrayComputation(n).cSome(u.identity)}function c(n,t){return r.composeComputation([t,r.makeLiftedArrayComputation(n)],(function(n,t){return n?-1:t.some((function(n){return n<0}))?-1:0}))}function l(n,t){var r=i.resolveComputation(t);return r?f.toObservable(n,r):t}function a(n,t){return r.isComputation(n)?n.compose(t):t(n)}function v(n,t){return n===t}function y(n,t){return n!==t}function p(n){return!n}function w(n,t){return!!(n||t)}function b(n,t){return!!(n&&t)}function k(n){return n+1}function d(n){return n.every(u.identity)}function o(n){return!(n&&n.length)}function g(n){return typeof n=="string"&&n.trim().length>0}function nt(n){return!o(n)}function tt(n){return typeof n=="object"&&n&&!n.hasOwnProperty("type")&&n.hasOwnProperty("weaveNode")}function s(n){return!!n}function it(n,t,i){return i=i||s,new Promise(function(u,f){var e=n.createChildLifetime();r.subscribeAndRun(e,[t],(function(n){i(n)&&(e.dispose(),u(n))}),(function(n){e.dispose();f(n)}))})}Object.defineProperty(t,"__esModule",{value:!0});t.hasValueAsync=t.isTruthy=t.isWeaveNodeWithParentRenderInfo=t.isNonEmptyArray=t.isNonEmptyString=t.isEmptyArray=t.arrayEvery=t.plus1=t.and=t.or=t.negation=t.notEquals=t.equals=t.mapValueOrComputation=t.emptyStringComputation=t.trueComputation=t.falseComputation=t.valueOrComputationToValueOrObservable=t.aggregateTabindex=t.aggregateDisabled=t.toValueOrComputation=t.toComputation=void 0;Object.defineProperty(t,"toComputation",{enumerable:!0,get:function(){return e.toComputation}});Object.defineProperty(t,"toValueOrComputation",{enumerable:!0,get:function(){return e.toValueOrComputation}});t.aggregateDisabled=h;t.aggregateTabindex=c;t.valueOrComputationToValueOrObservable=l;t.falseComputation=r.makeConstantComputation(!1);t.trueComputation=r.makeConstantComputation(!0);t.emptyStringComputation=r.makeConstantComputation("");t.mapValueOrComputation=a;t.equals=v;t.notEquals=y;t.negation=p;t.or=w;t.and=b;t.plus1=k;t.arrayEvery=d;t.isEmptyArray=o;t.isNonEmptyString=g;t.isNonEmptyArray=nt;t.isWeaveNodeWithParentRenderInfo=tt;t.isTruthy=s;t.hasValueAsync=it}));
define("FxInternal/Weave/Aggregators",["require","exports","Weave","FxInternal/Weave/Util","Weave/Core/InternalUtil","FxInternal"],(function(n,t,i,r,u,f){function o(){return h}function l(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return function(){return Promise.all(t.map(a)).then(r.arrayEvery)}}function a(n){return n()}var s;Object.defineProperty(t,"__esModule",{value:!0});t.aggregators=void 0;var h=Promise.resolve(!0),e=new u.Aggregator(function(n){return n.length?i.makeLiftedArrayComputation(n).cSome(f.identity):r.falseComputation},!1),c=new u.Aggregator(function(n){return n.length?i.makeLiftedArrayComputation(n).cEvery(f.identity):r.trueComputation},!0);t.aggregators={dirty:e,required:e,valid:c,validator:new u.Aggregator(function(n){return n.length?i.composeComputation(n,l):s},o)};s=i.makeConstantComputation(o)}));
define("FxInternal/Weave/SandboxRender",["require","exports","FxInternal/Weave/Util","FxInternal/Weave/Aggregators","Weave/Core/Computation","FxInternal/Weave","Weave/Core/InternalUtil"],(function(n,t,i,r,u,f,e){function v(n,t,i,f){function o(n,i){i&&i.proxiedObjectMetadataList.length>0?(t.transferObjects(n,i.proxiedObjectMetadataList.map(p)),w(t,i.proxiedObjectMetadataList)):t.transferObjects(n,undefined)}function y(n,t){MsPortalFx.isNullOrUndefined(t)||n.addBinding({handler:g,value:t})}function g(n,t,i){var r=u.resolveComputation(i);r?r.activate(n.getElementNodeLtm(t),0,(function(n){c(t,n)})):c(t,i)}function c(n,t){o({type:"fxSetImage",elementNodeId:n,value:t})}function rt(n){var t=v++;return o({type:"fxRequestConfirm",elementNodeId:undefined,value:{content:n,replyId:t}}),new Promise(function(n){e.set(t,n)})}function ut(n){var t=n.value,i=e.get(t.replyId);if(i)e.delete(t.replyId),i(t.reply);else throw new Error("pending confirmation not found for replyId: ".concat(t.replyId));}var e=new Map,v=0,h=new n({aggregators:r.aggregators,customAttributeHandlers:[{name:"fxclick",handler:b},{name:"image",handler:y},{name:"onResize",handler:l},{name:"pcControl",handler:k},{name:"domAgent",handler:d},{name:"onClick",handler:a},{name:"onKeyUp",handler:tt},{name:"onKeyDown",handler:nt},{name:"onKeyPress",handler:it},],customEventDataProvider:function(){return{requestConfirm:rt}},customNotificationHandlers:[{name:"fxAnswerConfirm",handler:ut},],hooks:{instruction:{createNewState:function(){return{proxiedObjectMetadataList:[],proxiedDataIndexesMap:new WeakMap}},postProcessNode:s,sendInstruction:o},registerOnReceive:function(n){return t.onMessage(n)}},weaveNode:i,weaveContext:f});return h.renderRoot(),h}function y(n,t,i){n.addEventListener(t,{eventName:"fxResize",eventHandler:i})}function p(n){return n.object}function w(n,t){for(var u,f=function(t){t.ltm.registerForDispose((function(){return n.releaseObject(t.object)}))},i=0,r=t;i<r.length;i++)u=r[i],f(u)}function b(n,t,r,u){var s,e;MsPortalFx.isNullOrUndefined(t)||(s=o(n.node,u),s.push(u.proxiedObjectMetadataList.length),e=n.ltm.innerLtmRoot,u.proxiedObjectMetadataList.push({ltm:e,object:{type:"fxclick",data:{data:i.valueOrComputationToValueOrObservable(e,t),disabled:f.toObservable(e,r.disabled),tabIndex:f.toObservable(e,r.tabIndex),partName:r.partName,extensionName:r.extensionName}}}))}function o(n,t){var r=t.proxiedDataIndexesMap.get(n),i;return r?r:(i=[],t.proxiedDataIndexesMap.set(n,i),i)}function s(n,t){return n.type==="element"?{type:"element",tagName:n.tagName,attributes:n.attributes,children:n.children.map((function(n){return s(n,t)})),proxiedDataIndexes:t.proxiedDataIndexesMap.get(n)}:n.type==="dynamic"?{type:"dynamic",nodeId:n.nodeId,dynamicNodeType:n.dynamicNodeType,children:n.children.map((function(n){return s(n,t)}))}:n}function k(n,t,i,r){var e,u;MsPortalFx.isNullOrUndefined(t)||(e=o(n.node,r),e.push(r.proxiedObjectMetadataList.length),u=n.ltm.innerLtmRoot,r.proxiedObjectMetadataList.push({ltm:u,object:{type:"pcControl",data:{vm:t,disabled:f.toObservable(u,i.disabled),tabIndex:f.toObservable(u,i.tabIndex),partName:i.partName,extensionName:i.extensionName}}}))}function d(n,t,i,r){if(t&&t.type){var u=o(n.node,r);u.push(r.proxiedObjectMetadataList.length);r.proxiedObjectMetadataList.push({ltm:n.ltm.innerLtmRoot,object:{type:"domAgent",data:t}})}}function g(n,t,i){var r=typeof i=="function"?{eventHandler:i,options:undefined}:{eventHandler:i.handler,options:{stopPropagation:i.stopPropagation,preventDefault:i.preventDefault}},u=r.eventHandler,f=r.options;n.addEventListener(t,{eventName:"fxCustomClick",eventHandler:u,options:f})}function h(n){return e.generateBindOnlyAttributeHandler((function(t,i,r){var u=typeof r=="function"?{eventHandler:r,options:undefined}:{eventHandler:r.handler,options:{stopPropagation:r.stopPropagation,preventDefault:r.preventDefault}},f=u.eventHandler,e=u.options;t.addEventListener(i,{eventName:n,eventHandler:f,options:e})}))}var c,l,a;Object.defineProperty(t,"__esModule",{value:!0});t.createSandboxModeRenderAgent=t.WeaveChannelDefinition=t.isWeaveBladeEnabled=void 0;t.isWeaveBladeEnabled=MsPortalFx.isFeatureEnabled("weaveblade");c=(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.registerChannelFactory=function(n,t){n.registerObjectFactory(this.name,{allowRemoteChanges:!0,allowedOrigin:["fx","HubsExtension"],handler:t})},t.prototype.acquireChannel=function(n,t,i){return Q(n.acquireObject(this.name,t,i))},t})(FxImpl.Rpc.EndPointDefinition);t.WeaveChannelDefinition=c;t.createSandboxModeRenderAgent=v;l=e.generateBindOnlyAttributeHandler(y);a=e.generateBindOnlyAttributeHandler(g);var nt=h("fxCustomKeyDown"),tt=h("fxCustomKeyUp"),it=h("fxCustomKeyPress")}));
define("FxInternal/Composition/ViewModelAdapters",["require","exports","Fx/Composition/Blade","Fx/Composition/ButtonPart","Fx/Composition/FrameBlade","Fx/Composition/FramePart","Fx/Composition/MenuBlade","Fx/Composition/TabMenuBlade","Fx/Composition/Part","Fx/Composition/TemplateBlade","FxInternal/Composition/TemplateBlade2","Fx/Composition/TemplatePart","FxInternal/Composition/ViewModel","Weave/Core/Computation","FxInternal/Weave/SandboxRender","Fx"],(function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p){function g(n){if(n){var t=n._fx||{};return t&&t.isWeaveBlade?!t.isWeaveFlighted||y.isWeaveBladeEnabled:typeof n.prototype.weave=="function"&&y.isWeaveBladeEnabled}return!1}function b(n,t,i,r,u){if(u in r){var f=r[u],e=t[i],o=v.resolveComputation(f);o?o.activate(n,0,e):ko.isObservable(f)?(e(f()),f.subscribe(n,e)):e(tt(f,r))}}function ot(n){return typeof n=="function"}function tt(n,t){return ot(n)&&!ko.isObservable(n)?n.bind(t):n}function st(n,t){return et.reduce((function(i,r){var u=n[r];return u&&(i[r]=t?u.bind(n):u),i}),{})}var nt;Object.defineProperty(t,"__esModule",{value:!0});t.ViewModelAdapter=t.isWeaveEnabled=void 0;var it=MsPortalFx.ViewModels,k={title:!0,subtitle:!0},rt={showLabels:!0,items:!0},w=new Map;w.set(0,k);w.set(1,k);w.set(2,k);w.set(14,k);w.set(3,k);w.set(12,k);w.set(6,{});w.set(5,{});w.set(4,{title:!0,shortTitle:!0,description:!0,icon:!0});w.set(7,{});var ut={icon:!0,actionBar:!0,parameterProvider:!0,commandBar:!0,statusBar:!0},ft={onInitialize:!0,context:!0,onRebind:!0},et=["onPin","getFilterDefinitions","getDynamicFilterDefinitions","getLocalizedFilterValues","supplyCommands",],d=p.memoizePromise((function(){return Q(MsPortalFx.require("FxInternal/Composition/ViewModelAdapters.DoesProvisioning"))}));t.isWeaveEnabled=g;nt=(function(){function t(n,t,v,y){var w=this,p,lt,k,ot,ut,ht,ct,vt,yt,et,pt;this._diContainer=n;this._viewModelClass=t;this._provisioningContextResults=v;this.menuContent={title:ko.observable(),subtitle:ko.observable()};this._msPortalFx_viewModelApiV2=!0;this._adapterState=0;this._partContext=n&&n.get(a.PartContext);p=this._container=y||n.get(it.ContainerContract);this._ltm=this._container.createChildLifetime();lt=this._container.revealContent||MsPortalFx.noop;this._container.revealContent=function(){w._finalizeContent();lt.call(w._container);w._afterRevealContentCalled&&w._afterRevealContentCalled(w._viewModel)};var at=this._viewModelClass._fx,nt=this._itemType=at.itemType,tt=this._isPart=nt===6||nt===5||nt===4||nt===7;if(tt||(this.subtitle=ko.observable(),this.icon=ko.observable(),this.statusBar=ko.observable()),tt&&nt!==4||(this.title=ko.observable()),nt===4&&(this.shortTitle=ko.observable(),this.description=ko.observable(),this.size=ko.observable(),this.icon=ko.observable()),tt||(p.statusBar=ko.observable(),Object.defineProperty(p,"statusBar",{enumerable:!1}),Object.defineProperty(p,"commandBar",{get:function(){return w._vmCommandBar},set:function(n){if(g(t)){if(w._adapterState&1)throw new Error("'container.commandBar' must be set in the blade constructor.");}else if(w._adapterState&2)throw new Error("'container.commandBar' must be set before the Blade's content is revealed (before 'container.revealContent(...)' is called and/or before the Promise returned from 'onInitialize(...)' is resolved).");n&&n!==w._vmCommandBar&&(w.commandBar||(w.commandBar=new MsPortalFx.ViewModels.Toolbars.Toolbar(w._container)),w._vmCommandBar=n,Object.keys(rt).forEach((function(n){return b(w._ltm,w.commandBar,n,w._vmCommandBar,n)})))},enumerable:!1}),p.icon=ko.observable(),Object.defineProperty(p,"icon",{enumerable:!1}),p.icon.subscribe(p,this.icon)),k={container:p,parameters:null,dashboard:p.dashboard},this._isPart&&(ot=p.updatableHeader,ut={enableForExtensionRenderedHeader:function(n,t){if(w._adapterState&1)throw new Error("'updatableHeader.enableForExtensionRenderedHeader' API must be called during constructor or 'onInitialize'");ut.options(t||{});ut.updatedHeader.subscribe(p,n)},updatedHeader:ot.updatedHeader,options:ot.options},k.updatableHeader=ut),ht=Reflect.getOwnMetadata("fx:composition:model",t),n&&ht&&(k.model=n.get(ht)),tt||(k.form=p.form,p.menu&&(k.menu=p.menu)),at.configurableOptions){var wt=k,ft=this._container.activateConfiguration(),bt=ft.updateValues;ft.updateValues=function(){return bt.call(ft,arguments[0],arguments.length>=2?arguments[1]:!1)};wt.configuration=ft}!this._isPart&&t._fx.doesProvisioning&&(void d(),k.provisioning={initialValues:undefined,marketplaceItem:undefined,telemetryId:undefined,deployTemplate:undefined,deployStack:undefined,deployCustom:undefined,validateTemplate:undefined,getAutomationBladeReference:undefined,getArmErrorsBladeReference:undefined,policyValidationFactory:undefined,setMarketplaceId:undefined});ct=this._isPart&&t._fx.filterable;ct&&(vt=function(n){return Q(w._msPortalFxV2ShellApi.updateFilters.fxAwaitAndRun(p)).then((function(t){return Q(t(n))}))},k.dashboard=MsPortalFx.extend2(p.dashboard,{filtering:{effectiveFilterModels:undefined,allFilterModels:undefined,updateFilters:vt}}));n&&n.set(i.Container,p).set(r.Container,p).set(u.Container,p).set(f.Container,p).set(e.Container,p).set(o.Container,p).set(s.Container,p).set(h.Container,p).set(c.Container,p).set(l.Container,p);this._viewModel=n&&n.get(t)||new t;this._viewModel.context=k;yt=st(this._viewModel,!0);this._msPortalFxV2ShellApi=MsPortalFx.extend(yt,{updateFilters:ct&&ko.observable()});tt&&(et=this._viewModel.onClick,!et||typeof et=="function"||(this._container.clickableLink=et));pt=this._contentRevealedDeferred=Q.defer();this._msPortalFx_contentRevealedPromise=pt.promise}return t.prototype.isInitialized=function(){return!!(this._adapterState&1)},t.prototype.onInputsSet=function(n,t,i,r){var f=this,u,o,a,v,s,e,c,p,l;n=MsPortalFx.clone(n);u=this._viewModel.context;o=Q();!this._isPart&&this._viewModelClass._fx.doesProvisioning&&(a=u.provisioning,v=n._provisioningContext||this._provisioningContextResults.provisioningInputs._provisioningContext,o=d().then((function(n){return __awaiter(f,void 0,void 0,(function(){var t;return __generator(this,(function(i){switch(i.label){case 0:return[4,n.getControlPolicyApi()];case 1:return t=i.sent(),n.setProvisioning(this._diContainer,a,v,this._container,this._partContext,t),[2]}}))}))})),delete n._provisioningContext);s=function(n,t){if(t===void 0&&(t=!0),!Q.isPromise(n)&&!(n instanceof Promise))throw new Error("".concat(t?"'onInitialize'":"'onRebind'"," must return a Promise that covers the full initialization of the ").concat(f._isPart?"Part":"Blade",", including data-loading."));};e=this._isPart&&this._viewModelClass._fx.filterable;r=r||{dashboard:undefined,part:undefined};var h=MsPortalFx.extend2(r.dashboard||{},r.part),y=function(){u.parameters=n;f._viewModelClass._fx.configurableOptions&&(u.settings=t&&t.content||{});e&&(u.dashboard.filtering.filterModels=h,u.dashboard.filtering.effectiveFilterModels=h,u.dashboard.filtering.allFilterModels=r)},b=function(){var n=FxImpl.TelemetryContext.getState();return MsPortalFx.tryImmediateResolve(o,(function(){return FxImpl.TelemetryContext.usingState((function(){y();var t=f._viewModel,n=t.onInitialize();return s(n),f._adapterState|=1,f._adaptProxiableProperties(),n.then((function(){return f._finalizeContent()}),(function(n){return f._finalizeContent(n||new Error("'onInitialize' Promise rejected"))})),Q(n)}),n)}))};if(this._adapterState&1){if(c=this._viewModelClass._fx.rebindable,!i&&!(c||e)){p="".concat(this._isPart?"Part":"Blade"," does not support rebinding. Use the '@Rebindable.Decorator()' decorator.");throw new Error(p);}var w=function(n,t){return MsPortalFx.union(Object.keys(n),Object.keys(t)).filter((function(i){return!MsPortalFx.deepEquals(n[i],t[i])}))},k=c&&{parameterKeys:w(u.parameters,n)},g=e&&{filterIds:w(u.dashboard.filtering.effectiveFilterModels||{},h)},nt=MsPortalFx.extend2(k,g);return y(),i?Q():(l=this._viewModel.onRebind(nt),s(l,!1),Q(l))}return b()},t.prototype.weave=function(){return this._viewModel.weave()},t.prototype._finalizeContent=function(n){var i=this,t;if(!(this._adapterState&2)){if(this._adapterState|=2,n){this._contentRevealedDeferred.reject(n);return}this._contentRevealedDeferred.resolve();this._adaptProxiableProperties();this._isPart?(this._itemType!==4&&b(this._ltm,this._container,"partTitle",this._viewModel,"title"),b(this._ltm,this._container,"assetName",this._viewModel,"subtitle")):(b(this._ltm,this,"statusBar",this._container,"statusBar"),t=this._viewModel.context,t.menu&&(b(this._ltm,this.menuContent,"title",t.menu,"titleSuffix"),b(this._ltm,this.menuContent,"subtitle",t.menu,"subtitleSuffix")))}},t.prototype._adaptProxiableProperties=function(){var i=this,f=w.get(this._itemType),r=[],t,u,n,e;if(p.isFeatureEnabled("es6support"))r=FxImpl.getAllKeys(this._viewModel);else for(n in this._viewModel)r.push(n);for(t=0,u=r;t<u.length;t++)if(n=u[t],!ft[n]&&!f[n]&&(this._isPart||!ut[n])&&(!n.startsWith("_")||n.startsWith("_msPortalFx"))){e=tt(this._viewModel[n],this._viewModel);try{this[n]=e}catch(o){console.warn(o)}}Object.keys(f).forEach((function(n){b(i._ltm,i,n,i._viewModel,n)}))},t.prototype.dispose=function(){this._ltm.dispose()},__decorate([__metadata("fx:diagnostics",[n,"ViewModelAdapter.prototype"]),MsPortalFx.Composition.NotProxied,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",Object)],t.prototype,"weave",null),t})();t.ViewModelAdapter=nt}));
define("Weave/Core/ApplyBindings",["require","exports","Weave/Core/InternalUtil","Weave/Core/WeaveUtil"],(function(n,t,i,r){function u(n,t,i,r){var a=f(n,t),u,s,h,o,c,l;for(e(n,i),r&&r(),u=0,s=a;u<s.length;u++)for(h=s[u],o=0,c=h.deferredBinders;o<c.length;o++)l=c[o],l.handler(n,h.elementId,l.value)}function f(n,t){for(var i,r,f,e,o=[],u=0,s=t;u<s.length;u++){if(i=s[u],i.binders)for(r=0,f=i.binders;r<f.length;r++)e=f[r],e.handler(n,i.elementId,e.value);i.deferredBinders&&o.push(i)}return o}function e(n,t){for(var u,r,f=0,e=t;f<e.length;f++){u=e[f];r=u.metadata;switch(r.type){case"if":o(n,u,r);break;case"forEach":s(n,u,r);break;case"forEachItem":break;case"computation":h(n,u,r);break;case"once":c(n,u,r);break;case"external":r.weaveNode.applyBindingHandler(n,u,r.internalContext.context);break;default:i.assertSwitchNever(r)}}}function o(n,t,i){var o=t.dynamicNodeId,s=i.content,a=i.concealmentBehavior,h=i.initRenderChangeIndex,c=i.internalContext,r=i.aggrRelay,l=i.initAggrResults,f,u,e;a==="remove"?(f=!!l,s.activate(n.getDynamicNodeLtm(o),h,(function(i){i.condition?f||r.relay(n.replaceContent(t,i.weaveNode,c,r,!1)):(f&&n.clear(t),r.stop());f=i.condition}))):(u=l,e=!!u,s.activate(n.getDynamicNodeLtm(o),h,(function(i){i.condition?e?(n.toggleDisplay(t,!0),r.relay(u)):(e=!0,u=n.replaceContent(t,i.weaveNode,c,r,!1),r.relay(u)):(n.toggleDisplay(t,!1),r.stop())})))}function s(n,t,u){for(var o,h=t.dynamicNodeId,l=u.internalContext,a=u.contentList,v=u.initRenderChangeIndex,c=u.initRenderDomInfo,f=u.aggrRelay,e=new Map,s=c.length-1;s>=0;--s)o=c[s],r.addToMapOfArray(e,o.tsxNode,{itemId:o.itemId,itemAggrResult:o.itemAggrResult});a.activate(n.getDynamicNodeLtm(h),v,(function(u){for(var c,a,v,s=u.length,y=new Array(s),o=0;o<s;++o)c=u[o],a=r.tryPopFromMapOfArray(e,c),y[o]=a?{type:"exist",metadata:a}:{type:"new",weaveNode:c};for(v=n.setItems(h,t,y,l,f),e.clear(),o=s;o>=0;--o)r.addToMapOfArray(e,u[o],v[o]);f.relay(i.aggregateResults(f.aggregators,i.arrayToMap(f.relayedKeys,(function(n){return v.map((function(t){return t.itemAggrResult[n]}))}))))}))}function h(n,t,i){var u=t.dynamicNodeId,r=i.aggrRelay;i.weaveNode.activate(n.getDynamicNodeLtm(u),i.initRenderChangeIndex,(function(u){r.relay(n.replaceContent(t,u,i.internalContext,r,!0))}))}function c(n,t,r){var e=t.dynamicNodeId,o=r.internalContext,u=r.aggrRelay,f=n.getDynamicNodeLtm(e).createChildLifetime();r.content.activate(f,r.initRenderChangeIndex,(function(r){r.condition&&(f.dispose(),i.isNotNullNorUndefined(r.weaveNode)?u.relay(n.replaceContent(t,r.weaveNode,o,u,!0)):(n.remove(t),u.stop()))}))}Object.defineProperty(t,"__esModule",{value:!0});t.applyBindings=void 0;t.applyBindings=u}));
define("Weave/Core/ClassNameProcessor",["require","exports","Weave","Weave/Core/Computation","Weave/Core/InternalUtil"],(function(n,t,i,r,u){function o(n,t){var i="",r,u,e;return typeof n=="string"?i=n:n&&(e=[],r=[],u=[],f(n,e,r,u,t),i=e.join(" ")),{conditionalClass:r,dynamicClass:u,initClass:i}}function s(n,t,i){for(var l,a,f,h,v,u,o=n.initClass,y=function(n){var f=n.initCondition,s=n.className.split(" ").filter(r._identity);s.length>0&&n.computation.activate(t,n.initChangeIndex,(function(n){var t=!!n,h,l,r,c;if(t!==f){for(u||(u=e(o)),h=0,l=s;h<l.length;h++)r=l[h],c=(u.get(r)||0)+(t?1:-1),u.set(r,c),t||c!==0?t&&c===1&&i(r,!0):i(r,!1);f=t}}))},s=0,c=n.conditionalClass;s<c.length;s++)l=c[s],y(l);for(a=function(n){var f=n.initValue.split(" ").filter(r._identity);n.computation.activate(t,n.initChangeIndex,(function(n){var y=(n||"").split(" ").filter(r._identity),s,a,h,c,v,l,t;for(u||(u=e(o)),s=0,a=y;s<a.length;s++)h=a[s],t=(u.get(h)||0)+1,u.set(h,t),t===1&&i(h,!0);for(c=0,v=f;c<v.length;c++)l=v[c],t=u.get(l)-1,u.set(l,t),t===0&&i(l,!1);f=y}))},f=0,h=n.dynamicClass;f<h.length;f++)v=h[f],a(v);return function(){if(u){var n=[];return u.forEach((function(t,i){t>0&&n.push(i)})),n}return o.split(" ").filter(r._identity)}}function f(n,t,e,o,s){var l,a,v,y,p,h,c,w;if(typeof n=="string")t.push(n);else if(i.isComputation(n))l=r.resolveComputation(n),a=l.activate(s)||"",o.push({computation:l,initChangeIndex:l.changeIndex,initValue:a}),a&&t.push(a);else if(u.isReadonlyArray(n))for(v=0,y=n;v<y.length;v++)p=y[v],p&&f(p,t,e,o,s);else for(h in n)h&&(c=r.resolveComputation(n[h]),c?(w=!!c.activate(s),w&&t.push(h),e.push({className:h,computation:c,initChangeIndex:c.changeIndex,initCondition:w})):n[h]&&t.push(h))}function e(n){for(var u,t=new Map,i=0,f=n.split(" ").filter(r._identity);i<f.length;i++)u=f[i],t.set(u,(t.get(u)||0)+1);return t}Object.defineProperty(t,"__esModule",{value:!0});t.applyClassBindingMetadata=t.processClassName=void 0;t.processClassName=o;t.applyClassBindingMetadata=s}));
define("Weave/Core/AttributeHandler",["require","exports","Weave/Core/Computation","Weave/Core/InternalUtil","Weave/Core/ClassNameProcessor"],(function(n,t,i,r,u){function e(n,t,u,f,e){var o=i.resolveComputation(u),s=o?o.activate(n.ltm.innerLtmRoot):u,h=f===1;(h?a(s):r.isNotNullNorUndefined(s))&&n.addAttribute(t,l(s,h,e));o&&n.addBinding({handler:tt,value:{attributeName:t,initRenderChangeIndex:o.changeIndex,computation:o,attributeKind:f,arrayJoinChar:e}})}function v(n,t,r,u,f){if(!("className"in f)&&t){var e=i.resolveComputation(t),o=e.activate(n.ltm.innerLtmRoot);o||n.addAttribute("class","weave-display-none1");n.addBinding({handler:ut,value:{visible:e,initChangeIndex:e.changeIndex}})}}function y(n,t,i,r,f){var o,e;f.visible&&(t=[t,(o={},o["weave-display-none1"]=f.visible.compose(g),o)]);e=u.processClassName(t,n.ltm.innerLtmRoot);(e.dynamicClass&&e.dynamicClass.length||e.conditionalClass&&e.conditionalClass.length)&&n.addBinding({handler:ft,value:e});e.initClass&&n.addAttribute("class",e.initClass)}function p(n,t){e(n,"coords",t,0,",")}function w(n,t,i,r,u,f){if(h(f,u.type))"onValueChange"in u||n.addBinding({handler:o,value:{value:t,onValueChange:null}});else return e(n,"value",t,0)}function b(n,t,i,r,u,f){!c(f,u.type)||"onCheckedChange"in u||n.addBinding({handler:s,value:{checked:t,onCheckedChange:null}})}function k(n,t,i,r,u,f){var e=u.type;h(f,e)&&n.addBinding({handler:o,value:{value:u.value,onValueChange:t}})}function d(n,t,i,r,u,f){var e=u.type;c(f,e)&&n.addBinding({handler:s,value:{checked:u.checked,onCheckedChange:t}})}function o(n,t,i){var r=i.value,u=i.onValueChange;n.initInputBinding(t,"textInput",r,u)}function s(n,t,i){var r=i.checked,u=i.onCheckedChange;n.initInputBinding(t,"checkboxInput",r,u)}function h(n,t){return n==="input"&&(t==="text"||t==="color"||t==="date"||t==="datetime-local"||t==="email"||t==="month"||t==="number"||t==="password"||t==="range"||t==="search"||t==="tel"||t==="time"||t==="url"||t==="week")||n==="textarea"}function c(n,t){return n==="input"&&(t==="checkbox"||t==="radio")}function g(n){return!n}function nt(n,t){var r,e,u,o;if(t){var f=[],s={},h=!1;for(r in t)e=t[r],u=i.resolveComputation(e),u?(o=u.activate(n.ltm.innerLtmRoot),s[r]={computation:u,initRenderChangeIndex:u.changeIndex},o&&f.push("".concat(r,": ").concat(o)),h=!0):e&&f.push("".concat(r,": ").concat(e));f.length>0&&n.addAttribute("style",f.join("; ")+";");h&&n.addBinding({handler:et,value:s})}}function l(n,t,i){return t?"":r.isReadonlyArray(n)?n.join(typeof i=="string"?i:" "):""+n}function a(n){return r.isNotNullNorUndefined(n)&&n!==!1}function tt(n,t,i){var e=i.attributeKind,u=i.attributeName,o=i.arrayJoinChar,f=e===1;i.computation.activate(n.getElementNodeLtm(t),i.initRenderChangeIndex,(function(i){(f?a(i):r.isNotNullNorUndefined(i))?n.setAttribute(t,u,l(i,f,o)):n.removeAttribute(t,u)}))}function f(n){return function(t,i){e(t,n,i,1)}}function it(n,t,i){r.activateAndRun(n,t,i,(function(i){return rt(n,t,i)}))}function rt(n,t,i){if(typeof i=="string"&&(i=i.trim(),i)){n.setAttribute(t,"id",i);return}n.removeAttribute(t,"id")}function ut(n,t,i){i.visible.activate(n.getElementNodeLtm(t),i.initChangeIndex,(function(i){n.toggleClass(t,"weave-display-none1",!i)}))}function ft(n,t,i){u.applyClassBindingMetadata(i,n.getElementNodeLtm(t),(function(i,r){return n.toggleClass(t,i,r)}))}function et(n,t,i){var r=function(r){var u=i[r];u.computation.activate(n.getElementNodeLtm(t),u.initRenderChangeIndex,(function(i){n.setStyle(t,r,i)}))};for(var u in i)r(u)}Object.defineProperty(t,"__esModule",{value:!0});t.styleHandler=t.onCheckedChangeHandler=t.onValueChangeHandler=t.checkedHandler=t.valueHandler=t.coordsHandler=t.classNameHandler=t.visibleHandler=t.refHandler=t.multipleHandler=t.defaultHandler=t.reversedHandler=t.requiredHandler=t.ismapHandler=t.seamlessHandler=t.novalidateHandler=t.openHandler=t.hiddenHandler=t.formnovalidateHandler=t.autofocusHandler=t.mutedHandler=t.autoplayHandler=t.controlsHandler=t.loopHandler=t.readonlyHandler=t.disabledHandler=t.idHandler=t.onMouseLeaveHandler=t.onMouseEnterHandler=t.onFocusOutHandler=t.onFocusInHandler=t.onKeyUpHandler=t.onKeyPressHandler=t.onKeyDownHandler=t.onClickHandler=t.htmlAttributeHandler=void 0;t.htmlAttributeHandler=e;t.onClickHandler=r.generateBindOnlyAttributeHandler(r.makeEventHandler("click"));t.onKeyDownHandler=r.generateBindOnlyAttributeHandler(r.makeEventHandler("keydown"));t.onKeyPressHandler=r.generateBindOnlyAttributeHandler(r.makeEventHandler("keypress"));t.onKeyUpHandler=r.generateBindOnlyAttributeHandler(r.makeEventHandler("keyup"));t.onFocusInHandler=r.generateBindOnlyAttributeHandler(r.makeEventHandler("focusin"));t.onFocusOutHandler=r.generateBindOnlyAttributeHandler(r.makeEventHandler("focusout"));t.onMouseEnterHandler=r.generateBindOnlyAttributeHandler(r.makeEventHandler("mouseenter"));t.onMouseLeaveHandler=r.generateBindOnlyAttributeHandler(r.makeEventHandler("mouseleave"));t.idHandler=r.generateBindOnlyAttributeHandler(it);t.disabledHandler=f("disabled");t.readonlyHandler=f("readonly");t.loopHandler=f("loop");t.controlsHandler=f("controls");t.autoplayHandler=f("autoplay");t.mutedHandler=f("muted");t.autofocusHandler=f("autofocus");t.formnovalidateHandler=f("formnovalidate");t.hiddenHandler=f("hidden");t.openHandler=f("open");t.novalidateHandler=f("novalidate");t.seamlessHandler=f("seamless");t.ismapHandler=f("ismap");t.requiredHandler=f("required");t.reversedHandler=f("reversed");t.defaultHandler=f("default");t.multipleHandler=f("multiple");t.refHandler=r.generateBindOnlyAttributeHandler((function(n,t,i){r.assignRenderAgent(i,n);n.setLocatorClass(t,i.locatorClass)}));t.visibleHandler=v;t.classNameHandler=y;t.coordsHandler=p;t.valueHandler=w;t.checkedHandler=b;t.onValueChangeHandler=k;t.onCheckedChangeHandler=d;t.styleHandler=nt}));
define("Weave/Core/CollectRenderInfo",["require","exports","Weave","Weave/Core/Computation","Weave/Core/InternalUtil"],(function(n,t,i,r,u){function y(){return"_weave_css_"+s++}function c(n,t){return n.cache.get(t)||h}function l(n,t,i){n.cache.set(t,{match:!0,value:i})}function a(n){return{cache:new WeakMap,context:Object.freeze(n)}}function e(n,t,f,o,s){if(u.isNotNullNorUndefined(f)){if(typeof f=="string"||typeof f=="number"||typeof f=="boolean")return t.createTextNode(""+f);if(i.isComputation(f))return g(n,t,r.resolveComputation(f),o,s);switch(f.type){case"aggr":return ft(n,t,f,o,s);case"aggrsrc":return et(n,t,f,o,s);case"css":return ot(n,t,f);case"external":return it(t,f,o);case"forEach":return d(n,t,f,o,s);case"fragment":return k(n,t,f,o,s);case"getcontext":return rt(n,t,f,o,s);case"html":return nt(t,f);case"if":return b(n,t,f,o,s);case"once":return tt(n,t,f,o,s);case"ltmscoped":return e(n,t,f.fn(t.ltm.innerLtmRoot),o,s);case"native":return w(n,t,f,o,s);case"setcontext":return ut(n,t,f,o,s);case"value":return st(n,t,f,o,s);default:return u.assertSwitchNever(f,!0),t.createTextNode(""+f)}}}function p(n,t,i,r,f,o){for(var c=r.length,l=new Array(c),s=0;s<c;++s){var h=i.createChildDynamicNode({type:"forEachItem",weaveNode:undefined,logicalTreeNodeId:t.metadata.logicalTreeNodeId}),v=r[s],a=u.buildMapOfArray(o.relayedKeys);e(n,h,v,f,a);l[s]={itemId:h.nodeId,itemAggrResult:u.aggregateResults(o.aggregators,a)};h.seal()}return l}function w(n,t,i,r,u){var v=n.hooksState,y=n.attributesHandler,f=i.attributes,p=i.children,s=t.createChildElementNode(i.tag,i),h,c,o,l,a;if(f)for(h in f)y(s,h,f[h],r.context,v,f,i.tag);for(c=s.sealAttributes(),o=0,l=p;o<l.length;o++)a=l[o],e(n,c,a,r,u);c.seal();s.seal()}function o(n,t,i,r,u){for(var s,f=0,o=i;f<o.length;f++)s=o[f],e(n,t,s,r,u)}function b(n,t,i,r,u){var e=f++;v(n,t,i,e,r,u,i.trueCase);v(n,t,i,e,r,u,i.falseCase)}function v(n,t,i,r,f,o,s){var a,h,v;if(s){var y=n.aggregators,c=s.activate(t.ltm.innerLtmRoot),l=new u.AggregationRelay(y,o),p=c.condition?{}:null,w=t.createChildDynamicNode({type:"if",weaveNode:i,logicalTreeNodeId:r,aggrRelay:l,concealmentBehavior:i.concealmentBehavior,content:s,internalContext:f,initAggrResults:p,initRenderChangeIndex:s.changeIndex});if(c.condition){a=u.buildMapOfArray(l.relayedKeys);e(n,w,c.weaveNode,f,a);h=u.aggregateResults(y,a);l.relay(h);for(v in h)p[v]=h[v]}w.seal()}}function k(n,t,i,r,u){return o(n,t.createChildVirtualNode(i,f++),i.children,r,u)}function d(n,t,i,r,o){for(var g,c=n.aggregators,l=i.contentList,y=l.activate(t.ltm.innerLtmRoot),p=y.length,a=new Array(p),s=new u.AggregationRelay(c,o),w=f++,b=t.createChildDynamicNode({type:"forEach",weaveNode:i,logicalTreeNodeId:w,aggrRelay:s,contentList:l,internalContext:r,initRenderChangeIndex:l.changeIndex,initRenderDomInfo:a}),h=0;h<p;++h){var k=y[h],v=b.createChildDynamicNode({type:"forEachItem",weaveNode:i,logicalTreeNodeId:w}),d=u.buildMapOfArray(s.relayedKeys);e(n,v,k,r,d);a[h]={itemAggrResult:u.aggregateResults(c,d),itemId:v.nodeId,tsxNode:k};v.seal()}g=u.aggregateResults(c,u.arrayToMap(s.relayedKeys,(function(n){return a.map((function(t){return t.itemAggrResult[n]}))})));s.relay(g);b.seal()}function g(n,t,i,r,o){var h=n.aggregators,v=i.activate(t.ltm.innerLtmRoot),s=new u.AggregationRelay(h,o),c=t.createChildDynamicNode({type:"computation",weaveNode:i,logicalTreeNodeId:f++,aggrRelay:s,initRenderChangeIndex:i.changeIndex,internalContext:r}),l=u.buildMapOfArray(s.relayedKeys),a;e(n,c,v,r,l);a=u.aggregateResults(h,l);s.relay(a);c.seal()}function nt(n,t){u.isNotNullNorUndefined(t.data)&&n.createHTMLNode(t.data)}function tt(n,t,i,o,s){var y=n.aggregators,l=i.content,h=r.pokeComputation(l),w=l.changeIndex,c,a,v,p;h.condition?e(n,t.createChildVirtualNode(i,f++),h.weaveNode,o,s):(c=new u.AggregationRelay(y,s),a=t.createChildDynamicNode({type:"once",weaveNode:i,logicalTreeNodeId:f++,aggrRelay:c,content:l,internalContext:o,initRenderChangeIndex:w}),u.isNotNullNorUndefined(h.weaveNode)&&(v=u.buildMapOfArray(c.relayedKeys),e(n,a,h.weaveNode,o,v),p=u.aggregateResults(y,v),c.relay(p)),a.seal())}function it(n,t,i){var r=n.createChildDynamicNode({type:"external",weaveNode:t,logicalTreeNodeId:f++,internalContext:i});r.seal()}function rt(n,t,i,r,u){var s=c(r,i),o;s.match?o=s.value:(o=i.props.fn(r.context),l(r,i,o));e(n,t.createChildVirtualNode(i,f++),o,r,u)}function ut(n,t,i,r,u){var s=c(r,i),e;s.match?e=s.value:(e=a(__assign(__assign({},r.context),i.props)),l(r,i,e));o(n,t.createChildVirtualNode(i,f++),i.children,e,u)}function ft(n,t,i,r,e){var v=n.aggregators,h=i.resultsReceivers||{},c=u.buildMapOfArray(Object.keys(h).filter((function(n){return v[n]&&h[n]}))),y=__assign(__assign({},e),c),l,s,a;o(n,t.createChildVirtualNode(i,f++),i.children,r,y);l=u.aggregateResults(v,c);for(s in c)a=e[s],a&&a.push(l[s]),h[s].reseat(l[s])}function et(n,t,i,r,e){for(var c,l,y,p=n.aggregators,s=i.sources||{},a=Object.keys(s).filter((function(n){return p[n]&&u.isNotNullNorUndefined(s[n])})),h=0,v=a;h<v.length;h++)c=v[h],l=e[c],l&&l.push(s[c]);y=__assign(__assign({},e),u.arrayToMap(a,(function(){return undefined})));o(n,t.createChildVirtualNode(i,f++),i.children,r,y)}function ot(n,t,i){var u=i.css,f,r;t.ltm.css.push(u);f=n.cssMetadataMap;r=f.get(u);r||f.set(u,r={id:y(),isNew:!0,oldRefCount:0,newRefCount:0});r.newRefCount++}function st(n,t,i,r,u){return e(n,t.createChildVirtualNode(i,f++),i.value,r,u)}var s,f,h;Object.defineProperty(t,"__esModule",{value:!0});t.collectForEachItemsRenderInfo=t.collectRenderInfo=t.createInternalWeaveContext=void 0;s=0;f=0;h={match:!1,value:undefined};t.createInternalWeaveContext=a;t.collectRenderInfo=e;t.collectForEachItemsRenderInfo=p}));
define("Weave/Core/InputBindings",["require","exports"],(function(n,t){function i(n,t){for(var i=0;i<n.length;++i)if(n[i].name===t)return i;return-1}Object.defineProperty(t,"__esModule",{value:!0});t.InputBindingsManager=void 0;var r=(function(){function n(){}return n.prototype.resolveInputBinding=function(n,t,r){var f=n.inputBindings?i(n.inputBindings,t):-1,u;if(f<0)throw new Error('Input binding "'.concat(t,'" not initialized.'));if(u=n.inputBindings[f],r.indexOf(u.type)<0)throw new Error('Input binding "'.concat(t,'" type not match, expected: "').concat(r.join("|"),'", actual: "').concat(u.type,'".'));return u},n.prototype.ensureNoInputBindingExists=function(n,t){if(n.inputBindings&&i(n.inputBindings,t)>=0)throw new Error('Input binding "'.concat(t,'" already initialized.'));},n.prototype.createInputBinding=function(n,t){n.inputBindings?n.inputBindings.push(t):n.inputBindings=[t]},n})();t.InputBindingsManager=r}));
define("Weave/Core/LifetimeManager",["require","exports","Weave/Core/WeaveUtil","Weave/Core/InternalUtil"],(function(n,t,i,r){function a(){return s(this.treeId,this)}function s(n,t){var i={children:[],css:[],dynamicNodes:[],elementNodes:[],indexInParentArray:t?t.children.length:-1,innerLtmRoot:new f,parent:t,treeId:n,createChildNode:a,detachNode:h};return t&&t.children.push(i),i}function v(){return s(o++,undefined)}function h(){if(this.parent){var n=this.parent.children.pop();n!==this&&(this.parent.children[this.indexInParentArray]=n,n.indexInParentArray=this.indexInParentArray);this.parent=undefined}}function u(n,t){t(n);for(var r=n.children.slice(0),i=r.length-1;i>=0;i--)u(r[i],t)}function c(n){typeof n.dispose=="function"?l((function(){return n.dispose()})):l(n)}function l(n){try{n()}catch(t){i.raiseAsyncError(t)}}var o,f,e;Object.defineProperty(t,"__esModule",{value:!0});t.preorderTraversal=t.createLifetimeManagerRoot=void 0;o=0;t.createLifetimeManagerRoot=v;t.preorderTraversal=u;f=(function(){function n(n){this.children=[];this.detachNode=h;this._disposeFn=[];this._isDisposed=!1;this.parent=n;this.indexInParentArray=n?n.children.length:-1}return n.prototype.dispose=function(){this._isDisposed||u(this,(function(n){n.detachNode();n._isDisposed=!0;n._disposeFn&&n._disposeFn.forEach(c);n._disposeFn.length=0}))},n.prototype.createChildLifetime=function(){if(this._isDisposed)return e;var t=new n(this);return this.children.push(t),t},n.prototype.registerForDispose=function(n){var t,i,u;if(r.isReadonlyArray(n))for(t=0,i=n;t<i.length;t++)u=i[t],this._registerSingleForDispose(u);else this._registerSingleForDispose(n);return this},n.prototype.isDisposed=function(){return this._isDisposed},n.prototype._registerSingleForDispose=function(n){n&&(this._isDisposed?c(n):this._disposeFn.push(n))},n})();e=new f;e.dispose()}));
define("Weave/Core/MemoryManager",["require","exports","Weave/Core/LifetimeManager","Weave/Core/InternalUtil"],(function(n,t,i,r){function u(n,t){for(var u,i=0,r=t;i<r.length;i++)u=r[i],n.delete(u)}Object.defineProperty(t,"__esModule",{value:!0});t.MemoryManager=void 0;var f=(function(){function n(){this.outerLtmRoot=i.createLifetimeManagerRoot();this._elementNodeLookup=new Map;this._dynamicNodeLookup=new Map;this._treeId=this.outerLtmRoot.treeId;this._disposed=!1}return n.prototype.dispose=function(){this._disposed||(this._disposed=!0,this.release(this.outerLtmRoot,null),this._elementNodeLookup.clear(),this._dynamicNodeLookup.clear())},n.prototype.getAndEnsureElementNode=function(n){var t=this._elementNodeLookup.get(n);if(!t)throw new Error("Element node not found by id: ".concat(n));return t},n.prototype.tryGetElementNode=function(n){return this._elementNodeLookup.get(n)},n.prototype.getAndEnsureDynamicNode=function(n){var t=this._dynamicNodeLookup.get(n);if(!t)throw new Error("Dynamic node not found by id: ".concat(n));return t},n.prototype.getDynamicNodeLtm=function(n){return this.getAndEnsureDynamicNode(n).selfLtm.innerLtmRoot},n.prototype.getElementNodeLtm=function(n){return this.getAndEnsureElementNode(n).ltm.innerLtmRoot},n.prototype.setElementNode=function(n){var t=n.nodeId;this._elementNodeLookup.set(t,n);n.ltm.elementNodes.push(t)},n.prototype.setDynamicNode=function(n){var t=n.nodeId;this._dynamicNodeLookup.set(t,n);n.selfLtm.dynamicNodes.push(t)},n.prototype.ensureContentDisposed=function(n,t){r.ensureDynamicNodeOperation(n.type,1);n.contentLtm&&(this.release(n.contentLtm,t),n.contentLtm=null)},n.prototype.getDebugInfo=function(){return{elementNodeLookupSize:this._elementNodeLookup.size,dynamicNodeLookupSize:this._dynamicNodeLookup.size}},n.prototype.releaseDynamicNode=function(n,t){var i=this.getAndEnsureDynamicNode(n);return r.ensureDynamicNodeOperation(i.type,2),this.release(i.selfLtm,t),i},n.prototype.release=function(n,t){var r=this;n.detachNode();i.preorderTraversal(n,(function(n){r._disposed||(t&&t(n),u(r._elementNodeLookup,n.elementNodes),u(r._dynamicNodeLookup,n.dynamicNodes));n.innerLtmRoot.dispose()}))},n})();t.MemoryManager=f}));
define("Weave/Core/RenderAgentBase",["require","exports","Weave/Core/MemoryManager","Weave","Weave/Core/InternalUtil","Weave/Core/CollectRenderInfo","Weave/Core/ApplyBindings","Weave/Core/WeaveUtil"],(function(n,t,i,r,u,f,e,o){var h,s;Object.defineProperty(t,"__esModule",{value:!0});t.RenderAgentBase=void 0;h=(function(){function n(n,t,r){var u=this;this._handleAttribute=n;this._createNewState=t;this._memoryManager=new i.MemoryManager;this._cssMetadataMap=new Map;this._ltmRemovalCallback=function(n){for(var r,f,t=0,i=n.css;t<i.length;t++)if(r=i[t],f=u._cssMetadataMap.get(r),--f.newRefCount<0)throw new Error("Logic error: css refCount became negative");};this._customEventDataProvider=r||function(){return s}}return n.prototype.clear=function(n){var t,i,r=this._memoryManager.getAndEnsureDynamicNode(n.dynamicNodeId),u;this.clearLogicalState(r,n,!0);u=((i=(t=n.metadata)===null||t===void 0?void 0:t.weaveNode)===null||i===void 0?void 0:i["data-odebug"])||"";this.clearVisualState(r,u);this.applyCssChanges()},n.prototype.remove=function(n){var t,i,r=((i=(t=n.metadata)===null||t===void 0?void 0:t.weaveNode)===null||i===void 0?void 0:i["data-odebug"])||"";this.removeVisualState(this.removeLogicalState(n.dynamicNodeId,n),r);this.applyCssChanges()},n.prototype.replaceContent=function(n,t,i,r,f){var h=this,o,s,e=this._memoryManager.getAndEnsureDynamicNode(n.dynamicNodeId),c;u.ensureDynamicNodeOperation(e.type,4);u.ensureDynamicNodeOperation(e.type,1);this.clearLogicalState(e,n,f);f&&(c=((s=(o=n.metadata)===null||o===void 0?void 0:o.weaveNode)===null||s===void 0?void 0:s["data-odebug"])||"",this.clearVisualState(e,c));var l=e.selfLtm,a=e.contentLtm=l.createChildNode(),v=this.render(a,n,t,i,r,undefined,(function(n,t){h.applyCssChanges();h.setContent(n,t,e)}));return u.aggregateResults(r.aggregators,v)},n.prototype.getElementMetadata=function(n){return this._memoryManager.getAndEnsureElementNode(n)},n.prototype.getDynamicNodeLtm=function(n){return this._memoryManager.getDynamicNodeLtm(n)},n.prototype.getElementNodeLtm=function(n){return this._memoryManager.getElementNodeLtm(n)},n.prototype.getMemoryDebugInfo=function(){return this._memoryManager.getDebugInfo()},n.prototype.dispose=function(){this._memoryManager.dispose()},n.prototype.render=function(n,t,i,r,o,s,h){var a=u.buildMapOfArray(o.relayedKeys),l=this._createNewState&&this._createNewState(),v=this.createCollector(n,t),c;return f.collectRenderInfo({aggregators:o.aggregators,attributesHandler:this._handleAttribute,cssMetadataMap:this._cssMetadataMap,hooksState:l},v,i,r,a),c=this.sealCollector(v,l),this.buildNodeLookup(c),h(c,l),e.applyBindings(this.thisInstance,c.elementBindings,c.dynamicBindings,s),a},n.prototype.removeLogicalState=function(n){return this._memoryManager.releaseDynamicNode(n,this._ltmRemovalCallback)},n.prototype.initInputBinding=function(n,t,i,f){function l(){u.activateAndRun(s,n,i,(function(i){s.pushInputValue(n,t,i)}))}var h=u.isNotNullNorUndefined(i),e=u.isNotNullNorUndefined(f),c,s;(h||e)&&(c=this.getElementMetadata(n),s=this,h&&e?(this.initTwoWayInputBinding(n,t,(function(n){try{f(n)}catch(t){o.raiseAsyncError(t)}return r.evaluate(c.ltm.innerLtmRoot,i)})),l()):e?this.initValueSubscribeInputBinding(n,t,f):(this.initValuePushInputBinding(n,t),l()))},n})();t.RenderAgentBase=h;s={};Object.freeze(s)}));
define("Weave/SandboxRender/Common",["require","exports"],(function(n,t){function i(n){this.node.children.push({type:"text",text:n})}function r(n){this.node.children.push({type:"html",htmlData:n})}Object.defineProperty(t,"__esModule",{value:!0});t.createHTMLNode=t.createTextNode=void 0;t.createTextNode=i;t.createHTMLNode=r}));
define("Weave/SandboxRender/NodeEditors",["require","exports","Weave/SandboxRender/Common","Weave/SandboxRender/Common","Weave/Core/InternalUtil","Weave/Core/WeaveUtil"],(function(n,t,i,r,u,f){function e(n){var t=u.getUniqueDynamicNodeId(),h=u.createDynamicNodeLtms(n.type,this.ltm),c=h.selfLtm,l=h.contentLtm,s;return this.collectors.dynamicBindingCollector.push({dynamicNodeId:t,initContentLtm:l,metadata:n,selfLtm:c}),s={type:"dynamic",nodeId:t,dynamicNodeType:n.type,children:[]},this.node.children.push(s),{collectors:this.collectors,node:s,nodeId:t,ltm:l||c,createChildDynamicNode:e,createChildElementNode:o,createChildVirtualNode:f.returnThis,createHTMLNode:i.createHTMLNode,createTextNode:r.createTextNode,seal:f.noop}}function o(n){var t={type:"element",tagName:n,attributes:[],children:[]};return this.node.children.push(t),{collectors:this.collectors,elementBinders:[],elementId:"",node:t,ltm:this.ltm,addAttribute:h,addBinding:c,addDebugInfo:a,addDeferredBinding:l,seal:f.noop,sealAttributes:s}}function s(){if(this.elementBinders.length){var n=this.elementId;n||(this.elementId=n=u.getUniqueElementId(),this.node.attributes.push({name:"id",value:n}));this.collectors.elementBindingCollector.push({elementId:n,binders:this.elementBinders,deferredBinders:undefined,ltm:this.ltm})}return{collectors:this.collectors,node:this.node,ltm:this.ltm,createChildDynamicNode:e,createChildElementNode:o,createChildVirtualNode:f.returnThis,createHTMLNode:i.createHTMLNode,createTextNode:r.createTextNode,seal:f.noop}}function h(n,t){if(n!==n.toLowerCase())throw new Error("Only lowerd case attribute name is allowed: ".concat(n));if(n==="id")throw new Error("id attribute not supported by this api.");return this.node.attributes.push({name:n,value:t}),this}function c(n){return this.elementBinders.push(n),this}function l(){throw new Error("addDeferredBinding is not supported in Sandbox mode yet.");}Object.defineProperty(t,"__esModule",{value:!0});t.createChildElementNode=t.createChildDynamicNode=void 0;t.createChildDynamicNode=e;t.createChildElementNode=o;var a=function(){throw new Error("addDebugInfo not supported in prod mode.");}}));
define("Weave/SandboxRender/RenderAgent",["require","exports","Weave/SandboxRender/Common","Weave/Core/ApplyBindings","Weave/Core/CollectRenderInfo","Weave/Core/AttributeHandler","Weave/Core/InternalUtil","Weave/Core/WeaveUtil","Weave/Core/InternalUtil","Weave/SandboxRender/NodeEditors","Weave/Core/RenderAgentBase","Weave/Core/WeaveUtil","Weave/Core/InputBindings"],(function(n,t,i,r,u,f,e,o,s,h,c,l,a){function w(n){var t=s.makeMap(p.concat(n.customAttributeHandlers||[]),(function(n){return n.name}),(function(n){return n.handler}),!1);return function(n,i,r,u,e,o,s){var h=t.get(i);h?h(n,r,u,e,o,s):f.htmlAttributeHandler(n,i,r,0)}}function b(n){return n.itemId}function k(n){return n.itemId}function d(n){for(var u,i=new Set,t=0,r=n;t<r.length;t++)u=r[t],i.add(u);return i}function y(n){return n.type==="new"}function g(n){return n.weaveNode}var v,p;Object.defineProperty(t,"__esModule",{value:!0});t.SandboxModeRenderAgent=void 0;v=(function(n){function t(t){var i=n.call(this,w(t),t.hooks.instruction.createNewState,t.customEventDataProvider)||this,r,u;return i._options=t,i._sendInstruction=i._options.hooks.instruction.sendInstruction,i._postProcessNode=i._options.hooks.instruction.postProcessNode,i._inputBindingsMgr=new a.InputBindingsManager,i.thisInstance=i,r=[{name:"event",handler:function(n){return i._handleEventNotification(n)}},{name:"twoWayInputBinding",handler:function(n){return i._handleTwoWayInputBindingNotification(n)}},{name:"valueSubscribeInputBinding",handler:function(n){return i._handleValueSubscribeInputBindingNotification(n)}}],u=s.makeMap(r.concat(t.customNotificationHandlers||[]),(function(n){return n.name}),(function(n){return n.handler})),t.hooks.registerOnReceive((function(n){var t=u.get(n.type);if(t)t(n);else throw new Error("Unknown notification from main thread, ".concat(JSON.stringify(n).slice(0,200)));})),i}return __extends(t,n),t.prototype.renderRoot=function(){var n=this;this.render(this._memoryManager.outerLtmRoot,undefined,this._options.weaveNode,u.createInternalWeaveContext(__assign({},this._options.weaveContext)),new e.AggregationRelay(this._options.aggregators,{}),undefined,(function(t,i){n._sendInstruction({type:"setRoot",css:n.consumePendingCssChanges(),rootNode:t.node},i)}))},t.prototype.applyCssChanges=function(){this._sendInstruction({type:"applyCss",css:this.consumePendingCssChanges()})},t.prototype.buildNodeLookup=function(n){for(var f,i,e,t,r,s=n.elementBindings,h=n.dynamicBindings,u=0,o=s;u<o.length;u++)f=o[u],this._memoryManager.setElementNode({nodeId:f.elementId,ltm:f.ltm,eventListeners:undefined});for(i=0,e=h;i<e.length;i++)t=e[i],r=t.metadata,this._memoryManager.setDynamicNode({nodeId:t.dynamicNodeId,type:r.type,contentLtm:t.initContentLtm,selfLtm:t.selfLtm,itemNodesId:r.type==="forEach"?r.initRenderDomInfo.map(b):undefined})},t.prototype.clearVisualState=function(n){this._sendInstruction({type:"clear",dynamicNodeId:n.nodeId})},t.prototype.createCollector=function(n){return{collectors:{dynamicBindingCollector:[],elementBindingCollector:[]},createChildDynamicNode:h.createChildDynamicNode,createChildElementNode:h.createChildElementNode,createChildVirtualNode:l.returnThis,createHTMLNode:i.createHTMLNode,createTextNode:i.createTextNode,ltm:n,node:{children:[]},seal:o.noop}},t.prototype.clearLogicalState=function(n){this._memoryManager.ensureContentDisposed(n,this._ltmRemovalCallback)},t.prototype.removeVisualState=function(n){this._sendInstruction({type:"remove",dynamicNodeId:n.nodeId})},t.prototype.sealCollector=function(n,t){var i,u,r,f,e;if(n.seal(),i=n.node,this._postProcessNode){for(u=[],r=0,f=i.children;r<f.length;r++)e=f[r],u.push(this._postProcessNode(e,t));i={children:u}}return{dynamicBindings:n.collectors.dynamicBindingCollector,elementBindings:n.collectors.elementBindingCollector,ltm:n.ltm,node:i}},t.prototype.setContent=function(n,t,i){this._sendInstruction({type:"setContent",dynamicNodeId:i.nodeId,rootNode:n.node},t)},t.prototype.setAttribute=function(n,t,i){this._sendInstruction({type:"setAttribute",elementNodeId:n,attributeName:t,attributeValue:i})},t.prototype.removeAttribute=function(n,t){this._sendInstruction({type:"removeAttribute",elementNodeId:n,attributeName:t})},t.prototype.toggleClass=function(n,t,i){this._sendInstruction({type:"toggleClass",elementNodeId:n,value:{className:t,shouldAdd:i}})},t.prototype.setStyle=function(n,t,i){this._sendInstruction({type:"setStyle",elementNodeId:n,styleName:t,styleValue:i})},t.prototype.addEventListener=function(n,t){var r=t.eventName,i;if(r==="input")throw new Error("".concat(r," is not allowed through this API: addEventListener"));i=this._memoryManager.getAndEnsureElementNode(n);i.eventListeners?i.eventListeners.push(t):i.eventListeners=[t];this._sendInstruction({type:"setEventListener",elementNodeId:n,eventName:t.eventName,options:t.options})},t.prototype.toggleDisplay=function(n,t){this._sendInstruction({type:"toggleDisplay",dynamicNodeId:n.dynamicNodeId,shouldShow:t})},t.prototype.setItems=function(n,t,i,f,o){var ut=this,c=this._memoryManager.getAndEnsureDynamicNode(n),p,l,w,b,s,h;for(e.ensureDynamicNodeOperation(c.type,8),p=d(c.itemNodesId),l=0,w=i;l<w.length;l++)if(h=w[l],h.type==="exist"&&(b=h.metadata.itemId,!p.delete(b)))throw new Error("The ForEachItem node ".concat(b," doesn't exists, state tracking is lost."));p.forEach((function(n){ut.removeLogicalState(n,t)}));var nt=this._createNewState&&this._createNewState(),rt=this.createCollector(c.selfLtm,t),ft=u.collectForEachItemsRenderInfo({aggregators:o.aggregators,attributesHandler:this._handleAttribute,cssMetadataMap:this._cssMetadataMap,hooksState:nt},t,rt,i.filter(y).map(g),f,o),a=this.sealCollector(rt,nt),v=new Array(i.length),tt=new Array(i.length),it=0;for(s=0;s<i.length;++s)h=i[s],y(h)?(v[s]=ft[it],tt[s]=a.node.children[it],++it):(v[s]=h.metadata,tt[s]=h.metadata.itemId);return c.itemNodesId=v.map(k),this._sendInstruction({type:"setItems",css:this.consumePendingCssChanges(),dynamicNodeId:n,items:tt},nt),this.buildNodeLookup(a),r.applyBindings(this,a.elementBindings,a.dynamicBindings),v},t.prototype.focus=function(n,t){this._sendInstruction({type:"focus",elemIndex:t,locatorClass:n})},t.prototype.setLocatorClass=function(n,t){this._sendInstruction({type:"setLocatorClass",elementNodeId:n,locatorClass:t})},t.prototype._makeFullEventData=function(n,t,i){return __assign(__assign({ltm:n},i),this._customEventDataProvider(t))},t.prototype.initTwoWayInputBinding=function(n,t,i){var u=this,r=this._memoryManager.getAndEnsureElementNode(n);this._inputBindingsMgr.ensureNoInputBindingExists(r,t);this._inputBindingsMgr.createInputBinding(r,{type:"twoWay",name:t,onNotification:function(r){u._sendInstruction({type:"twoWayInputBindingCommit",elementNodeId:n,inputBindingName:t,value:i(r)})}});this._sendInstruction({type:"initTwoWayInputBinding",elementNodeId:n,inputBindingName:t})},t.prototype.initValuePushInputBinding=function(n,t){var i=this._memoryManager.getAndEnsureElementNode(n);this._inputBindingsMgr.ensureNoInputBindingExists(i,t);this._inputBindingsMgr.createInputBinding(i,{type:"valuePush",name:t});this._sendInstruction({type:"initValuePushInputBinding",elementNodeId:n,inputBindingName:t})},t.prototype.initValueSubscribeInputBinding=function(n,t,i){var r=this._memoryManager.getAndEnsureElementNode(n);this._inputBindingsMgr.ensureNoInputBindingExists(r,t);this._inputBindingsMgr.createInputBinding(r,{type:"valueSubscribe",name:t,onNotification:i});this._sendInstruction({type:"initValueSubscribeInputBinding",elementNodeId:n,inputBindingName:t})},t.prototype.pushInputValue=function(n,t,i){this._sendInstruction({type:"pushInputValue",elementNodeId:n,inputBindingName:t,value:i})},t.prototype._handleEventNotification=function(n){var i=this._memoryManager.tryGetElementNode(n.elementNodeId),f=i&&i.eventListeners,t,r,u;if(f)for(t=0,r=f;t<r.length;t++)if(u=r[t],u.eventName===n.eventName)try{u.eventHandler(this._makeFullEventData(i.ltm.innerLtmRoot,n.eventName,n.eventData))}catch(e){l.raiseAsyncError(e)}},t.prototype._handleTwoWayInputBindingNotification=function(n){var t=this._memoryManager.tryGetElementNode(n.elementNodeId),i;if(t){i=this._inputBindingsMgr.resolveInputBinding(t,n.inputBindingName,["twoWay"]);i.onNotification(this._makeFullEventData(t.ltm.innerLtmRoot,n.inputBindingName,n.eventData))}},t.prototype._handleValueSubscribeInputBindingNotification=function(n){var t=this._memoryManager.tryGetElementNode(n.elementNodeId),i;if(t){i=this._inputBindingsMgr.resolveInputBinding(t,n.inputBindingName,["valueSubscribe"]);i.onNotification(this._makeFullEventData(t.ltm.innerLtmRoot,n.inputBindingName,n.eventData))}},t.prototype.consumePendingCssChanges=function(){var n={},t=[],i=[];return this._cssMetadataMap.forEach((function(r,u){r.isNew&&(r.isNew=!1,n[r.id]=u);r.oldRefCount===0&&r.newRefCount>0?t.push(r.id):r.oldRefCount>0&&r.newRefCount===0&&i.push(r.id);r.oldRefCount=r.newRefCount})),{newCssDefinition:n,addedCss:t,removedCss:i}},t})(c.RenderAgentBase);t.SandboxModeRenderAgent=v;p=[{name:"onClick",handler:f.onClickHandler},{name:"onFocusIn",handler:f.onFocusInHandler},{name:"onFocusOut",handler:f.onFocusOutHandler},{name:"onKeyDown",handler:f.onKeyDownHandler},{name:"onKeyUp",handler:f.onKeyUpHandler},{name:"onKeyPress",handler:f.onKeyPressHandler},{name:"onMouseEnter",handler:f.onMouseEnterHandler},{name:"onMouseLeave",handler:f.onMouseLeaveHandler},{name:"id",handler:f.idHandler},{name:"disabled",handler:f.disabledHandler},{name:"readonly",handler:f.readonlyHandler},{name:"ref",handler:f.refHandler},{name:"className",handler:f.classNameHandler},{name:"style",handler:f.styleHandler},{name:"visible",handler:f.visibleHandler},{name:"coords",handler:f.coordsHandler},{name:"autoplay",handler:f.autoplayHandler},{name:"controls",handler:f.controlsHandler},{name:"loop",handler:f.loopHandler},{name:"muted",handler:f.mutedHandler},{name:"autofocus",handler:f.autofocusHandler},{name:"formnovalidate",handler:f.formnovalidateHandler},{name:"hidden",handler:f.hiddenHandler},{name:"open",handler:f.openHandler},{name:"novalidate",handler:f.novalidateHandler},{name:"ismap",handler:f.ismapHandler},{name:"required",handler:f.requiredHandler},{name:"value",handler:f.valueHandler},{name:"reversed",handler:f.reversedHandler},{name:"default",handler:f.defaultHandler},{name:"checked",handler:f.checkedHandler},{name:"onValueChange",handler:f.onValueChangeHandler},{name:"onCheckedChange",handler:f.onCheckedChangeHandler},{name:"multiple",handler:f.multipleHandler},]}));
define("FxInternal/Composition/ViewModelComposer",["require","exports","Fx/Composition/Pdl/Blade","FxInternal/Composition/ViewModelAdapters","FxInternal/Composition/MenuBlade","FxHubs/ProvisioningRpc","FxInternal/Weave/SandboxRender","FxInternal/Composition/ViewModel","Weave","FxInternal/Composition/BladeContainer","FxInternal/Composition/Part","FxInternal/Composition/ContainerViewModel","FxInternal/Composition/CompositionViewModel","Weave/SandboxRender/RenderAgent","Fx/Composition/Selectable"],(function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y){function rt(n,t){var r,u,f,e,o,s,i=129;return t?(i|=64,t.templateBlade&&!t.templateBlade.isV2&&(i=453),t.menuBlade&&(i=t.menuBlade.isV2?204:454),t.tabMenuBlade&&(i=205),i|=(((r=t.templateBlade)===null||r===void 0?void 0:r.isV2)||((u=t.menuBlade)===null||u===void 0?void 0:u.isV2))&&4096,i|=((s=(o=(e=(f=t.lenses)===null||f===void 0?void 0:f[0])===null||e===void 0?void 0:e.partInstances)===null||o===void 0?void 0:o[0].inline)===null||s===void 0?void 0:s.partKind)===MsPortalFx.Parts.PartKind._Internal_Az&&512,i|=t.attributes&16&&0,i|=t.attributes&4&&2048):(typeof n=="object"&&(n=n.name),i|=(n===null||n===void 0?void 0:n.toLowerCase().endsWith(".reacttile"))&&1024),i}function b(n,t){return t===void 0&&(t=!0),"Extension/".concat(MsPortalFx.getEnvironmentValue("extensionName"),"/").concat(t?"Blade":"Part","/").concat(n)}function ut(n,t){if(ft(n,t))return n.onInputsSetPromise=et(n,t),!0}function ft(n,t){return!!(t.onInputsSetParameters&&n.updatePartInputValues)}function et(n,t){var i=t.onInputsSetParameters,r={part:i.partFilters,dashboard:i.dashboardFilters};return w.usingState((function(){return n.updatePartInputValues(i.inputs,i.settings,i.traceOptions,i.viewModelName,i.inputsMetadata,i.dontCallViewModelOnInputsSet,r)}),t.telemetryContext)}function yt(n,t){var r=n.container,i;if(n instanceof c.Part)i=r.operations.blockingUi;else if(n instanceof a.CompositionViewModel)i=ko.pureComputed((function(){return n.state()===2}));else throw new Error("Unexpected view model");i.fxOnceAndRun(r,(function(){t()}),(function(n){return!n}))}function ot(n,t,i,r){function l(){k.forEach((function(t){var i,r;t in u&&(i=u[t],t in o?i!==o[t]&&it.error("Property changed non-observably, use an observable instead and update its value: '".concat(t,"' in '").concat(v,"' in '").concat(MsPortalFx.getEnvironmentValue("extensionName"),"'")):(r=n.chrome[t],ko.isObservable(i)?(r(i()),i.subscribe(a,r)):r(i),o[t]=i))}))}var u=n.content(),e,f,s,h,c;if(!(u&&u._msPortalFx_viewModelApiV2))return!1;if(e=function(){return i&&i(n),!0},!ut(n,t))return e();n.chrome=k.reduce((function(n,t){return n[t]=ko.observable(),n}),{});var o={},a=n.container,v=t.locator&&t.locator.name;return f=u._viewModel,f&&(s=Reflect.getOwnMetadata("fx:weavebladeexports",f.constructor.prototype),h=s&&s.commandBar,h&&(u.commandBar=f[h]())),l(),r?(c={_msPortalFx_contentRevealedPromise:Q(),_msPortalFx_viewModelApiV2:!0,_msPortalFxV2ShellApi:u._msPortalFxV2ShellApi,onInputsSet:function(){u.onInputsSet.apply(u,arguments)}},u.hasOwnProperty("commandBar")&&(c.commandBar=u.commandBar),n.content(c)):(n.content(null),yt(n,(function(){l();n.content(u)}))),e()}function pt(n,t,r){var f=r.viewModelType&256,u=f?new h.BladeContainer(t,r):new c.PartContainer(t,r);return u._internal_noLazyRender=s.makeWritableComputation(!1),f&&n.set(i.Container,u),n.set(p.ContainerContract,u).set(p.PartContainerContract,u),u}function wt(n){return n?!!(n._fx&&n._fx.itemType!==undefined):!1}function bt(n){return n?!!(n._fx&&n._fx.doesProvisioning!==undefined):!1}function st(t){return t?Q(MsPortalFx.tryImmediateResolve(MsPortalFx.require(t.module,n),(function(n){return n[t.export]}))):Q()}function ht(n,t,i,u,e){return Q(MsPortalFx.tryImmediateResolve(st(t),(function(t){if(u&&t){var s=r.isWeaveEnabled(t);return w.usingState((function(){return u.set(o.PartContext,nt.Diagnostics.Telemetry.Context.getPartContext()),wt(t)?bt(t)?f.provisioningContextEndpoint.invoke(n,"fx",{}).then((function(n){return{viewModel:new r.ViewModelAdapter(u,t,n),enableWeave:s}})):Q({viewModel:new r.ViewModelAdapter(u,t),enableWeave:s}):Q({viewModel:Reflect.getOwnMetadata("fx:class",t)?u.get(t):new t(u),enableWeave:s})}),i)}return Q({viewModel:e(),enableWeave:!1})})))}function ct(n,t,i,r){var o=t?p.Part.createSelectableViewModel():undefined,f=t?new l.SelectableContainerViewModel({selectable:o}):new l.ContainerViewModel,u=n(f),e=function(n){var t=new a.CompositionViewModel(f,n,r);return i&&i(n),t};return Q.isPromiseAlike(u)?Q(u.then(e)):e(u)}function d(n,t,i,r,u,f,e){return Q(ct((function(u){return n.set(p.PartContainerContract,u).set(p.ContainerContract,u).set(p.CommandContainerContract,u),u.registerForDispose((function(){return n.disposeAsync()})),ht(n.get(FxImpl.Rpc.Client),t,i,n,(function(){return r(u)})).then((function(n){return n.viewModel}))}),u,f,e))}function at(n,t){var i=!n.editScopeType&&(n.templateBlade&&!n.templateBlade.partState&&!n.templateBlade.parameterProvider||n.menuBlade||n.tabMenuBlade||n.frameBlade&&!n.frameBlade.partState),r=(n.inputs||[]).some((function(n){return!t.hasOwnProperty(n)}));return i&&!r}function kt(n,t){var u=t.method,r=n[u],i;typeof r=="function"?(i=Q.fcall((function(){return r.apply(n,t.args)})),i=dt(i,t)):t.ignoreMissingMethod||(i=Q.reject(new Error("EarlyExecTask failed. Missing function ".concat(t.method,"."))));t.keepReturnsIn&&(n["_msPortalFx_earlyExec"+t.keepReturnsIn]=i)}function dt(n,t){var r=t.resourceMenuArgs,i=t.method,u=r&&((i==="getMenuConfig"||i==="getResourceMenuConfig")&&MsPortalFx.identity||i==="getResourceAndMenuConfig"&&function(n){return n&&n.menuConfig});return u?n.then((function(n){var t=u(n);return t?gt(t,r).then((function(){return n}),(function(){return n})):n})):n}function gt(n,t){var e,o,c=t[0],v=t[1],l=function(n){return n.supplyBladeReference?Q(n.supplyBladeReference()):Q(n.supplyBladeReferenceAsync())},f,s,r=c!==undefined&&(c||n.defaultItemId||n.overview&&n.overview.id),i=r&&(MsPortalFx.find(MsPortalFx.mapMany(n.groups||[],(function(n){return n.items||[]})),(function(n){return n&&(n.id===r||!!MsPortalFx.find(n.tabItems,(function(n){return n.id===r})))}))||(((e=n.overview)===null||e===void 0?void 0:e.id)===r||!!MsPortalFx.find((o=n.overview)===null||o===void 0?void 0:o.tabItems,(function(n){return n.id===r})))&&n.overview),u,a,h;return i&&(i.tabItems?(u=i.id===r?MsPortalFx.first(i.tabItems):MsPortalFx.find(i.tabItems,(function(n){return n.id===r})),a=new y.MenuBladeReference("HostedTabMenuBlade",i.id,"HubsExtension",{parameters:{menuId:u.id,menuItems:i.tabItems.map((function(n){return{id:n.id,displayText:n.displayText}}))}}),u&&(u.supplyBladeReference||u.supplyBladeReferenceAsync)&&(s=Promise.resolve(a),f=l(u))):(i.supplyBladeReference||i.supplyBladeReferenceAsync)&&(f=l(i))),h=function(t){n._msPortalFx_bladeReferencePrefetch=t},f||s?MsPortalFx.tryImmediateFinally(f,(function(){h({tabBladeReferencePromise:s,contentBladeReferencePromise:f,menuItemId:r})})):(h(undefined),Q())}function vt(n,t){var i=b(n),r=MsPortalFx.sessionId,u="Blade_".concat(r,"_").concat(t,"_0"),e="Part_".concat(r,"_").concat(t,"_0"),o={id:"".concat(i,"/Lens/TemplateBladeVirtualLens/PartInstance/").concat(n),instanceId:e,bladeId:i,bladeInstanceId:u,onBlade:!0,onStartBoard:!1,bladeCustomized:!1},s={id:i,instanceId:u},f;return FxImpl.TelemetryContext.provideContext((function(){FxImpl.TelemetryContext.provideContext((function(){f=FxImpl.TelemetryContext.getState()}),FxImpl.TelemetryContext.ContextType.Part,o)}),FxImpl.TelemetryContext.ContextType.Blade,s),f}function ni(n,t){var i=n.name,r=n.viewModelName;return"{ Name: Part, Type: [0]".concat(MsPortalFx.getEnvironmentValue("extensionName"),"-[1]").concat(i,"-[2]TemplateBladeVirtualLens-[5]").concat(i,", Id: Part-").concat(i,"-").concat(t," } (ViewModel: ").concat(r||"N/A",")")}function g(n,t){return function(){n.apply(null,arguments);t.apply(null,arguments)}}var it,k,lt;Object.defineProperty(t,"__esModule",{value:!0});t.getEarlyViewModelTelemetryContext=t.canGetViewModelEarly=t.ViewModelProvider=t.composeViewModelWithDi=t.composeViewModel=t.getViewModelClass=t.tryInitializeAsV2ViewModel=t.tryApplyEarlyOnInputsSet=t.getLocatorFriendlyName=t.getViewModelType=t.tryEarlyGetViewModelEndPoint=t.getPartViewModelEndPoint=t.getViewModelEndPoint=t.getViewModelsDefinition=void 0;var nt=MsPortalFx.Base,p=MsPortalFx.ViewModels,w=FxImpl.TelemetryContext,tt=FxImpl.Constants.RpcMethods;t.getViewModelsDefinition=new e.WeaveChannelDefinition(tt.viewModels);t.getViewModelEndPoint=t.getViewModelsDefinition;t.getPartViewModelEndPoint=t.getViewModelsDefinition;t.tryEarlyGetViewModelEndPoint=new e.WeaveChannelDefinition(tt.tryEarlyGetViewModel);it=nt.Diagnostics.createLog(n);t.getViewModelType=rt;t.getLocatorFriendlyName=b;t.tryApplyEarlyOnInputsSet=ut;k=["title","subtitle","icon","statusBar","menuContent","_msPortalFxV2ShellApi",];t.tryInitializeAsV2ViewModel=ot;t.getViewModelClass=st;t.composeViewModel=ct;t.composeViewModelWithDi=d;lt=(function(){function n(n,t,i,r){this._sdkEnv=n;this._entryPoint=t;this._rpcClient=i;this._waitForExtensionIdle=r}return n.prototype._v1EarlyOnInputsSet=function(n,t,i){var r,u,f;ft(n,t)&&(r=Q.defer(),n.onInputsSetPromise=r.promise);i&&i(n);u=n.content();f=t.partSize;typeof f=="number"&&u&&ko.isObservable(u.size)&&u.size(f);r&&r.resolve(et(n,t))},n.prototype.getObservable=function(n,t,i,r){var u=this,e=i.telemetryContext,f=w.usingState((function(){return i.type&128?u._getPartViewModel(n,t,i,r):u._getViewModel(n,i,r)}),e);if(!f)throw new Error("Cannot provide the required object.");return f},n.prototype.tryEarlyGetViewModel=function(n,t,i,r,u,f){return at(u,i)?this.getObservable(n,f,{locator:u.viewModelLocator,type:rt(t,u),contentSize:null,flags:2|(r.partialFlags||0),menuId:r&&r.menuId,onInputsSetParameters:{inputs:i,traceOptions:null,viewModelName:ni(u,r.sequenceNumber),settings:undefined,inputsMetadata:undefined,dontCallViewModelOnInputsSet:undefined,dashboardFilters:undefined,partFilters:undefined},telemetryContext:vt(t,r.sequenceNumber)}):Q(null)},n.prototype.getGalleryServiceViewModel=function(n){var r=this,t=this._sdkEnv.marketplaceViewModelLocator,i;return t?(i=d(n,t,null,(function(n){return r._entryPoint.getViewModel(t.name,n)}),!1),Q(i).then((function(n){return n.content=ko.unwrap(n.content),n}))):Q()},n.prototype._getViewModel=function(n,t,i){var r=this,u=t.earlyExecTask&&function(n){kt(n,t.earlyExecTask)};return d(n,t.locator,t.telemetryContext,(function(n){return r._entryPoint.getViewModel(t.locator.name,n)}),t.createSelectable,u).then((function(n){return r._v1EarlyOnInputsSet(n,t,i),n}))},n.prototype._downloadBladeBundles=function(n,t){if(n){var i=n,r=i.extensionName,u=i.bladeName,f=t.findIndex((function(n){return r===n}))>=0&&!u.toLowerCase().endsWith(".ReactView".toLowerCase());f&&FxImpl.Extension.downloadBladeBundlesEndPoint.invoke(this._rpcClient,r,u)}},n.prototype._getPartViewModel=function(n,t,i,r){var s=this,lt=i.locator.name,f=a.createFrameworkPartViewModel(),o,it,d,nt,rt,ut,l,y,st,tt;if(f.getViewModelStart=Date.now(),o=pt(n,f,{selectable:i.createSelectable?p.Part.createSelectableViewModel():undefined,location:i.partLocation,flags:i.flags,viewModelType:i.type}),i.contentSize&&(o.height(i.contentSize.height),o.width(i.contentSize.width)),(i.type&454||i.type&204)&&~i.flags&8&&(d=Q.defer(),nt=Q.defer(),u.setInitialMenuItem(o,{id:i.menuId,setBladeReferencePromise:function(n,t,i){var r=Promise.all([n,t]).then((function(n){var t=n[0],r=n[1];(t||r)&&i&&(s._downloadBladeBundles(t,[i,"HubsExtension"]),s._downloadBladeBundles(r,[i]));d.resolve(t);nt.resolve(r)}),(function(n){d.reject(n);nt.reject(n)}));return it=r,r.then((function(){return Q.delay(0)}))}}),f.initialMenuHeaderBlade=d.promise,f.initialMenuContentBlade=nt.promise),i.type&64&&(tt=function(){f.onInitializeAsyncTime(fx.getTimestamp()-st)},l=function(){st=f.onInitializeStart=fx.getTimestamp()},y=function(n){n.onInputsSetPromise&&n.onInputsSetPromise.then(tt)},FxImpl.features.isNativePerf)){var ct=w.getCurrentValue(w.ContextType.Blade),at=ct&&ct.id||"<unknown>",vt=b(at).toLowerCase(),ft=function(n){return"".concat(n,": ").concat(vt)},et=ft("ExtInstantiateBladeClass"),k=ft("ExtBladeOnInitializeSync"),yt=ft("ExtBladeOnInitializeAsync");rt=function(){performance.mark(et)};ut=function(){performance.measure(et,et)};l=g(l,(function(){performance.mark(k);f.onInitializeStartMark=k}));y=g(y,(function(){performance.measure(k,k)}));tt=g(tt,(function(){performance.measure(yt,k)}))}return rt&&rt(),ht(this._rpcClient,i.locator,i.telemetryContext,n,(function(){return s._entryPoint.getPartViewModel(lt,o)})).then((function(u){var w=u.viewModel,k=u.enableWeave,b,d,a,g;if(ut&&ut(),b=i.collapsed,MsPortalFx.isNullOrUndefined(b)||w.collapsed(b),i.type&256&&h.bindActionBar(o,w),d="Extension/".concat(FxImpl.postBootEnv.extensionName,"/PartType/").concat(i.locator.name),a=new c.Part(f,o,w,null,d,i.type,s._waitForExtensionIdle),a.container.registerForDispose((function(){n.disposeAsync()})),l&&l(),ot(a,i,r,!!k)||s._v1EarlyOnInputsSet(a,i,r),y&&y(a),t&&k)if(["SamplesExtension","HubsExtension","Microsoft_AAD_IAM","Microsoft_AAD_RegisteredApps","Microsoft_Azure_ContainerService","Microsoft_Azure_Network","Microsoft_Azure_Policy","Microsoft_Azure_Search","Microsoft_Azure_SentinelUS","Microsoft_Intune_DeviceSettings","SqlAzureExtension","WebsitesExtension",].indexOf(t.destWindowId)>=0)g=e.createSandboxModeRenderAgent(v.SandboxModeRenderAgent,t.port,w.weave(),{diContainer:n,extensionName:t.destWindowId,noLazyRender:n.get(p.ContainerContract)._internal_noLazyRender,partName:i.locator.name,hostedInExtension:!0}),t.ltm.registerForDispose(g);else throw new Error("TemplateBlade2 is not supported for your extension: "+t.destWindowId);return a})).then((function(n){return it?it.then((function(){return n})):n}))},n})();t.ViewModelProvider=lt;t.canGetViewModelEarly=at;t.getEarlyViewModelTelemetryContext=vt}));
define("FxInternal/Controls/Essentials",["require","exports","Fx/ResourceManagement","FxHubs/ArmClient","FxInternal/Controls/Base/Base","FxInternal"],(function(n,t,i,r,u,f){function e(n){return n?Object.keys(n).map((function(t){return{key:t,value:n[t]}})):null}function y(n){return!!n.menu}function b(n){var f=n.container,a=n.options,r=n.bladeOpenType,t=n.bladeOpenOptions,v=n.newTags,u=n.tagsPromise,s=function(n){if(a.onBladeClose)a.onBladeClose(n)},i;if(a.onBladeOpen)a.onBladeOpen(r);return(i=Object.getOwnPropertyNames(t),~i.indexOf("key")&&~i.indexOf("value"))?f.openBladeAsync(Q(new h({tagName:t.key,tagValue:t.value},function(){s(r)}))):~i.indexOf("tag")?f.openContextPaneAsync(Q(new c({resource:t.resourceId,tagName:t.tag},function(n,i){if(s(r),n===2&&i.update){var f=new MsPortalFx.Map;f.set(t.resourceId,JSON.parse(i.newTagsSerialized));void MsPortalFx.require("FxHubs/ArmHelpers/ArmTags").then((function(n){return n.handleTagsContextPaneResults(f).then((function(n){if(n&&!n.armErrorsMap.get(t.resourceId)){var i=e(n.newTagsMap.get(t.resourceId));u&&u.resolve(i);v&&v(i)}else u&&u.resolve()}))}))}else u&&u.resolve()}))):~i.indexOf("moveType")?f.openBladeAsync(Q(l.mapDynamicBladeSelectionToBladeReference(w(t.resourceId,t.moveType).bladeSelection,(function(){s(r)})))):~i.indexOf("subscriptionId")&&~i.indexOf("sourceRegion")?f.openBlade(new o("RmAddResourceWizardBlade","Microsoft_Azure_ResourceMove",{parameters:{subscriptionId:t.subscriptionId,resourceIds:[t.resourceId],sourceRegion:t.sourceRegion},onClosed:function(){s(r)}})):f.openBladeAsync(l.mapResourceIdToBladeReference(t.resourceId,(function(){s(r)})))}function s(n,t,u){var f=i.ArmId.parse(t,!0),o,s;return f.kind===6||f.kind===3||f.kind===8?(o={resourceGroupName:f.resourceGroup,resourceGroupId:null,subscriptionName:null,subscriptionId:f.subscription,location:null,tags:null,moveOptions:{resourceGroup:!1,subscription:!1,location:!1}},Q(a.Promises.cancelOnDispose(n,Q(r.getResource(t,"EssentialsControl-".concat(f.resourceType)).then((function(n){return MsPortalFx.extend(o,{location:n.locationString,resourceGroupId:n.resourceGroup,tags:u&&e(n.tags),zones:n.zones}),v(o.subscriptionId)})).then((function(n){return MsPortalFx.extend(o,{subscriptionName:n.displayName,moveOptions:{resourceGroup:!0,subscription:!0,location:!0}})})))))):f.kind===4?(s={resourceGroupName:f.resourceGroup,resourceGroupId:null,subscriptionName:null,subscriptionId:f.subscription,location:null,tags:null,moveOptions:{resourceGroup:!1,subscription:!1,location:!1}},Q(a.Promises.cancelOnDispose(n,Q(r.getResourceGroup(t,"EssentialsControl-group").then((function(n){return MsPortalFx.extend(s,{location:n.locationString,resourceGroupId:n.id,tags:u&&e(n.tags)}),v(s.subscriptionId)})).then((function(n){return MsPortalFx.extend(s,{subscriptionName:n.displayName,moveOptions:{resourceGroup:!1,subscription:!0,location:!1}})})))))):void 0}var p,h,c;Object.defineProperty(t,"__esModule",{value:!0});t.EditTagsBladeReference=t.TagResourcesBladeReference=t.ViewModel=t.getEssentialsResourceInfo=t.convertStringMapToTagInfoArray=void 0;var l=MsPortalFx.Assets,a=MsPortalFx.Base,o=FxImpl.Composition.Selectable.PdlBladeReference,w=MsPortalFx.Azure.ResourceManager.getMoveResourceBlade,v=MsPortalFx.Azure.getSubscriptionInfo;t.convertStringMapToTagInfoArray=e;t.getEssentialsResourceInfo=s;p=(function(n){function t(t,i){var r=n.call(this,t)||this,u;return r._container=t,r.controlType=120,u=i.resourceId,r.optionType=u?i.additionalRight?1:2:3,r.options=i,r.disabled=ko.observable(!1),r.resource=MsPortalFx.initObservable(i.resource,null),r.expanded=ko.isObservable(i.expanded)?i.expanded:ko.observable(!0),r.status=ko.observable(null),r.dynamicLeftArray=ko.observableArray([]),r.dynamicRightArray=ko.observableArray([]),r.newTags=ko.observableArray(null),r.containerHasMenu=y(t),!u||i.resource||i.skipResourceFetching||(r._resourceInfo=s(t,u,!0)),r}return __extends(t,n),t.prototype.addDynamicProperties=function(n,t){var i=this.dynamicLeftArray,r=this.dynamicRightArray;i(i().concat(n));r(r().concat(t))},t.prototype.modifyStatus=function(n){this.status(n)},t.prototype.openBlade=function(n,t){return Q(b({container:this._container,options:this.options,bladeOpenType:n,bladeOpenOptions:t,newTags:this.newTags}))},t.prototype.getResourceInfo=function(n){return this._resourceInfo?this._resourceInfo.then((function(t){return n?t:f.extend2(t,{tags:null})})):s(this._container,this.options.resourceId,n)},t.prototype.openBladeInMenuContext=function(n){y(this._container)&&void this._container.menu.openBlade(n)},t})(u.ViewModel);t.ViewModel=p;h=(function(n){function t(t,i){return n.call(this,MsPortalFx.isFeatureEnabled("artbrowse")?"BrowseResourcesWithTag":"ResourcesWithTag.ReactView","HubsExtension",{onClosed:i,parameters:t})||this}return __extends(t,n),t})(o);t.TagResourcesBladeReference=h;c=(function(n){function t(t,i){return n.call(this,"EditTagsBlade","HubsExtension",{onClosed:i,parameters:t})||this}return __extends(t,n),t})(o);t.EditTagsBladeReference=c}));
define("FxInternal/Css",["require","exports"],(function(n,t){function u(n,t,i){var r=document.createElement(i||"style");return r.className=n,t.appendChild(r)}function e(n){return/Less\/(.*\.css)|$/.exec(n)[1]||n}function o(){for(var t,a=[],n=0;n<arguments.length;n++)a[n]=arguments[n];for(t=0;t<arguments.length;t++){var o=arguments[t],f=o.moduleId,s=o.css;if(!r[f]){r[f]=!0;var h=e(f),c=i.getElementsByClassName(h)[0]||u(h,i),l=c.styleSheet;l?l.cssText=s:c.appendChild(document.createTextNode(s))}}}function s(){for(var t,f,u,h=[],n=0;n<arguments.length;n++)h[n]=arguments[n];for(t=0;t<arguments.length;t++)if(f=arguments[t],u=f.moduleId,r[u]){r[u]=!1;var c=e(u),o=i.getElementsByClassName(c)[0],s=o.styleSheet;s?s.cssText="":o.appendChild(document.createTextNode(""))}}var f,i,r;Object.defineProperty(t,"__esModule",{value:!0});t.unInjectCss=t.injectCss=t.cssFilesOrder=void 0;f=["Viva.Controls/Controls/Viva.Balloon.css","Viva.Controls/Controls/Viva.DockedBalloon.css","Viva.Controls/Controls/Viva.Pager.css","Viva.Controls/Controls/Viva.SingleSetting.css","Viva.Controls/Controls/Viva.TextStream.css","Viva.Controls/Controls/Base/Viva.Base.css","Viva.Controls/Controls/Base/Viva.ValidationPlacements.css","Viva.Controls/Controls/Forms/Viva.Button.css","Viva.Controls/Controls/Forms/Viva.CheckBox.css","Viva.Controls/Controls/Forms/Viva.DatePanel.css","Viva.Controls/Controls/Forms/Viva.DatePicker.css","Viva.Controls/Controls/Forms/Viva.DateTimePicker.css","Viva.Controls/Controls/Forms/Viva.DateTimeRangePicker.css","Viva.Controls/Controls/Forms/Viva.DropDown.css","Viva.Controls/Controls/Forms/Viva.EditableCombo.css","Viva.Controls/Controls/Forms/Viva.FilterCombo.css","Viva.Controls/Controls/Forms/Viva.MultiLineTextBox.css","Viva.Controls/Controls/Forms/Viva.MultiSelectDropDown.css","Viva.Controls/Controls/Forms/Viva.NumericTextBox.css","Viva.Controls/Controls/Forms/Viva.OptionPicker.css","Viva.Controls/Controls/Forms/Viva.Password.css","Viva.Controls/Controls/Forms/Viva.SearchBox.css","Viva.Controls/Controls/Forms/Viva.Slider.css","Viva.Controls/Controls/Forms/Viva.TextBox.css","Viva.Controls/Controls/Forms/Viva.TextInput.css","Viva.Controls/Controls/Forms/Viva.TimePicker.css","Viva.Controls/Controls/Lists/Viva.Grid1.ContextMenuShortcut.css","Viva.Controls/Controls/Lists/Viva.Grid1.EditableRow.css","Viva.Controls/Controls/Lists/Viva.Grid1.Filterable.css","Viva.Controls/Controls/Lists/Viva.Grid1.FocusableRow.css","Viva.Controls/Controls/Lists/Viva.Grid1.Formatters.css","Viva.Controls/Controls/Lists/Viva.Grid1.Groupable.css","Viva.Controls/Controls/Lists/Viva.Grid1.Hierarchical.css","Viva.Controls/Controls/Lists/Viva.Grid1.css","Viva.Controls/Controls/Lists/Viva.Grid1.Pageable.css","Viva.Controls/Controls/Lists/Viva.Grid1.PercentFormatter.css","Viva.Controls/Controls/Lists/Viva.Grid1.ReorderRow.css","Viva.Controls/Controls/Lists/Viva.Grid1.ResizableColumn.css","Viva.Controls/Controls/Lists/Viva.Grid1.Scrollable.css","Viva.Controls/Controls/Lists/Viva.Grid1.SelectableRowActivate.css","Viva.Controls/Controls/Lists/Viva.Grid1.SelectableRow.css","Viva.Controls/Controls/Lists/Viva.Grid1.SortableColumn.css","Viva.Controls/Controls/Lists/Viva.ListView1.css","Viva.Controls/Controls/Lists/Viva.ListView1.FocusableExtension.css","Viva.Controls/Controls/Lists/Viva.ListView1.GroupableExtension.css","Viva.Controls/Controls/Lists/Viva.ListView1.css","Viva.Controls/Controls/Lists/Viva.ListView1.SelectableExtension.css","Viva.Controls/Controls/Lists/Viva.TreeView.FocusableExtension.css","Viva.Controls/Controls/Lists/Viva.TreeView.css","Viva.Controls/Controls/Lists/Viva.TreeView.OnDemandLoadableExtension.css","Viva.Controls/Controls/Lists/Viva.TreeView.LoadByContinuationToken.css","Viva.Controls/Controls/Visualization/Viva.Chart.css","Viva.Controls/Controls/Visualization/Viva.ChartBase.css","Viva.Controls/Controls/Visualization/Viva.Donut.css","Viva.Controls/Controls/Visualization/Viva.Gauge.css","Viva.Controls/Controls/Visualization/Graph.css","Viva.Controls/Controls/Visualization/Graph.Skins.css","Viva.Controls/Controls/Visualization/Viva.Legend.css","Viva.Controls/Controls/Visualization/Viva.Metrics.css","Viva.Controls/Controls/Visualization/Viva.QuotaGauge.css","Viva.Controls/Controls/Visualization/Viva.SvgBase.css","Viva.Controls/Controls/Visualization/Viva.UsageGauge.css","MsPortalImpl/Parts/Parts.Chart.css","MsPortalImpl/Parts/Parts.Collection.css","MsPortalImpl/Parts/Parts.CollectionSummary.css","MsPortalImpl/Parts/Parts.Donut.css","MsPortalImpl/Parts/Parts.fileSummary.css","MsPortalImpl/Parts/Parts.InfoList.css","MsPortalImpl/Parts/Parts.ButtonPart.css","MsPortalImpl/Parts/Parts.Asset.css","MsPortalImpl/Parts/Parts.QuickStart.css","MsPortalImpl/Parts/Parts.QuotaGauge.css","MsPortalImpl/Parts/Parts.ResourceSummary.css","MsPortalImpl/Parts/Parts.SingleValueGauge.css","MsPortalImpl/Parts/Parts.Properties.css","MsPortalImpl/Parts/Parts.SpecPicker.css","MsPortalImpl/Parts/Parts.PricingTier.css","MsPortalImpl/Controls/ActionBars/Controls.ActionBarBase.css","MsPortalImpl/Controls/ActionBars/Controls.CreateActionBar.css","MsPortalImpl/Controls/ActionBars/Controls.GenericActionBar.css","MsPortalImpl/Controls/ActionBars/Controls.PickerActionBar.css","MsPortalImpl/Controls/Controls.Notice.css","MsPortalImpl/Controls/Controls.HeroBanner.css","MsPortalImpl/Controls/Controls.HotSpot.css","MsPortalImpl/Controls/Controls.FileDownloadButton.css","MsPortalImpl/Controls/Controls.PickerV3.css","MsPortalImpl/Controls/Controls.Wizard.css","MsPortalImpl/Controls/Controls.InfoBox.css","MsPortalImpl/Controls/Forms/AsyncFileUpload.css","MsPortalImpl.Controls/Controls/Base.css","MsPortalImpl.Controls/Controls/Console.css","MsPortalImpl.Controls/Controls/IFrame.css","MsPortalImpl.Controls/Controls/DockedBalloon.css","MsPortalImpl.Controls/Controls/LogStream.css","MsPortalImpl.Controls/Controls/Documents/DiscussionThread.css","MsPortalImpl.Controls/Controls/Documents/Editor.DiscussionExtension.css","MsPortalImpl.Controls/Controls/Documents/Editor.css","MsPortalImpl.Controls/Controls/Forms/Attachment.css","MsPortalImpl.Controls/Controls/Forms/CopyableLabel.css","MsPortalImpl.Controls/Controls/Forms/History.css","MsPortalImpl.Controls/Controls/Lists/Grid1.Formatters.css","MsPortalImpl.Controls/Controls/Lists/Grid1.SelectableRow.css","MsPortalImpl.Controls/Controls/Lists/ListView.css","MsPortalImpl.Controls/Controls/Lists/ListView1.css","MsPortalImpl.Controls/Controls/Lists/Menu.css","MsPortalImpl.Controls/Controls/Markdown.css","MsPortalImpl.Controls/Controls/PartPinner.css","MsPortalImpl.Controls/Controls/SearchBox.css","MsPortalImpl.Controls/Controls/SimpleButton.css","MsPortalImpl.Controls/Controls/SpecComparisonTable.css","MsPortalImpl.Controls/Controls/TextBlock.css","MsPortalImpl.Controls/Controls/Toolbars/Toolbar.css","MsPortalImpl.Controls/Controls/Visualization/Chart.css","MsPortalImpl.Controls/Controls/Visualization/ChartColor.css","MsPortalImpl.Controls/Controls/Visualization/PairedTimeline.css","MsPortalImpl.Controls/Controls/Visualization/PairedTimelineBadges.css","MsPortalImpl.Controls/Controls/Visualization/ProgressBar.css","MsPortalImpl.Controls/Controls/Visualization/RangeSelection.css","MsPortalImpl.Controls/Definitions/Common.css","MsPortalImpl.Controls/Fields/DayPicker.css","MsPortalImpl.Controls/Fields/DurationPicker.css","MsPortalImpl.Controls/Fields/Fields.css","FxInternal/WeaveControls/Section.Component.css","MsPortalImpl.Controls/Fields/Selector.css","MsPortalImpl.Controls/Fields/CreatorAndSelector.css","MsPortalImpl/Widgets/Widgets.Blade.css","MsPortalImpl/Themes/Themes.Reset.css","MsPortalImpl/Themes/Themes.Blue.css","MsPortalImpl/Themes/Themes.Dark.css","MsPortalImpl/Themes/Themes.Light.css","MsPortalImpl/Themes/Themes.Azure.css","MsPortalImpl/Themes/Themes.DarkMode.css","MsPortalImpl/Themes/Themes.LightMode.css","MsPortalImpl/Themes/Themes.Universal.css","MsPortalImpl/Themes/Theme2.css","MsPortalImpl/Themes/Theme2.Colors.HighContrastMode.LightMode.css","MsPortalImpl/Themes/Theme2.Colors.HighContrastMode.DarkMode.css","MsPortalImpl/Themes/Theme2.HighContrastMode.css",];i=u("fx-ordered-styles",document.head,"div");f.forEach((function(n){u(n,i)}));r=Object.create(null);t.injectCss=o;t.unInjectCss=s}));
define("FxInternal/Dashboard/DashboardEndpoints",["require","exports"],(function(n,t){Object.defineProperty(t,"__esModule",{value:!0});t.PortalDashboard=void 0;var r=FxImpl.Rpc,i=r.FuncEndPointDefinition,u;(function(n){n.createDashboard=new i("Shell.createDashboard");n.deleteDashboards=new i("Shell.deleteDashboards");n.getArmDashboardJson=new i("Shell.getArmDashboardJson");n.getPrivateDashboards=new i("Shell.getPrivateDashboards");n.getRecentDashboards=new i("Shell.getRecentDashboards")})(u=t.PortalDashboard||(t.PortalDashboard={}))}));
define("FxInternal/DirectoryManagement",["require","exports"],(function(n,t){Object.defineProperty(t,"__esModule",{value:!0});t.saveUserDirectorySettingsEndPoint=t.getUserDirectorySettingsEndPoint=void 0;var i=FxImpl.Rpc.FuncEndPointDefinition;t.getUserDirectorySettingsEndPoint=new i("getUserDirectorySettings");t.saveUserDirectorySettingsEndPoint=new i("saveUserDirectorySettings")}));
define("FxInternal/Environment",["require","exports","Fx/DependencyInjection"],(function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});t.Environment=void 0;var r=(function(){function t(){}return __decorate([__metadata("fx:diagnostics",[n,"Environment"]),i.Value()],t)})();t.Environment=r}));
define("FxInternal/ErrorHandling",["require","exports","Fx/Errors","FxInternal","Fx/DependencyInjectionCore","Fx/Diagnostics"],(function(n,t,i,r,u,f){function g(n){for(var t,i,f,u,e=[],r=2;r<arguments.length;r++)e[r-2]=arguments[r];v++;t=l();v<200?t.error.apply(t,arguments):(i=((n&&n.message||n)+"").slice(0,50),f=(h[i]=h[i]||0)%1e3,f===0&&(u=[].slice.call(arguments),u[1]=4,u.push("NoisyCount:"+h[i]),t.error.apply(t,u)),h[i]++)}function y(n,t){var i=2,e=n&&n.errorLevel,u,f;return r.isNullOrUndefined(e)?t&&(u=t(n),r.isNullOrUndefined(u)||(i=u)):i=e,f=n&&n._sourceErrorLevel,r.isNullOrUndefined(f)||(i=f),i}function nt(n){var t=y(n,(function(n){var t=n&&n.stack;if(!t)return 0})),i;t===2?e(n,1):t===1&&(i=l(),i.warning(n,1))}function b(n){try{return typeof n=="function"&&n()}catch(t){}}function tt(n,t,i){e=a;w=i;p=n}function k(n,t){var r=n.error,f={message:n.message,fileName:n.filename,lineNumber:n.lineno,columnNumber:n.colno,additionalInfo:b(w)},u,o,s;r?(u=void 0,i.isInstanceOfErrorType(r,i.FxError)?(o=y(r),o===2?u=!0:o===1&&(s=l(),s.warning(r,2,f))):r.stack&&/http/.test(r.stack)&&(u=!0),u&&e(r,2,f)):t&&e(t,3,f);t=null;b(p)}function it(n,t){try{var i=new XMLHttpRequest;i.onerror=function(){t(i.status,i.responseText,i.statusText)};i.onload=function(){t(i.status,i.status===200?"":i.responseText,i.statusText)};i.open("GET",n,!0);i.send()}catch(r){t(undefined,undefined)}}function rt(n,t){Error.stackTraceLimit&&(Error.stackTraceLimit=r.isDiagnosticsEnabled?100:25);t&&(e=t)}var c,a,e,p,w,o;Object.defineProperty(t,"__esModule",{value:!0});t.preinitialize=t.getStatusCode=t.handleError=t.initialize=void 0;var s=window,l=(function(){var n;return function(){return n||(n=u.container.get(f.Logging).createLog("MsPortalFx.Base.Diagnostics.ErrorReporter")),n}})(),d="onunhandledrejection"in window,v=0,h={};a=g;e=a;t.initialize=tt;t.handleError=k;o=s.fx;((c=o===null||o===void 0?void 0:o.internalEnv)===null||c===void 0?void 0:c.isShell)&&o.handleError&&s.removeEventListener("error",o.handleError);s.addEventListener("error",k);d&&s.addEventListener("unhandledrejection",(function(n){nt(n.reason);n.preventDefault()}));t.getStatusCode=it;t.preinitialize=rt}));
define("FxInternal/ErrorSerialization",["require","exports","Fx/Errors"],(function(n,t,i){function u(n,t){var i=v(n);return t&&(i.blade=t),i}function v(n){try{switch(y(n)){case"GenericError":return p(n);case"GenericErrorWithStack":return w(n);case"FailedModuleError":return b(n);case"FxError":return f(n);case"FxErrorWithInnerErrors":return k(n);case"FxErrorWithJqXhr":return d(n);case"FxErrorWithErrorThrown":return g(n);case"XMLHttpRequestLike":return l(n);case"ArmErrorResponse":return e(n);case"Unhandled":default:return{schemaVersion:r,extractionType:"Unhandled"}}}catch(t){return{schemaVersion:r,extractionType:"ExtractionException",name:t===null||t===void 0?void 0:t.name,message:t===null||t===void 0?void 0:t.message,stack:t===null||t===void 0?void 0:t.stack}}}function y(n){var t="Unhandled";return h(n)?(t="FxError",ut(n)?t="FxErrorWithInnerErrors":tt(n)?t="FxErrorWithJqXhr":it(n)&&(t="FxErrorWithErrorThrown")):s(n)?(t="GenericError",a(n)&&(t="GenericErrorWithStack",nt(n)&&(t="FailedModuleError"))):c(n)?t="XMLHttpRequestLike":o(n)&&(t="ArmErrorResponse"),t}function p(n){return{schemaVersion:r,extractionType:"GenericError",message:n.message,name:n.name}}function w(n){return{schemaVersion:r,extractionType:"GenericErrorWithStack",message:n.message,name:n.name,stack:n.stack}}function b(n){return{schemaVersion:r,extractionType:"FailedModuleError",message:n.message,name:n.name,stack:n.stack,data:n.data}}function f(n){var t={schemaVersion:r,extractionType:"FxError",message:n.message,name:n.name?"".concat(n.type,"/").concat(n.name):n.type,stack:n.stack,data:n.data},i;return n.errorData&&(i=u(n.errorData),i.extractionType!=="Unhandled"&&(i.innerError=t,t=i,t.extractionType="FxErrorWithErrorData")),o(n.message)&&(i=e(n.message),t=__assign(__assign(__assign({},t),i),{extractionType:"FxErrorWithArmErrorResponse"})),t}function k(n){var i=f(n),t;return i.extractionType="FxErrorWithInnerErrors",t=u(n.innerErrors[0]),i.innerError=t.innerError,t.innerError=i,t}function d(n){var t=f(n),i=l(n.jqXHR);return __assign(__assign(__assign({},t),i),{extractionType:"FxErrorWithJqXhr"})}function g(n){var i=f(n),t;return i.extractionType="FxErrorWithErrorThrown",t=u(n.errorThrown.error),i.innerError=t.innerError,t.innerError=i,t}function l(n){return{schemaVersion:r,extractionType:"XMLHttpRequestLike",message:n.responseText||n.statusText,name:n.statusText,httpStatusCode:n.status,data:n.uri?{uri:n.uri}:undefined}}function e(n){return n.error?e(n.error):n.innererror?e(n.innererror):{schemaVersion:r,extractionType:"ArmErrorResponse",message:n.message,name:n.code}}function s(n){return n instanceof Error||typeof(n===null||n===void 0?void 0:n.name)=="string"&&typeof(n===null||n===void 0?void 0:n.message)=="string"}function h(n){return i.isInstanceOfErrorType(n,i.FxError)}function nt(n){return s(n)&&a(n)&&rt(n)}function tt(n){return h(n)&&c(n.jqXHR)}function it(n){var t,i;return h(n)&&typeof(n===null||n===void 0?void 0:n.errorThrown)=="object"&&Object.keys(n.errorThrown).length!==0&&typeof((t=n===null||n===void 0?void 0:n.errorThrown)===null||t===void 0?void 0:t.error)=="object"&&typeof((i=n===null||n===void 0?void 0:n.errorThrown)===null||i===void 0?void 0:i.responseText)=="string"}function c(n){return typeof n=="object"&&typeof(n===null||n===void 0?void 0:n.status)=="number"&&typeof(n===null||n===void 0?void 0:n.statusText)=="string"}function o(n){return(n===null||n===void 0?void 0:n.error)?o(n.error):typeof(n===null||n===void 0?void 0:n.code)=="string"&&typeof(n===null||n===void 0?void 0:n.message)=="string"}function rt(n){return typeof(n===null||n===void 0?void 0:n.data)=="object"}function a(n){return typeof(n===null||n===void 0?void 0:n.stack)=="string"}function ut(n){var t;return((t=n===null||n===void 0?void 0:n.innerErrors)===null||t===void 0?void 0:t.constructor)===Array&&n.innerErrors.length!==0}Object.defineProperty(t,"__esModule",{value:!0});t.isArmErrorResponse=t.isXMLHttpRequestLike=t.isError=t.extractErrorDetails=void 0;var r=1;t.extractErrorDetails=u;t.isError=s;t.isXMLHttpRequestLike=c;t.isArmErrorResponse=o}));
define("FxInternal/Events",["require","exports","Fx","Fx/DependencyInjection","FxInternal/Environment"],(function(n,t,i,r,u){function o(n){return f[n]||(f[n]=Q.defer())}function s(n,t){o(n).resolve(t)}function h(){return r.container.get(e)}var f,e,c;Object.defineProperty(t,"__esModule",{value:!0});t.EventHandler=t.getRegistry=t.EventHandlerRegistry=t.registerEventHandler=void 0;f=Object.create(null);t.registerEventHandler=s;e=(function(){function t(n,t){var r=this;this._diContainer=n;this._eventToHandlerMap=Object.create(null);i.forEachKey(t.sdkEnv.eventHandlers||{},(function(t,u){u.forEach((function(u){r._getRecord(u).handler=function(){return Q(i.require(t)).then((function(){return n.getAsync(o(u).promise)}))};r.onEventHandlerRegistered(u,null)}))}))}return t.prototype.registerEventHandler=function(n,t){var i=this._getRecord(n);if(i.handler){if(i.handlerObj!==t)throw new Error("Cannot register event handler '".concat(n,"' because it's already registered."));}else i.handlerObj=t,i.handler=function(){return Q(t)};this.onEventHandlerRegistered(n,null)},t.prototype.onEventHandlerRegistered=function(n,t){var r=this,i=this._getRecord(n);return t&&(i.onRegisteredCallback=t),i.onRegisteredCallback&&i.handler&&i.onRegisteredCallback().then((function(n){n(i.handler,r._diContainer)})),this},t.prototype._getRecord=function(n){return this._eventToHandlerMap[n]||(this._eventToHandlerMap[n]={})},__decorate([__metadata("fx:diagnostics",[n,"EventHandlerRegistry"]),r.Class(),__metadata("design:paramtypes",[r.Container,u.Environment])],t)})();t.EventHandlerRegistry=e;t.getRegistry=h,(function(n){function t(n){return function(t){s(n,t)}}n.Decorator=t})(c=t.EventHandler||(t.EventHandler={}))}));
define("FxInternal/RpcEndPoints",["require","exports","FxInternal/AsyncLoader","FxInternal/Events","FxInternal/Rpc"],(function(n,t,i,r,u){function f(n){n().then((function(n){return n.handleLoadEvent()}))}function e(n){n().then((function(n){return n.registerEndPoints()}))}function o(n){n.get(r.EventHandlerRegistry).onEventHandlerRegistered("extension",(function(){return Q(f)})).onEventHandlerRegistered("rpc",(function(){return Q(e)})).onEventHandlerRegistered("fileUploadSasUri",i.getFactory("FxInternal/Controls/FileUpload","setupRenewSasUri")).onEventHandlerRegistered("fileUploadAuthorization",i.getFactory("FxInternal/Controls/FileUpload","setupRenewAuthorization")).onEventHandlerRegistered("intuneAppFileUpload",i.getFactory("Extensions/IntuneApps/IntuneAppFileUpload","internal_RegisterCallbacks"))}Object.defineProperty(t,"__esModule",{value:!0});t.addFxNotificationsDefinition=t.registerRpcEndPoints=void 0;t.registerRpcEndPoints=o;t.addFxNotificationsDefinition=new u.FuncEndPointDefinition("Fx.RpcEndpoints.addFxNotifications")}));
define("FxInternal/Notifications",["require","exports","FxInternal/Rpc","FxInternal/RpcEndPoints","Fx/DependencyInjectionCore","Fx/Diagnostics"],(function(n,t,i,r,u,f){function w(n,t){if(isNaN(Number(t))&&(t+"").length!==7)return null;if(n[t])return typeof n[t]!="object"?n[n[t]]:n[t];var r=Object.keys(n).filter((function(n){return n.indexOf("-")===4&&n.length===7})),i=r.find((function(n){var i=Number(n.slice(0,3)),r=Number(n.slice(4,8)),u=Number(t);return isNaN(i)||isNaN(r)?!1:i<=u&&u<=r?!0:void 0}));return i&&n[i]?typeof n[i]!="string"?n[i]:n[n[i]]:null}function b(n,i){var u,r,l,o,f,a,s,c;if(!n)return i.error("[".concat(e,']: Missing pollingDetails in the "polling" notification.')),!1;if(!(n.uri||"").trim())return i.error("[".concat(e,"]: Missing uri in pollingDetails.")),!1;if(u=n.responseNotificationByStatusCode,!n.uri||!u||!Object.keys(u).length)return i.error("[".concat(e,"]: Missing responseNotificationByStatusCode or the responseNotificationByStatusCode contains no records within pollingDetails.")),!1;if(r=n.keepPollingCodes,!r||!Array.isArray(r)||!(r===null||r===void 0?void 0:r.length))return i.error("[".concat(e,"]: Missing keepPollingCodes or it contains an empty list.")),!1;if(l=r.some((function(n){var t=Number(n);return isNaN(t)||100>t||t>599})),l)return i.error("[".concat(e,"]: keepPollingCodes must contain only numbers inclusively between 100 and 599.")),!1;if(!n.defaultFailureNotification)return i.error("[".concat(e,"]: Missing defaultFailureNotification.")),!1;if(o=n.pollingTimeout,o){if(f=Number(o.timeoutInMs),!f||isNaN(f)||f<1)return i.error("[".concat(e,']: Invalid pollingTimeout details. The "timeoutInMs" must be a valid, positive number less than 24 hours worth of milliseconds if a value is supplied to "pollingTimeout".')),!1;if(f>h&&(n.pollingTimeout.timeoutInMs=h,i.warning("[".concat(e,']: Invalid pollingTimeout details. The "timeoutInMs" can\'t be more than 24 hours worth of milliseconds. It will be ignored.'))),a=o.failureNotification,!a)return i.error("[".concat(e,']: Invalid pollingTimeout details. The "failureNotification" must be defined if a value is supplied to "pollingTimeout".')),!1}return(s=Number(n.customDelayInMs),"customDelayInMs"in n&&(isNaN(s)||s<0||s>h))?(i.error("[".concat(e,"]: Invalid customDelayInMs details.")),!1):(c=Object.keys(u).map((function(n){var v=Number(n),h,o,s,i,r,c;if(n.length===3&&(isNaN(v)||100>v||v>599))return"[code: ".concat(n,"] 3 character responseNotificationByStatusCode keys must be valid numbers between 100 and 599.");if(h=n.split("-"),n.length===7){if(h.length!==2)return"[code: ".concat(n,'] 7 character responseNotificationByStatusCode keys must be 2 numbers separated by a "-" character.');if(o=Number(h[0]),s=Number(h[1]),isNaN(o)||!(100<=o&&o<599))return"[code: ".concat(n,"] 7 character responseNotificationByStatusCode keys must start with a 3 digit number from one of the following 100-599.");if(isNaN(s)||!(100<s&&s<=599))return"[code: ".concat(n,"] 7 character responseNotificationByStatusCode keys must end with a 3 digit number from one of the following 100-599.");if(s<o)return"[code: ".concat(n,"] 7 character responseNotificationByStatusCode range keys on left side must be less than the right side (ie. invalid: 500-400).")}if(n.length!==3&&n.length!==7)return"[code: ".concat(n,"] responseNotificationByStatusCode keys can either be 3 characters (response codes) or 7 characters long (ranged). No other values will work.");if(i=w(u,n),!i)return"[code: ".concat(n,"] At least one invalid responseNotificationByStatusCode key. (ie. '200' or '400-499') and must point to a PollingResponseDetails object or a string value that represents a key that will point to a valid PollingResponseDetails object.");if(!i.notification||Array.isArray(i.notification)||typeof i.notification!="object")return"[code: ".concat(n,'] Every entry must refer to a valid record containing a "notification" object.');if(undefined===i.notification.status||Number(i.notification.status)===3)return"[code: ".concat(n,'] Every entry must refer to a valid record containing a "notification" object with a valid Status other than InProgress.');if(r=i.requiredResponseValue,r){if(Array.isArray(r)||typeof r!="object")return"[code: ".concat(n,"] Every entry that includes a requiredResponseValue value must be an object.");if(r.value===undefined)return"[code: ".concat(n,'] Every entry that includes a requiredResponseValue must include a "value" with a value other than "undefined".');if(!Array.isArray(r.location)||!r.location.length)return"[code: ".concat(n,'] Every entry that includes a requiredResponseValue must include a "location" with an array value with at least 1 value.');if(c=r.failureNotification,c&&(Array.isArray(c)||typeof c!="object"))return"[code: ".concat(n,"] Every entry that includes a requiredResponseValue.failureNotification value must be an object.")}var f=typeof i.notification.description=="object"?i.notification.description.htmlTemplate:i.notification.description,l=f===null||f===void 0?void 0:f.match(t.titleAndDescriptionRegex),y=(f===null||f===void 0?void 0:f.split("{{$").length)-1;if((l===null||l===void 0?void 0:l.length)&&l.length!==y)return"[code: ".concat(n,"] Invalid use of formatting indicators {{$.keyName1.keyName2.keyNameN}} in the ").concat(typeof i.notification.description=="object"?"description.htmlTemplate":"description"," string: ").concat(typeof i.notification.description=="object"?i.notification.description.htmlTemplate:i.notification.description);var e=i.notification.title,a=e===null||e===void 0?void 0:e.match(t.titleAndDescriptionRegex),p=(e===null||e===void 0?void 0:e.split("{{$").length)-1;return(a===null||a===void 0?void 0:a.length)&&a.length!==p?"[code: ".concat(n,"] Invalid use of formatting indicators {{$.keyName1.keyName2.keyNameN}} in the title string: ").concat(i.notification.title):""})),c.some((function(n){return!!n})))?(i.error(c.filter((function(n){return!!n})).join(" ")),!1):!0}function c(){var n=MsPortalFx.getUniqueId();return"Notification-"+n}function l(n){var t,i;return!(n.title||"").trim()||!g(n.description)?(s.error("[".concat(e,"]: Missing or invalid title/description.")),!1):(t=nt(n.linkTo),t)?(s.error(t),!1):(i=k(n.actions.slice()),i)?(s.error(i),!1):!0}function k(n){if(!n)return"";if(!Array.isArray(n)||typeof n!="object")return'When "actions" are included, it must be an array.';if(n.length>3)return'When "actions" are included, it must be an array with no more than 3 buttons.';var t=n.map((function(n){return d(n)})).filter((function(n){return!!n}));return t.length?'When "actions" are included, all buttons must valid: '.concat(t.join(" ")):""}function d(n){var t,i,r;return!n||Array.isArray(n)||typeof n!="object"?"[".concat(e,']: Every button in the "actions" list must be an {} object type.'):!n.label||typeof n.label!="string"||!n.label.trim()?"[".concat(e,']: Every button in the "actions" list must have a valid string with more than white space characters as a "label".'):n.action?(t=n.action,typeof t!="string")?(i=t,i.extension&&i.partName&&i.parameters)?"":(r=t,r.parameters&&r.parameters.blade&&r.parameters.extension)?"":"[".concat(e,']: Every button in the "actions" list must have an "action" value. If not a string, it must be a valid BladeReference or set of PinToDashboard arguments.'):"":"[".concat(e,']: Every button in the "actions" list must have an "action" value.')}function g(n){return n?typeof n=="object"?!!((n===null||n===void 0?void 0:n.htmlTemplate)||"").trim():!!(n||"").trim():!1}function nt(n){var t;return n?typeof n!="string"&&!(((t=n===null||n===void 0?void 0:n.parameters)===null||t===void 0?void 0:t.blade)&&n.parameters.extension)?"[".concat(e,']: When "linkTo" is provided as an object BladeReference type, it must contain at least the "blade" and "extension" parameters.'):"":""}var o,v,y,p;Object.defineProperty(t,"__esModule",{value:!0});t.DEV=t.validatePollingDetails=t.fetchNotificationPollingResponseDetails=t.publishPollingNotification=t.publishPendingNotification=t.publishNotification=t.titleAndDescriptionRegex=t.CnpProps=void 0;var e="Fx/Notifications",s=f.createLog(n),h=864e5,a=(o={},o[0]=0,o[1]=1,o[2]=2,o[4]=4,o[0]=0,o[1]=1,o[2]=2,o[4]=4,o);t.CnpProps=["actions","description","linkTo","status","title",];t.titleAndDescriptionRegex=/(\{\{\$[\w.\-"']*\}\})/g;v=function(n,t){t===void 0&&(t=!0);var f=__assign({actions:n.actions||[],description:n.description,id:t&&n.id?n.id:"".concat(t?"Internal":"").concat(c()),linkTo:n.linkTo,status:a[n.status],timestamp:new Date,title:n.title},t&&"toastDuration"in n&&{toastDuration:n.toastDuration}),e=function(){return l(f)},o=function(){r.addFxNotificationsDefinition.invoke(u.container.get(i.Client),"fx",[f])};return e()?(o(),{id:f.id}):null};t.publishNotification=v;y=function(n,t){t===void 0&&(t=!0);var o=!1,f=__assign({actions:n.actions||[],description:n.description,id:t&&n.id?n.id:"".concat(t?"Internal":"","Pending").concat(c()),linkTo:n.linkTo,percentComplete:n.percentComplete,status:3,timestamp:new Date,title:n.title},t&&"toastDuration"in n&&{toastDuration:n.toastDuration}),h=function(){if(!l(f))return!1;if(f.percentComplete===undefined)return!0;var n=Number(f.percentComplete);return isNaN(n)||n<0||n>100?(s.error("[".concat(e,"]: When percentComplete is defined, it must be a valid number between 0 and 100.")),!1):!0},v=function(){r.addFxNotificationsDefinition.invoke(u.container.get(i.Client),"fx",[f])};return h()?(v(),{id:f.id,complete:function(n){return o?(s.error("[".concat(e,"]: PendingNotification.complete can't be called on notifications that have already had PendingNotification.complete called.")),null):n.status&&Number(n.status)===3?(s.error("[".concat(e,"]: PendingNotification.complete can't be called on notifications with a completed status of InProgress.")),null):(f=__assign(__assign(__assign(__assign(__assign(__assign(__assign({},f),n.title&&{title:n.title}),n.description&&{description:n.description}),"actions"in n&&{actions:n.actions}),"linkTo"in n&&{linkTo:n.linkTo}),t&&"toastDuration"in n&&{toastDuration:n.toastDuration}),{timestamp:new Date,percentComplete:undefined,status:a[n.status]}),o=!0,!h())?null:(v(),f.timestamp)},update:function(n){return o?(s.error("[".concat(e,"]: PendingNotification.update can't be called on notifications that have already had PendingNotification.complete called.")),null):(f=__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign({},f),n.title&&{title:n.title}),n.description&&{description:n.description}),"actions"in n&&{actions:n.actions}),"linkTo"in n&&{linkTo:n.linkTo}),"percentComplete"in n&&{percentComplete:n.percentComplete}),t&&"toastDuration"in n&&{toastDuration:n.toastDuration}),{timestamp:new Date}),!h())?null:(v(),f.timestamp)}}):null};t.publishPendingNotification=y;p=function(n,t){t===void 0&&(t=!0);var f=__assign({actions:n.actions||[],description:n.description,id:t&&n.id?n.id:"".concat(t?"Internal":"","Polling").concat(c()),linkTo:n.linkTo,pollingDetails:n.pollingDetails,status:3,timestamp:new Date,title:n.title},t&&"toastDuration"in n&&{toastDuration:n.toastDuration}),e=function(){return l(f)&&b(f.pollingDetails,s)},o=function(){r.addFxNotificationsDefinition.invoke(u.container.get(i.Client),"fx",[f])};return e()?(o(),{id:f.id}):null};t.publishPollingNotification=p;t.fetchNotificationPollingResponseDetails=w;t.validatePollingDetails=b}));
define("FxInternal/ProxiedObservables",["require","exports"],(function(n,t){function r(n){Object.defineProperty(n,i,{configurable:!0,value:!0})}Object.defineProperty(t,"__esModule",{value:!0});t.setPoUndefined=void 0;var i="###isPoUndefined###";t.setPoUndefined=r}));
define("FxInternal/ReactView/DataCacheEndpoints",["require","exports","Fx/DependencyInjection"],(function(n,t,i){function r(){return u||i.container.get(FxImpl.Rpc.Client)}Object.defineProperty(t,"__esModule",{value:!0});t.setRpcClient=t.getRpcClient=t.dataCacheClearAllEndPoint=t.dataCacheClearEndPoint=t.dataCacheGetEndPoint=t.dataCacheAddEndPoint=t.entryPrefix=void 0;t.entryPrefix="reactview-datacache-";t.dataCacheAddEndPoint=new FxImpl.Rpc.ActionEndPointDefinition("reactViewDataCacheAdd");t.dataCacheGetEndPoint=new FxImpl.Rpc.FuncEndPointDefinition("reactViewDataCacheGet");t.dataCacheClearEndPoint=new FxImpl.Rpc.ActionEndPointDefinition("reactViewDataCacheClear");t.dataCacheClearAllEndPoint=new FxImpl.Rpc.ActionEndPointDefinition("reactViewDataCacheClearAll");t.getRpcClient=r;var u=null}));
define("FxInternal/Redirect",["require","exports"],(function(n,t){Object.defineProperty(t,"__esModule",{value:!0});t.forceSignInEndPoint=void 0;t.forceSignInEndPoint=new FxImpl.Rpc.FuncEndPointDefinition("FxInternal.RpcMethods.forceSignIn")}));
define("FxInternal/ResourceManagement/LocationsCore",["require","exports","FxInternal/Rpc"],(function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});t.getLocationDisplayNamesEndPoint=void 0;t.getLocationDisplayNamesEndPoint=new i.FuncEndPointDefinition("getLocationDisplayNames")}));
define("FxInternal/ResourceManagement/Permissions",["require","exports","Fx/DependencyInjection","Fx/Errors"],(function(n,t,i,r){Object.defineProperty(t,"__esModule",{value:!0});t.PermissionChecker=void 0;var f=FxImpl.Extension,e=MsPortalFx.Base,u=e.Diagnostics.createLog(n),o=(function(){function t(n){this._rpcClient=n;this._permissionsCache=Object.create(null)}return t.prototype.hasPermission=function(n,t){var e=this,i=(n||"")+":"+(t||[]).sort().join();return this._permissionsCache[i]||(this._permissionsCache[i]=Q(f.hasPermissionsToShell.invoke(this._rpcClient,"fx",{entityId:n,requestedActions:t})).then((function(n){if(typeof n=="string"){var t=new r.FxError(n);return u.warning(t),delete e._permissionsCache[i],!0}return n}),(function(n){return u.error(MsPortalFx.getLogFriendlyMessage(n)),delete e._permissionsCache[i],!0})))},__decorate([__metadata("fx:diagnostics",[n,"PermissionChecker"]),i.Class(),__metadata("design:paramtypes",[FxImpl.Rpc.Client])],t)})();t.PermissionChecker=o}));
define("FxInternal/RpcEndPointsCore",["require","exports","FxInternal/Rpc"],(function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});t.getAllKeysEndPoint=t.clearEndPoint=t.removeSettingsEndPoint=t.readSettingsEndPoint=t.writeSettingEndPoint=t.getUserInfoEndPoint=t.setExtensionFlightsEndPoint=void 0;t.setExtensionFlightsEndPoint=new i.FuncEndPointDefinition("setExtensionFlights");t.getUserInfoEndPoint=new i.FuncEndPointDefinition("getUserInfo");t.writeSettingEndPoint=new i.FuncEndPointDefinition("writePersistentSetting");t.readSettingsEndPoint=new i.FuncEndPointDefinition("readPersistentSettings");t.removeSettingsEndPoint=new i.FuncEndPointDefinition("removePersistentSettings");t.clearEndPoint=new i.FuncEndPointDefinition("clearPersistentStorage");t.getAllKeysEndPoint=new i.FuncEndPointDefinition("getAllPersistentSettingsKeys")}));
define("FxInternal/TelemetryContext",["require","exports"],(function(n,t){Object.defineProperty(t,"__esModule",{value:!0})}));
define("FxInternal/Utils/LinkSanitizer",["require","exports","Fx/DependencyInjection","FxInternal/Environment","Fx/Diagnostics","Fx/Errors","FxInternal/UriScrubber"],(function(n,t,i,r,u,f,e){Object.defineProperty(t,"__esModule",{value:!0});t.LinkSanitizer=void 0;var o=u.createLog(n),s=/^https?:\/\/(www\.)?docs\.microsoft\.com(\/en-us)?\/([^#]*)/i,h=(function(){function t(n,t){this._externalValidators=new Map;this._verifyEnabled=t.isEnabled("verifyexternallinks");this._verifyLinkUri=FxImpl.ensureAbsoluteUri("verifyLink");this._shellDomains=MsPortalFx.union([FxImpl.origin],n.shellTrustedLinkedDomains);var i=n.linkedDomainMap||{};this._rewriteRules=Object.keys(i).map((function(n){return[new RegExp("^(\\w+:|)//(".concat(MsPortalFx.regexEscape(n),")\\b"),"i"),"$1//".concat(i[n])]}));this._validate=FxImpl.getDomainValidator(this._shellDomains).validateDomain;this._verifyTopLevelDomains=t.isEnabled("verifytopleveldomains")&&MsPortalFx.unique(Object.keys(i).map((function(n){return i[n]})).map((function(n){return n.substring(n.indexOf(".")+1)}))).concat(FxImpl.origin);this._externalValidators=new Map;this.processTrustedLinkedDomains(n.extensionName,n.trustedLinkedDomains)}return t.prototype.isTrustedDomainLink=function(n,t){if(this._validate(n))return!0;var i=t&&t!=="fx"&&this._externalValidators.get(t);return!!i&&i(n)},t.prototype.processTrustedLinkedDomains=function(n,t){var r=this,i;n&&n!=="fx"&&(i=this._externalValidators.get(n),i===undefined&&(Array.isArray(t)&&t.length&&(t=t.filter((function(n){return r._shellDomains.indexOf(n)<0})),t.length&&(i=FxImpl.getDomainValidator(t).validateDomain)),this._externalValidators.set(n,i||null)))},t.prototype.getSafeLink=function(n,t,i){if(n&&MsPortalFx.isUriAbsolute(n)){if(i||(n=n.replace(s,(function(n,i,r,u){var f="https://docs.microsoft.com/"+u,e=u.toLowerCase().indexOf("wt.mc_id=");return e===-1&&(f+=(u.includes("?")?"&":"?")+"WT.mc_id=Portal-"+encodeURIComponent(t||"fx")),f})),this._rewriteRules.forEach((function(t){n=n.replace(t[0],t[1])}))),this._verifyEnabled&&!this.isTrustedDomainLink(n,t))return"".concat(this._verifyLinkUri,"?href=").concat(encodeURIComponent(n),"&id=").concat(t!==null&&t!==void 0?t:"null");if(this._verifyTopLevelDomains&&!this._verifyTopLevelDomains.some((function(t){return n.includes(t)}))){var r=e.scrubUri(n);o.error(new f.FxError({message:'"'.concat(r,'" does not pass top level domain validation.'),data:{uri:r,extension:t}}))}}return n},__decorate([__metadata("fx:diagnostics",[n,"LinkSanitizer"]),i.Class(),__metadata("design:paramtypes",[r.Environment,FxImpl.Features])],t)})();t.LinkSanitizer=h}));
define("FxInternal/Utils/Promise",["require","exports"],(function(n,t){function i(n,t){return Q.reject(FxImpl.createError(n,t))}Object.defineProperty(t,"__esModule",{value:!0});t.QReject=t.toPromise=void 0;t.toPromise=FxImpl.toPromise;t.QReject=i}));
define("FxInternal/Weave/Blade",["require","exports","Fx/DependencyInjection"],(function(n,t,i){function r(){return function(n){var t=n._fx||(n._fx={});t.isWeaveBlade=!0;t.isWeaveFlighted=!0}}function u(){return function(n){(n._fx||(n._fx={})).rebindable=!0}}function f(n){return function(t,i){var r=Reflect.getOwnMetadata("fx:weavebladeexports",t);r||Reflect.defineMetadata("fx:weavebladeexports",r={},t);r[n]=i}}Object.defineProperty(t,"__esModule",{value:!0});t.UntypedWeaveBladeParameters=t.WeaveBladeExportDecorator=t.Rebindable=t.WeaveBladeDecorator=void 0;t.WeaveBladeDecorator=r;t.Rebindable=u;t.WeaveBladeExportDecorator=f;var e=(function(){function t(){}return __decorate([__metadata("fx:diagnostics",[n,"UntypedWeaveBladeParameters"]),i.Value("viewModel")],t)})();t.UntypedWeaveBladeParameters=e}));
define("FxInternal/_generated/Less/WeaveControls/Button.Component.css",["module"],(function(n){return{css:".fxc-simplebutton{display:inline-flex;-webkit-user-select:none;text-align:center;position:relative;max-width:100%}.fxs-button-icon{display:inline-block;height:12px;width:12px}.fxs-button-icon-left{margin-right:5px}.fxs-button-icon-right{margin-left:5px}.fxs-button-spinner{height:10px;width:10px;display:inline-block;position:absolute;right:20px}.fxs-button-text-hide{display:none}.fxs-button-validating{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;padding-right:18px}",moduleId:n.id}}));
define("Weave/SandboxMode",["require","exports","Weave/Core/InternalUtil"],(function(n,t,i){return i.WeaveTsx}));
define("FxInternal/WeaveControls/Button.Component.Internal",["require","exports","Weave/SandboxMode","Weave","FxInternal/Weave/Util","FxInternal/WeaveControls/ButtonComponent","FxInternal/_generated/Less/WeaveControls/Button.Component.css","FxInternal/Weave"],(function(n,t,i,r,u,f,e,o){function s(n){var a=n.disabled,v=n.text,y=n.loadingText,p=n.onClick,s=r.ensureComputation(n.icon),h=s.compose((function(n){return n&&n.position})),c=s.compose((function(n){if(n!==null&&n!==void 0)return n.image})),w=r.composeComputation([n.ariaLabel,n.text],(function(n,t){return n||t})),b=u.mapValueOrComputation(n.ariaLabel,(function(n){return n||null})),t=r.ensureComputation(n.style),l=r.ensureComputation(n.loading);return i(r.GetContext,{fn:function(n){var k=ko.observable(!1),s=u.aggregateDisabled([n.disabled,a,o.toComputation(k)]),d=u.aggregateTabindex([n.tabIndex],s);return i(r.LifetimeManagerScoped,{fn:function(n){return i("div",{role:"button",domAgent:{type:"button",options:{aggregatedDisabled:o.toObservable(n,s),selfDisabled:k,onClick:p}},className:["fxs-button fxt-button fxs-inner-solid-border",{"fxs-button-disabled":s,"fxs-portal-button-primary":u.mapValueOrComputation(t,(function(n){return n===0})),"fxs-button-default":u.mapValueOrComputation(t,(function(n){return n===1})),"fxs-portal-button-danger":u.mapValueOrComputation(t,(function(n){return n===2}))}],tabindex:d,"aria-disabled":s,"aria-label":b,title:w},i(r.Css,{css:e}),i(r.If,{condition:h.compose((function(n){return n===0})),concealmentBehavior:"remove",trueFn:function(){return i("div",{className:"fxs-button-icon fxs-button-icon-left",image:c})}}),i("span",{visible:l.compose(u.negation),className:"fxs-button-text"},v),i(r.If,{condition:h.compose((function(n){return n===1})),concealmentBehavior:"remove",trueFn:function(){return i("div",{className:"fxs-button-icon fxs-button-icon-right",image:c})}}),i(r.If,{condition:l,concealmentBehavior:"remove",trueFn:function(){return i("div",{className:"fxs-button-validating"},i("span",null,u.mapValueOrComputation(y,(function(n){return n===undefined?f.validating:n}))),i("div",{className:"fxs-button-spinner",image:MsPortalFx.Base.Images.CustomImageWithOptions(MsPortalFx.Base.Images.Loading.Spinner(),{customClass:"msportalfx-svg-fabric-rotate360"})}))}}))}})}})}Object.defineProperty(t,"__esModule",{value:!0});t.ButtonInner=void 0;t.ButtonInner=s}));
define("FxInternal/Weave/Components/Button",["require","exports","Weave/SandboxMode","FxInternal/WeaveControls/Button.Component.Internal"],(function(n,t,i,r){function u(n){return i("div",{visible:n.visible,className:["fxc-simplebutton",n.className]},i(r.ButtonInner,__assign({},n)))}Object.defineProperty(t,"__esModule",{value:!0});t.Button=void 0;t.Button=u}));
define("FxInternal/Weave/Components/LoadingIndicator",["require","exports","Weave/SandboxMode"],(function(n,t,i){function r(n){return n=n||u,i("div",{className:[n.className,n.size===1&&"fxs-progress-small","fxs-progress"]},i("div",{className:"fxs-progress-dots"},i("div",{className:"fxs-progress-dots-dot"}),i("div",{className:"fxs-progress-dots-dot"}),i("div",{className:"fxs-progress-dots-dot"}),i("div",{className:"fxs-progress-dots-dot-shadow"}),i("div",{className:"fxs-progress-dots-dot-shadow"}),i("div",{className:"fxs-progress-dots-dot-shadow"})))}Object.defineProperty(t,"__esModule",{value:!0});t.LoadingIndicator=void 0;t.LoadingIndicator=r;var u={}}));
define("FxInternal/WeaveControls/Common",["require","exports","Weave/SandboxMode","FxInternal/Weave","FxInternal/Weave/Util","Weave"],(function(n,t,i,r,u,f){function o(n){return n&&typeof n=="object"&&typeof n.controlType=="number"}function s(n,t){t&&n&&(MsPortalFx.isNullOrUndefined(n.labelPosition)||ko.isWritableObservable(t.labelPosition)&&t.labelPosition(n.labelPosition),MsPortalFx.isNullOrUndefined(n.leftLabelWidth)||ko.isWritableObservable(t._msPortalFxLeftLabelWidth)&&t._msPortalFxLeftLabelWidth(n.leftLabelWidth))}function h(n,t){var o=n,v=o.dirty,y=o.valid,s=o._msPortalFxRequired,h=o.required,p=o.visible,c=ko.isObservable(p)?r.toComputation(p):u.trueComputation,w=ko.isObservable(v)?f.composeComputation([r.toComputation(v),c],u.and):null,b=ko.isObservable(y)?f.composeComputation([r.toComputation(y),c],a):null,k=ko.isObservable(s)||ko.isObservable(h)?f.composeComputation([ko.isObservable(s)?r.toComputation(s):u.falseComputation,ko.isObservable(h)?r.toComputation(h):u.falseComputation,c,],l):null,d=e(n)?function(){return Promise.resolve(n.triggerValidation())}:null;return w||b||k||d?i(f.Aggregatable,{dirty:w,valid:b,required:k,validator:d},t):t}function e(n){return typeof n.triggerValidation=="function"}function c(n,t,i,r){var u,e,o;return MsPortalFx.isNullOrUndefined(n)?(o=u=f.makeWritableComputation(t),e=function(n){o(r(n));i&&i(n)}):(u=f.ensureComputation(n),e=i||MsPortalFx.noop),{field:u,onFieldChange:e}}function l(n,t,i){return(n||t)&&i}function a(n,t){return n||!t}Object.defineProperty(t,"__esModule",{value:!0});t.ensureInputBindingPair=t.isControlValidatable=t.tryWrapAggregationSourceForFieldControlVM=t.patchFieldControlVM=t.isControlVM=void 0;t.isControlVM=o;t.patchFieldControlVM=s;t.tryWrapAggregationSourceForFieldControlVM=h;t.isControlValidatable=e;t.ensureInputBindingPair=c}));
define("ShellWorker/AssetTypeRequirements",["require","exports"],(function(n,t){function i(n,t){var u,i,r;return t&&((u=!!(n===null||n===void 0?void 0:n.resourceType),i=function(n){return(t&n)===n},i(1)&&((r=n.browseType,r===undefined)||i(5)&&(r!==1||!u)||i(9)&&(r!==3||!n.browseLinkUri||i(25)&&r!==3)))||i(2)&&!u)?!1:!0}Object.defineProperty(t,"__esModule",{value:!0});t.assetTypeMeetsRequirements=void 0;t.assetTypeMeetsRequirements=i}));
define("ShellWorker/AssetTypes",["require","exports","FxInternal/Rpc"],(function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});t.pushAssetTypesEndPoint=void 0;t.pushAssetTypesEndPoint=new i.ActionEndPointDefinition("pushAssetTypes")}));
define("ShellWorker/AuthorizationState",["require","exports","FxInternal/Rpc"],(function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});t.getAuthorizationTokenForShellWorkerEndPoint=t.pushShellAuthTokensEndPoint=void 0;t.pushShellAuthTokensEndPoint=new i.ActionEndPointDefinition("pushShellAuthTokens");t.getAuthorizationTokenForShellWorkerEndPoint=new i.FuncEndPointDefinition("getAuthorizationTokenForShellWorker")}));
define("ShellWorker/Browse",["require","exports","FxInternal/Rpc"],(function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});t.pushBrowseMetadataEndPoint=void 0;t.pushBrowseMetadataEndPoint=new i.ActionEndPointDefinition("pushBrowseMetadata")}));
define("ShellWorker/DiagnosticsUpload",["require","exports"],(function(n,t){Object.defineProperty(t,"__esModule",{value:!0})}));
define("ShellWorker/ExtensionManager",["require","exports","FxInternal/Rpc"],(function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});t.setRequestedBladeEndPoint=t.onExtensionStateChangeEndPoint=void 0;t.onExtensionStateChangeEndPoint=new i.ActionEndPointDefinition("onExtensionStateChange");t.setRequestedBladeEndPoint=new i.ActionEndPointDefinition("setRequestedBlade")}));
define("ShellWorker/ExtensionWorkerPrewarmer",["require","exports","FxInternal/Rpc"],(function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});t.onGetWorkerCalledEndPoint=t.terminateWorkerEndPoint=t.onWorkerBootCompleteEndPoint=t.pushNewWorkerEndPoint=void 0;t.pushNewWorkerEndPoint=new i.ActionEndPointDefinition("pushWorker");t.onWorkerBootCompleteEndPoint=new i.ActionEndPointDefinition("onWorkerError");t.terminateWorkerEndPoint=new i.ActionEndPointDefinition("terminateWorker");t.onGetWorkerCalledEndPoint=new i.ActionEndPointDefinition("onGetWorkerCalled")}));
define("ShellWorker/FeatureCards",["require","exports","FxInternal/Rpc"],(function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});t.pushFeatureCardsEndPoint=void 0;t.pushFeatureCardsEndPoint=new i.ActionEndPointDefinition("pushFeatureCards")}));
define("ShellWorker/GlobalResourceFilters",["require","exports","FxInternal/Rpc"],(function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});t.pushActiveGlobalResourceFilterEndPoint=void 0;t.pushActiveGlobalResourceFilterEndPoint=new i.ActionEndPointDefinition("pushActiveGlobalResourceFilter")}));
define("ShellWorker/IFrameExtensionLoader",["require","exports","FxInternal/Rpc"],(function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});t.disposeExtensionIFrameEndPoint=t.loadExtensionInIFrameEndPoint=void 0;t.loadExtensionInIFrameEndPoint=new i.FuncEndPointDefinition("loadExtensionInIFrame");t.disposeExtensionIFrameEndPoint=new i.ActionEndPointDefinition("disposeExtensionIFrame")}));
define("ShellWorker/Locations",["require","exports","FxInternal/Rpc"],(function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});t.pushLocationsEndPoint=void 0;t.pushLocationsEndPoint=new i.ActionEndPointDefinition("pushLocations")}));
define("ShellWorker/PreloadData",["require","exports","FxInternal/Rpc"],(function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});t.pushPreloadDataEndPoint=void 0;t.pushPreloadDataEndPoint=new i.ActionEndPointDefinition("pushPreloadData")}));
define("ShellWorker/Subscriptions",["require","exports","FxInternal/Rpc"],(function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});t.pushGlobalFilterSubscriptionsEndpoint=t.pushSubscriptionsCountEndpoint=t.pushStartupSubscriptionsEndpoint=t.pushSelectedSubscriptionsEndpoint=void 0;t.pushSelectedSubscriptionsEndpoint=new i.ActionEndPointDefinition("pushSelectedSubscriptions");t.pushStartupSubscriptionsEndpoint=new i.ActionEndPointDefinition("pushStartupSubscriptions");t.pushSubscriptionsCountEndpoint=new i.ActionEndPointDefinition("pushSubscriptionsCount");t.pushGlobalFilterSubscriptionsEndpoint=new i.ActionEndPointDefinition("pushGlobalFilterSubscriptions")}));
define("ShellWorker/UserInfo",["require","exports","FxInternal/Rpc"],(function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});t.pushUserInfoEndpoint=void 0;t.pushUserInfoEndpoint=new i.ActionEndPointDefinition("pushUserInfo")}));
define("ShellWorkerImpl/AssetTypes",["require","exports","Fx/DependencyInjectionCore","ShellWorker/AssetTypes","FxHubs/RpcEndPointsCore","FxInternal/AsyncLoaderCore"],(function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});t.getSingleAssetTypeInformationEndPointHandler=t.getAssetTypesInformationEndPointHandler=t.pushAssetTypesEndPointHandler=t.AssetTypes=void 0;var o=u.AssetTypes.getAssetTypesInformationEndPoint,s=u.AssetTypes.getSingleAssetTypeInformationEndPoint,e=(function(){function t(){function i(n){return"resourceType:"+n.lowerCaseResourceType}function r(n){return"assetType:"+n.lowerCaseExtension+n.lowerCaseAssetType}var u=this,n=new Promise(function(n){u.resolveAssetTypes=n}),t;this.getAssetTypesInformation=function(){return n};t=n.then((function(n){return n.reduce((function(n,t){return n[i(t)]=n[r(t)]=t,n}),{})}));this.getSingleAssetTypeInformation=function(n){return t.then((function(t){var u=n.lowerCaseResourceType?i(n):r(n);return t[u]}))}}return __decorate([__metadata("fx:diagnostics",[n,"AssetTypes"]),i.Class(),__metadata("design:paramtypes",[])],t)})();t.AssetTypes=e;t.pushAssetTypesEndPointHandler=f.defineHandler(r.pushAssetTypesEndPoint,(function(n){var t=n.diContainer,i=n.messageArg;t.get(e).resolveAssetTypes(i)}));t.getAssetTypesInformationEndPointHandler=f.defineHandler(o,(function(n){var t=n.diContainer;return Q(t.get(e).getAssetTypesInformation()).then((function(n){if(n!==null&&n!==void 0)return n.slice()}))}));t.getSingleAssetTypeInformationEndPointHandler=f.defineHandler(s,(function(n){var t=n.diContainer,i=n.messageArg;return Q(t.get(e).getSingleAssetTypeInformation(i))}))}));
define("ShellWorkerImpl/BrowseMetadataProvider",["require","exports","Fx/DependencyInjectionCore","ShellWorker/Browse","FxInternal/AsyncLoaderCore"],(function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});t.pushBrowseMetadataEndPointHandler=t.BrowseMetadataProvider=void 0;var f=(function(){function t(){var n=this,t=new Promise(function(t){n.resolveBrowseMetadata=t});this.getBrowseMetadata=function(){return t}}return __decorate([__metadata("fx:diagnostics",[n,"BrowseMetadataProvider"]),i.Class(),__metadata("design:paramtypes",[])],t)})();t.BrowseMetadataProvider=f;t.pushBrowseMetadataEndPointHandler=u.defineHandler(r.pushBrowseMetadataEndPoint,(function(n){var t=n.diContainer,i=n.messageArg;t.get(f).resolveBrowseMetadata(i)}))}));
define("ShellWorkerImpl/BrowseColumnsProvider",["require","exports","Fx/DependencyInjectionCore","FxHubs/RpcEndPointsCore","ShellWorkerImpl/BrowseMetadataProvider","FxInternal/AsyncLoaderCore"],(function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});t.onBrowseColumnsUpdatedEndPointHandler=t.BrowseColumnsProvider=void 0;var e=(function(){function t(n){var t,i=n.getBrowseMetadata().then((function(n){var i=n.columns;t=i}));this.onBrowseColumnsUpdated=function(n){var r=n.store,u=n.columns,f=r;i=i.then((function(){t[f]=u}))};this.getBrowseColumns=function(){return i.then((function(){return t}))}}return __decorate([__metadata("fx:diagnostics",[n,"BrowseColumnsProvider"]),i.Class(),__metadata("design:paramtypes",[u.BrowseMetadataProvider])],t)})();t.BrowseColumnsProvider=e;t.onBrowseColumnsUpdatedEndPointHandler=f.defineHandler(r.Browse.onBrowseColumnsUpdatedEndPoint,(function(n){var t=n.diContainer,i=n.messageArg;t.get(e).onBrowseColumnsUpdated(i)}))}));
define("ShellWorkerImpl/BrowseFavoriteViewIdProvider",["require","exports","Fx/DependencyInjectionCore","FxHubs/RpcEndPointsCore","ShellWorkerImpl/BrowseMetadataProvider","FxInternal/AsyncLoaderCore"],(function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});t.onBrowseFavoriteViewIdUpdatedEndPointHandler=t.BrowseFavoriteViewIdProvider=void 0;var e=(function(){function t(n){var t,i=n.getBrowseMetadata().then((function(n){var i=n.favoriteViewIds;t=i}));this.onBrowseFavoriteViewIdUpdated=function(n){var r=n.resourceTypeKey,u=n.favoriteViewId;i=i.then((function(){t=t||Object.create(null);t[r]=u}))};this.getBrowseFavoriteViewId=function(n){return i.then((function(){return t&&t[n]}))}}return __decorate([__metadata("fx:diagnostics",[n,"BrowseFavoriteViewIdProvider"]),i.Class(),__metadata("design:paramtypes",[u.BrowseMetadataProvider])],t)})();t.BrowseFavoriteViewIdProvider=e;t.onBrowseFavoriteViewIdUpdatedEndPointHandler=f.defineHandler(r.Browse.onBrowseFavoriteViewIdUpdatedEndPoint,(function(n){var t=n.diContainer,i=n.messageArg;t.get(e).onBrowseFavoriteViewIdUpdated(i)}))}));
define("ShellWorkerImpl/Core/ExtensionManagerOptions",["require","exports","Fx/DependencyInjectionCore"],(function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});t.ExtensionManagerOptions=void 0;var r=(function(){function t(n,t,i,r,u){this.extensions=n;this.manifests=t;this.loadTypes=i;this.extensionRedirectMap=r;this.blockedHosts=u}return __decorate([__metadata("fx:diagnostics",[n,"ExtensionManagerOptions"]),i.Value(),__metadata("design:paramtypes",[Object,Object,Object,Object,Array])],t)})();t.ExtensionManagerOptions=r}));
define("ShellWorkerImpl/BrowseManifestsProvider",["require","exports","Fx/DependencyInjectionCore","FxInternal/Rpc","FxHubs/RpcEndPointsCore","Fx/Diagnostics","ShellWorkerImpl/Core/ExtensionManagerOptions","ShellWorkerImpl/BrowseMetadataProvider"],(function(n,t,i,r,u,f,e,o){Object.defineProperty(t,"__esModule",{value:!0});t.BrowseManifestsProvider=void 0;var s=window,h=(function(){function t(t,i,r,f){var e=this,o=i.createLog(n),h=f.getBrowseMetadata(),c=function(){return __awaiter(e,void 0,void 0,(function(){var u,n,i,t,r;return __generator(this,(function(f){switch(f.label){case 0:return[4,h];case 1:u=f.sent().browseManifestsUri;f.label=2;case 2:return f.trys.push([2,5,,6]),[4,s.fetch(u)];case 3:if(n=f.sent(),!n.ok){i=new Error(n.statusText);i.response=n;throw i;}return[4,n.json()];case 4:return t=f.sent(),[2,(t===null||t===void 0?void 0:t.manifest)||{}];case 5:r=f.sent();o.error("Fetch of browse manifests failed",0,r);throw r;case 6:return[2]}}))}))},l=c();this.getBrowseManifests=function(n){return __awaiter(e,void 0,void 0,(function(){var i,f,e;return __generator(this,(function(o){switch(o.label){case 0:return r.extensions[n].isSideloaded?[2,u.Browse.getBrowseManifestsEndpoint.invoke(t,"fx",{extension:n})]:[3,1];case 1:return[4,l];case 2:return i=o.sent(),[2,(e=(f=i===null||i===void 0?void 0:i[n])===null||f===void 0?void 0:f.assetTypesBrowse)===null||e===void 0?void 0:e.slice(0)]}}))}))}}return __decorate([__metadata("fx:diagnostics",[n,"BrowseManifestsProvider"]),i.Class(),__metadata("design:paramtypes",[r.Client,f.Logging,e.ExtensionManagerOptions,o.BrowseMetadataProvider])],t)})();t.BrowseManifestsProvider=h}));
define("ShellWorkerImpl/FeatureCards",["require","exports","Fx/DependencyInjectionCore","ShellWorker/FeatureCards","FxInternal/AsyncLoaderCore"],(function(n,t,i,r,u){function o(){return new e(function(n){return(n||"").toLowerCase()})}var f,e;Object.defineProperty(t,"__esModule",{value:!0});t.pushFeatureCardsEndPointHandler=t.FeatureCards=void 0;f=(function(){function t(){var n=this,t=new Promise(function(t){n.resolveFeatureCards=t});this.getFeatureCards=function(i){return __awaiter(n,void 0,void 0,(function(){return __generator(this,(function(n){switch(n.label){case 0:return[4,t];case 1:return[2,n.sent().get(i)]}}))}))}}return __decorate([__metadata("fx:diagnostics",[n,"FeatureCards"]),i.Class(),__metadata("design:paramtypes",[])],t)})();t.FeatureCards=f;t.pushFeatureCardsEndPointHandler=u.defineHandler(r.pushFeatureCardsEndPoint,(function(n){var r=n.diContainer,t=n.messageArg,i=o();Object.keys(t).forEach((function(n){return i.set(n,t[n])}));r.get(f).resolveFeatureCards(i)}));e=(function(){function n(n){this._map=new Map;this._key=n}return n.prototype.clear=function(){this._map.clear()},n.prototype.delete=function(n){return this._map.delete(this._key(n))},n.prototype.forEach=function(n,t){var i=this;this._map.forEach((function(r,u){n.call(t,r,u,i)}),t)},n.prototype.get=function(n){return this._map.get(this._key(n))},n.prototype.has=function(n){return this._map.has(this._key(n))},n.prototype.set=function(n,t){return this._map.set(this._key(n),t),this},n})()}));
define("ShellWorkerImpl/LocationsProvider",["require","exports","Fx/DependencyInjectionCore","ShellWorker/Locations","FxInternal/ResourceManagement/LocationsCore","FxInternal/AsyncLoaderCore"],(function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});t.getLocationDisplayNamesEndPointHandler=t.pushLocationsEndPointHandler=t.LocationsProvider=void 0;var e=(function(){function t(){var i=this,n=new Promise(function(n){i.resolveLocations=n}),t;this.getLocations=function(){return n};t=n.then((function(n){return Object.keys(n).reduce((function(t,i){return t[i]=n[i].displayName,t}),{})}));this.getLocationDisplayNames=function(){return t}}return __decorate([__metadata("fx:diagnostics",[n,"LocationsProvider"]),i.Class(),__metadata("design:paramtypes",[])],t)})();t.LocationsProvider=e;t.pushLocationsEndPointHandler=f.defineHandler(r.pushLocationsEndPoint,(function(n){var t=n.diContainer,i=n.messageArg;t.get(e).resolveLocations(i)}));t.getLocationDisplayNamesEndPointHandler=f.defineHandler(u.getLocationDisplayNamesEndPoint,(function(n){var t=n.diContainer;return t.get(e).getLocationDisplayNames().then((function(n){return __assign({},n)}))}))}));
define("ShellWorkerImpl/BrowsePrereqsProvider",["require","exports","Fx/DependencyInjectionCore","FxInternal/Rpc","FxHubs/RpcEndPointsCore","ShellWorkerImpl/AssetTypes","ShellWorkerImpl/FeatureCards","FxInternal","ShellWorker/AssetTypeRequirements","ShellWorkerImpl/BrowseColumnsProvider","ShellWorkerImpl/BrowseFavoriteViewIdProvider","ShellWorkerImpl/BrowseManifestsProvider","ShellWorkerImpl/LocationsProvider","FxInternal/AsyncLoaderCore"],(function(n,t,i,r,u,f,e,o,s,h,c,l,a,v){function w(n,t){return(n&t)===t}function g(n,t){return o.find(n,t,-1)}Object.defineProperty(t,"__esModule",{value:!0});t.getBrowseManifestsForResourceTypesEndpointHandler=t.getBrowsePrereqsEndpointHandler=t.BrowsePrereqsProvider=void 0;var b=u.Browse.getBrowsePrereqsEndpoint,k=u.Browse.getBrowseManifestsForResourceTypesEndpoint,p={bladeName:"ResourceMenuBlade",extensionName:"HubsExtension"},d={partName:"ResourcePropertiesPinnedPart",extensionName:"HubsExtension"},y=(function(){function t(n,t,i,r,f,e,h,c){var l=this,a=t.getAssetTypesInformation().then((function(n){var t={};return n.forEach((function(n){var i,e=n.bladeName,r,u,f,o;i=!w(n.contracts,8)&&e?{bladeName:e,extensionName:n.bladeExtensionName||n.extensionName}:p;r=n.partName?{partName:n.partName,extensionName:n.partExtensionName||n.extensionName}:d;u=n.kinds||[];f=Object.create(null);u.length&&u.forEach((function(t){var h=t.useResourceMenu,e,s,u;e=h?p:t.bladeName?{bladeName:t.bladeName,extensionName:t.bladeExtensionName||n.extensionName}:i;s=t.partName?{partName:t.partName,extensionName:t.partExtensionName||n.extensionName}:r;u={displayName:{plural:t.pluralDisplayName,singular:t.singularDisplayName,lowerPlural:t.lowerPluralDisplayName,lowerSingular:t.lowerSingularDisplayName},description:n.description,icon:t.icon,bladeDetails:e,partDetails:s,kinds:t.kinds||[],options:t.options,isPreview:t.isPreview};f[(t.name||"").toLowerCase()]=u;t.isDefault&&(o=u)}));t[(n.resourceType||"").toLowerCase()]={assetId:"".concat(n.lowerCaseExtension,"_").concat(n.lowerCaseAssetType),browseOption:n.argBrowseOption,icon:n.icon,displayName:n.compositeDisplayName,description:n.description,bladeDetails:i,partDetails:r,kindMap:f,defaultKind:o,contracts:n.contracts,options:n.options,isPreview:n.isPreview,isDisabled:n.isDisabled,browseType:n.browseType,noPdlCreateBlade:n.noPdlCreateBlade,noPdlCreateExtension:n.noPdlCreateExtension,noPdlCreateParameters:n.noPdlCreateParameters,marketplaceItemId:n.marketplaceItemId,marketplaceMenuItemId:n.marketplaceMenuItemId,links:n.links,hiddenCommands:n.hiddenCommands,browseCommandExperiments:n.browseCommandExperiments,extensibleCommandsApiVersions:n.extensibleCommandsApiVersions,routingType:n.routingType,topLevelResourceTypeAlias:n.topLevelResourceTypeAlias,apiVersion:n.apiVersion,proxyRoutingFilters:n.proxyRoutingFilters,topLevelTenantAlias:n.topLevelTenantAlias}})),t})),v=function(n){return n?t.getAssetTypesInformation().then((function(t){var i=(n===null||n===void 0?void 0:n.toLowerCase())||"";return g(t,(function(n){return n.lowerCaseResourceType===i}))})):Promise.resolve(null)};this.getQueryManifest=function(n){return v(n).then((function(n){if(n){var t=n.lowerCaseAssetType;return f.getBrowseManifests(n.extensionName).then((function(i){var a=(i||[]).filter((function(n){return n.name.toLowerCase()===t})),v=c.isEnabled("argbrowseedgezones"),y=v?"id,name,type,location,subscriptionId,resourceGroup,kind,tags,extendedLocation":"id,name,type,location,subscriptionId,resourceGroup,kind,tags",e="where type =~ '".concat(n.lowerCaseResourceType,"'|project [FxColumns]"),h=function(n){var t=n.browseQuery.split("|"),i=t.map((function(n){return n.trim()})),r=i[i.length-1];return r.startsWith("project ")&&r.includes("[FxColumns]")&&(n.edgeZonesSupported=v,t[t.length-1]=t[t.length-1].replace("[FxColumns]",y),n.browseQuery=t.join("|")),n},r,u,f,l;if(a.length)return r=a[0],n.showArgColumns&&(u=function(n){return(typeof n=="string"?n.toLowerCase():n).toString()},f=__spreadArray([],Array(13),!0).map((function(n,t){return(t+1).toString()})),r.columns=r.columns&&r.columns.filter((function(t){var i=u(t.name);return f.includes(i)||n.showArgColumns[i]!==!1})),r.defaultColumns=r.defaultColumns&&r.defaultColumns.filter((function(t){var i=u(t);return f.includes(i)||n.showArgColumns[i]!==!1})),r.statusColumn&&(l=u(r.statusColumn),r.statusColumn=(f.includes(l)||n.showArgColumns[l]!==!1)&&r.statusColumn),r.defaultFilters=r.defaultFilters&&r.defaultFilters.filter((function(t){var i=u(t);return f.includes(i)||n.showArgColumns[i]!==!1}))),n.featureCardOptions&&(r=__assign(__assign({},r),{featureCards:n.featureCardOptions.slice()})),r.browseQuery||(r=o.extend2({browseQuery:e},r)),h(r);if(n.resourceType){if(n.argBrowseOption&&n.argBrowseOption!==4)return h({name:n.assetType,browseQuery:e,defaultColumns:null,columns:null});if(!w(n.contracts,2)&&s.assetTypeMeetsRequirements(n,5))return h({name:n.assetType,browseQuery:e,defaultColumns:null,columns:null})}}))}return Promise.resolve(null)}))};this.getBrowsePrereqs=function(t){var s=t.includeColumnsVersion,y=t.includeFavoriteViewId,f=t.resourceType,p=t.resourceTypeKey,w=h.getLocations(),c=(f||"").toLowerCase(),b=s?i.getBrowseColumns().then((function(n){return(n===null||n===void 0?void 0:n[s>1?15:6])||{}})):Promise.resolve(null),k=y?r.getBrowseFavoriteViewId((p||f||"").toLowerCase()).then((function(n){return n||"_default_"})):Promise.resolve(undefined),o,v;switch(c){case"microsoft.resources/resources":case"microsoft.resources/resourceswithtag":o=Promise.resolve({});break;default:o=l.getQueryManifest(f)}return v=e.getFeatureCards(c),Promise.all([w,a,o,b,k,v]).then((function(t){var r,f=t[0],e=t[1],i=t[2],o=t[3],s=t[4],h=t[5],c=((r=i===null||i===void 0?void 0:i.columns)===null||r===void 0?void 0:r.some((function(n){return n.format===7})))?u.Impl.getDirectoriesMap(n):Promise.resolve(null);return c.then((function(n){return{browseQueryManifest:i,locations:f,assetTypes:e,columnSettings:o,directoriesMap:n,favoriteViewId:s,featureCards:h}}))}))};this.getBrowseManifests=function(n){var t=n.map((function(n){return l.getQueryManifest(n).then((function(t){return{resourceType:n,manifest:t}}))}));return Promise.all(t).then((function(n){var t={};return n.forEach((function(n){return t[n.resourceType]=n.manifest})),t}))}}return __decorate([__metadata("fx:diagnostics",[n,"BrowsePrereqsProvider"]),i.Class(),__metadata("design:paramtypes",[r.Client,f.AssetTypes,h.BrowseColumnsProvider,c.BrowseFavoriteViewIdProvider,l.BrowseManifestsProvider,e.FeatureCards,a.LocationsProvider,FxImpl.Features])],t)})();t.BrowsePrereqsProvider=y;t.getBrowsePrereqsEndpointHandler=v.defineHandler(b,(function(n){var t=n.diContainer,i=n.messageArg;return Q(t.get(y).getBrowsePrereqs(i))}));t.getBrowseManifestsForResourceTypesEndpointHandler=v.defineHandler(k,(function(n){var t=n.diContainer,i=n.messageArg;return Q(t.get(y).getBrowseManifests(i))}))}));
define("ShellWorkerImpl/Core/AuthorizationState",["require","exports","Fx/DependencyInjectionCore","ShellWorker/AuthorizationState","FxInternal/AsyncLoaderCore","FxInternal/Rpc"],(function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});t.pushShellAuthTokensEndPointHandler=t.AuthorizationState=void 0;var e=(function(){function t(n,t){var r=n.extensionTokens,u=n.portalToken,f=n.userObjectId,e=n.isWritesDisallowedTenant,i=this;this._rpcClient=t;this._extensionTokens=r;this._portalToken=u;this.userObjectId=f;this.isWritesDisallowedTenant=e;this.onAuthTokensChange=function(n){var t=n.extensionTokens,r=n.portalToken;i._extensionTokens=t;i._portalToken=r}}return t.prototype.tryGetValidToken=function(n,t){return __awaiter(this,void 0,void 0,(function(){var s,f,i,e,o,u;return __generator(this,(function(h){switch(h.label){case 0:return(s=Date.now(),f=n==="fx"&&t==="",f?i=this._portalToken:(e=this._extensionTokens[n],i=e?e[t]:null),!i)?[3,3]:(o=i.expiresAt,!(o>0&&o-s<6e5))?[3,2]:[4,r.getAuthorizationTokenForShellWorkerEndPoint.invoke(this._rpcClient,"fx",{extensionName:n,resourceName:t})];case 1:return u=h.sent(),u&&(f?this._portalToken=u:(this._extensionTokens[n]||(this._extensionTokens[n]={}),this._extensionTokens[n][t]=u)),[2,u];case 2:return[2,i];case 3:return[2]}}))}))},t.prototype.getUnvalidatedExtensionTokens=function(){return this._extensionTokens},t.prototype.getUnvalidatedPortalToken=function(){return this._portalToken},__decorate([__metadata("fx:diagnostics",[n,"AuthorizationState"]),i.Value(),__metadata("design:paramtypes",[Object,f.Client])],t)})();t.AuthorizationState=e;t.pushShellAuthTokensEndPointHandler=u.defineHandler(r.pushShellAuthTokensEndPoint,(function(n){var t=n.diContainer,i=n.messageArg;t.get(e).onAuthTokensChange(i)}))}));
define("ShellWorkerImpl/Core/Diagnostics",["require","exports","Fx/DependencyInjectionCore","Fx/Diagnostics","FxInternal"],(function(n,t,i,r,u){var f,e;Object.defineProperty(t,"__esModule",{value:!0});t.Logging=t.Telemetry=void 0;f=(function(){function t(n){this.trace=function(t){n({telemetryEvent:u.extend2(t,{})})};this.flush=function(){n({flush:1})}}return __decorate([__metadata("fx:diagnostics",[n,"Telemetry"]),i.Value(),__metadata("design:paramtypes",[Function])],t)})();t.Telemetry=f;e=(function(n){function t(t){var i=n.call(this)||this;return i.writeEntry=function(n,i,u,f,e){t({logEntry:{level:n,area:i,message:r.getLogFriendlyMessage(u),code:f,args:e&&e.map((function(n){return n instanceof Error?r.getLogFriendlyMessage(n):n}))}})},i.flush=function(){t({flush:2})},i}return __extends(t,n),t.prototype.disable=function(){throw new Error("Not reached");},t})(r.Logging);t.Logging=e}));
define("ShellWorkerImpl/Core/Environment",["require","exports","Fx/DependencyInjectionCore"],(function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});t.Environment=void 0;var r=(function(){function t(){}return __decorate([__metadata("fx:diagnostics",[n,"Environment"]),i.Value()],t)})();t.Environment=r}));
define("ShellWorkerImpl/Core/ExtensionWorkerPrewarmer",["require","exports","Fx/DependencyInjectionCore","FxInternal/Rpc","FxInternal","ShellWorker/ExtensionWorkerPrewarmer","FxInternal/AsyncLoaderCore"],(function(n,t,i,r,u,f,e){var o,s;Object.defineProperty(t,"__esModule",{value:!0});t.onWorkerBootCompleteEndPointHandler=t.pushNewWorkerEndPointHandler=t.PrewarmerImpl=t.Prewarmer=void 0;o=(function(){function t(){}return t.create=function(n){return new s(n)},__decorate([__metadata("fx:diagnostics",[n,"Prewarmer"]),i.Factory(),__metadata("design:type",Function),__metadata("design:paramtypes",[r.Client]),__metadata("design:returntype",t)],t,"create",null),t})();t.Prewarmer=o;s=(function(){function n(n,t){var i=this;this._rpcClient=n;this._pool=[];this._pending=[];this._readying=Object.create(null);this.pushNewWorker=function(t){var s=t.portId,r=t.workerId,u={workerId:r,bootstrapPort:n.detachPort("fx",s),terminate:function(){delete i._readying[r];f.terminateWorkerEndPoint.invoke(n,"fx",{workerId:r})}},e,o;i._pending.length?i._pending.pop()(u):i._pool.push(u);o=new Promise(function(n){e=n});i._readying[r]={resolveOnFailed:e,onFailedPromise:o}};this.onWorkerBootComplete=function(n){var o,r=n.workerId,s=n.error,h,c,e;t===null||t===void 0?void 0:t(r,s);h=Promise.resolve();s&&(c=u.findIndex(i._pool,(function(n){var t=n.workerId;return r===t})),c>=0&&(i._pool.splice(c,1),f.onGetWorkerCalledEndPoint.invoke(i._rpcClient,"fx")),e=(o=i._readying[r])===null||o===void 0?void 0:o.onFailedPromise,e&&(e.then((function(n){n(s)})),h=e));h.then((function(){delete i._readying[r]}))}}return n.prototype.getWorker=function(n){var i=this,t;return f.onGetWorkerCalledEndPoint.invoke(this._rpcClient,"fx"),t=this._pool.length?Promise.resolve(this._pool.pop()):new Promise(function(n){i._pending.push(n)}),t.then((function(t){var r,u=t.workerId;(r=i._readying[u])===null||r===void 0?void 0:r.resolveOnFailed(n)})),t},n})();t.PrewarmerImpl=s;t.pushNewWorkerEndPointHandler=e.defineHandler(f.pushNewWorkerEndPoint,(function(n){var t=n.diContainer,i=n.messageArg;t.get(o).pushNewWorker(i)}));t.onWorkerBootCompleteEndPointHandler=e.defineHandler(f.onWorkerBootCompleteEndPoint,(function(n){var t=n.diContainer,i=n.messageArg;t.get(o).onWorkerBootComplete(i)}))}));
define("ShellWorkerImpl/Core/IFrameExtensionLoader",["require","exports","ShellWorker/IFrameExtensionLoader","FxInternal"],(function(n,t,i,r){Object.defineProperty(t,"__esModule",{value:!0});t.loadInIFrame=void 0;t.loadInIFrame=(function(){var n=0;return function(t,u){var e=n++,o=t.acquireWindow("fx",0,u.port),f=function(){o.dispose()};return i.loadExtensionInIFrameEndPoint.invoke(t,"fx",__assign(__assign({},u),{iframeId:e,portId:o.value})).then((function(n){return r.extend(n,{cleanup:function(){f&&(f(),f=null,i.disposeExtensionIFrameEndPoint.invoke(t,"fx",{iframeId:e}))}})}))}})()}));
define("ShellWorkerImpl/Core/ExtensionLoader",["require","exports","Fx/DependencyInjectionCore","FxInternal","ShellWorkerImpl/Core/ExtensionManagerOptions","ShellWorkerImpl/Core/ExtensionWorkerPrewarmer","ShellWorkerImpl/Core/Environment","ShellWorkerImpl/Core/Diagnostics","FxInternal/Features","ShellWorkerImpl/Core/IFrameExtensionLoader","FxInternal/Rpc","FxInternal/Lifetime"],(function(n,t,i,r,u,f,e,o,s,h,c,l){function rt(n){return n=n.filter((function(n){return n[1]!==undefined})),(n.length?"?":"")+n.map((function(n){return n.map(encodeURIComponent).join("=")})).sort().join("&")}function y(n,t){return/^\w+:\/\//.test(n)?n:n.indexOf("//")?n[0]==="/"?t.origin+n:t.origin+t.pathname+n:t.protocol+n}function b(n,t){var u=document.createElement("a"),r,i;u.href=n;r=u.href;i=r.indexOf("//");i=i===-1?0:i;var f=i>0?r.substring(0,i):t,e=r.indexOf("/",i+2),o=e===-1?r.indexOf("?"):e,s=r.substring(i+2,o===-1?undefined:o);return{origin:f+"//"+s,protocol:f,href:r}}function k(n,t,i,r){var u=n.metadata;return{environment:r,extensionName:u.name,extensionRedirectMap:n.extensionRedirectMap,hostingServiceBaseDomains:u.baseDomains,href:t.href,instanceIndex:n.loadContext.instanceIndex,origin:t.origin,protocol:t.protocol,stamp:u.stamp||"",thirdPartyExtension:!!(u.flags&16),tokens:n.loadContext.tokens,usePortalArmToken:!!(u.flags&8),userObjectId:n.loadContext.userObjectId,userQuery:n.environment.userQuery,isWriteDisallowedTenant:n.loadContext.isWritesDisallowedTenant,blockedHosts:i}}function p(n,t){var r=n.metadata,e=r.name,u=y(t?r.homePageUri:r.prewarmUri,n.environment.location),h=e==="HubsExtension"?MsPortalFx.getEnvironmentValue("pageVersion"):n.manifest.pageVersion,i=[],f=u.indexOf("?"),c=f===-1?u:u.slice(0,f),o,s;return f>=0&&u.slice(f+1).split("&").forEach((function(n){var t=n.split("=");i.push([t[0],t[1]])})),o=["bundlingKind","cacheVersion",],s=n.features,r.name==="HubsExtension"&&o.push("configHash"),o.forEach((function(n){i.push([n,s.getValue(e+"_"+n)||s.getValue(n)])})),i.push(["clientOptimizations",n.clientOptimizations],["pageVersion",h],["l",n.environment.displayLanguage],["trustedAuthority",n.environment.location.host],["extensionName",e],["cacheability","3"]),n.reloadCount&&i.push(["retryAttempt",n.reloadCount],["sessionId",n.environment.sessionId]),t||i.push(["environmentjson",!0]),c+rt(i)}function tt(n,t,i,r,u,f,e,o){var s={source:"ExtensionLoader",action:u,actionModifier:"complete",data:undefined},h=a();return function(){var c=a(),u;if(t.status>=400&&(o="Request Error"),o)r(new Error(JSON.stringify({message:o,responseHeaders:t.getAllResponseHeaders(),responseText:t.responseText,status:t.status,statusText:t.statusText,uri:n}))),s.data=o,s.actionModifier="cancel";else{u={};try{t.getAllResponseHeaders().split("\r\n").map((function(n){return n.split(": ")})).forEach((function(n){var t=n[0].toLowerCase();u[t]=n[1]}))}catch(l){}i({value:t.response||t.responseText,endTime:c,retryIndex:f,headers:u})}s.duration=c-h;e.trace(s)}}function it(n,t){var i=n.telemetryAction;return t=t||0,new Promise(function(r,u){var f=new XMLHttpRequest,e=n.uri;f.open(n.method||"GET",e);f.onload=tt(e,f,r,u,i,t,n.telemetry);f.onerror=tt(e,f,r,u,i,t,n.telemetry,"Network Error");f.send(n.body)}).catch((function(i){if(t<(n.retryCount||0))return it(n,t+1);throw i;}))}var v,a,d,w,g,nt;Object.defineProperty(t,"__esModule",{value:!0});t.ExtensionLoaderImpl=t.ExtensionLoaderFactory=t.createUri=t.parseUri=t.coerceUri=void 0;v=self;a=v.fx.getTimestamp;t.coerceUri=y;t.parseUri=b;t.createUri=p;d=(function(){function t(n,t,i,r,u,f){this.create=function(e){var o=n.extensions,s=n.manifests,h=n.loadTypes,c=n.extensionRedirectMap,l=n.blockedHosts;return new w({extensionRedirectMap:c},o[e],s[e],h[e],t,i,r,u,f,l)}}return __decorate([__metadata("fx:diagnostics",[n,"ExtensionLoaderFactory"]),i.Class(),__metadata("design:paramtypes",[u.ExtensionManagerOptions,f.Prewarmer,e.Environment,s.Features,o.Telemetry,c.Client])],t)})();t.ExtensionLoaderFactory=d;w=(function(){function n(n,t,i,r,u,f,e,o,s,h){this._options=n;this._metadata=t;this._manifest=i;this._loadType=r;this._prewarmer=u;this._environment=f;this._features=e;this._telemetry=o;this._rpcClient=s;this._blockedHosts=h;this.telemetry=[]}return n.prototype.loadExtension=function(n){var t=this;if(this._currentContext)throw new Error("Extension ".concat(this._metadata.name," is already loading."));var u=r.defer(),f=this._features,i=f.isEnabled("nativeperf")&&v.performance,e=function(){var s=t.telemetry.length,o=t._metadata.name+"_ExtensionLoad",v,h,r,c,l;if(s>2){v={reloadCount:s,timestamp:a(),type:"TooManyRefreshes"};u.reject(v);return}h={clientOptimizations:n.clientOptimizations,extensionRedirectMap:t._options.extensionRedirectMap,loadContext:n,manifest:t._manifest,metadata:t._metadata,reloadCount:s,environment:t._environment,features:f,telemetry:t._telemetry,errorHandler:n.errorHandler,blockedHosts:t._blockedHosts};switch(t._loadType){case 1:case 2:r=new g(h,t._prewarmer);break;case 0:r=new nt(h,t._rpcClient);break;case 3:u.resolve({rpcPort:(new MessageChannel).port1,loadEndTime:a()});return}t._currentContext=r;t.telemetry.push(r.telemetry);c=function(i){clearTimeout(l);r.cleanUp();t._currentContext===r&&(n.errorHandler(i),t._currentContext=null,t._loadType===2&&console.error("Failed to load as prewarmed extension: "+t._metadata.name),e())};r.load().then((function(n){clearTimeout(l);i&&(i.mark(o+"End"),i.measure(o,o+"Start",o+"End"));t._currentContext===r&&u.resolve(n)}),c);i&&i.mark(o+"Start");l=setTimeout((function(){c({timestamp:a(),type:"InitializationTimeout"})}),n.loadTimeout)};return e(),u.promise},n.prototype.unloadExtension=function(){this._currentContext&&this._currentContext.cleanUp();this._currentContext=null;this.telemetry=[]},n})();t.ExtensionLoaderImpl=w;g=(function(){function n(n,t){var i=this;this.telemetry={messageReceivedTimes:{}};this._lifetime=new l.TriggerableLifetimeManager;var r=n.environment.location,u=n.telemetry,f=n.blockedHosts,e=b(y(n.metadata.homePageUri,r),r.protocol);this._uri=this.telemetry.uriUsed=p(n);this.load=function(){i.telemetry.loadRequestedTime=a();return i._loadPromise=new Promise(function(r,o){var h=o,c=it({uri:i._uri,telemetryAction:"EnvironmentFetch",retryCount:1,telemetry:u}),s;c.catch((function(n){h({type:"EnvironmentFetchFailed",timestamp:a(),error:n})}));s=function(o){var w=function(t,i){i===void 0&&(i=!0);o>=2?h(t):(i&&n.errorHandler(t),s(o+1))},l,y=t.getWorker((function(n){l=!0;w(n,(n===null||n===void 0?void 0:n.type)!=="WebWorkerPrewarmTimeout")})).then((function(n){return i._lifetime.registerForDispose((function(){n.terminate()})),n})),p=n.loadContext.prewarmerScriptUri,b=MsPortalFx.getEnvironmentValue("pageVersion"),d=n.manifest.pageVersion;n.features.isEnabled("skipprewarmerforhubs")&&n.metadata.name==="HubsExtension"&&d!==b&&(p=null,u.trace({source:"ExtensionLoader",action:"PrewarmerSkippedForHubsDueToVersionMismatch",data:{hubsManifestVersion:d,shellVersion:b}}));p&&(y=y.then((function(n){return l||n.bootstrapPort.postMessage({kind:5,data:p}),n})));Promise.all([y,c.catch((function(){})),]).then((function(t){var b=t[0],u=t[1],h,w;if(!l&&u){i.telemetry.environmentFetchTime=u.endTime;var s=u.headers,y=i.telemetry.afdCorrelationHeader=s["x-azure-ref"]||"",d=s["x-ms-original-xref"]||"";i.telemetry.workerLoadRetryCount=o;i.telemetry.hostingServiceResponseId=s["x-ms-hosting-responseid"];i.telemetry.homepageSize=s["content-length"];i.telemetry.afdCacheHit=y!==""&&d.indexOf(y)>-1;i.telemetry.bytesTransferred=-1;v.performance&&v.performance.getEntriesByName&&(h=v.performance.getEntriesByName(i._uri),i.telemetry.bytesTransferred=h[0]&&h[0].transferSize);var p=new MessageChannel,g=p.port1,nt=p.port2,c=b.bootstrapPort;c.postMessage({kind:3,data:k(n,e,f,u.value)},[g]);w=a();c.onmessage=function(n){var t;((t=n.data)===null||t===void 0?void 0:t.kind)===8&&(c.onmessage=null,r({rpcPort:nt,loadEndTime:w}))}}})).catch((function(n){w({type:"WebWorkerFailed",timestamp:a(),error:n})}))};s(0)})}}return n.prototype.cleanUp=function(){var n=this;this._cleanupScheduled||(this._cleanupScheduled=!0,this._loadPromise.finally((function(){setTimeout((function(){return n._lifetime.dispose()}),1e3);n.telemetry.unloadTime=a()})))},n})();nt=(function(){function n(n,t){var i=this;this.telemetry={};var u=new MessageChannel,f=u.port1,e=u.port2,o={postBootEnv:k(n,{},[]),uri:p(n,!0),port:f};this.load=function(){return i.telemetry.loadRequestedTime=a(),i._loadPromise=new Promise(function(n,u){h.loadInIFrame(t,o).then((function(t){var o=t.telemetry,s=t.cleanup,f=t.error;r.extend(i.telemetry,o);i._cleanup=s;f?u(f):n({rpcPort:e,loadEndTime:a()})}))})}}return n.prototype.cleanUp=function(){var n=this;this._loadPromise.finally((function(){n._cleanup&&n._cleanup()}));this.telemetry.unloadTime=a()},n})()}));
define("ShellWorkerImpl/Core/PreloadData",["require","exports","Fx/DependencyInjectionCore","FxInternal/AsyncLoaderCore","ShellWorker/PreloadData"],(function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});t.pushPreloadDataEndPointHandler=t.PreloadData=void 0;var f=(function(){function t(){var n=this;this._cache=new Promise(function(t){return n._resolve=t})}return t.prototype.getPreloadedData=function(){return this._cache},t.prototype.primeData=function(n){this._resolve(n)},__decorate([__metadata("fx:diagnostics",[n,"PreloadData"]),i.Class(),__metadata("design:paramtypes",[])],t)})();t.PreloadData=f;t.pushPreloadDataEndPointHandler=r.defineHandler(u.pushPreloadDataEndPoint,(function(n){var t=n.diContainer,i=n.messageArg;t.get(f).primeData(i)}))}));
define("ShellWorkerImpl/Core/ExperimentationClient",["require","exports","Fx/DependencyInjectionCore","FxInternal/Rpc","FxInternal/RpcEndPointsCore","Fx/Diagnostics","ShellWorkerImpl/Core/Diagnostics","ShellWorkerImpl/Core/Environment","ShellWorkerImpl/Core/ExtensionLoader","ShellWorkerImpl/Core/AuthorizationState","ShellWorkerImpl/Core/PreloadData","FxInternal"],(function(n,t,i,r,u,f,e,o,s,h,c,l){var v;Object.defineProperty(t,"__esModule",{value:!0});t.ExperimentationClientImpl=t.ExperimentationClient=void 0;var y=window,p=y.fx.getTimestamp,a="/api/Experimentation/GetExtensionVariants?extension=",w=(function(){function t(){}return t.create=function(n,t,i,r,u,f,e){var o=e.getPreloadedData().then((function(n){if(n!==null&&n!==void 0)return n.variants}));return new v(n,t,i,r,u,f,o)},__decorate([__metadata("fx:diagnostics",[n,"ExperimentationClient"]),i.Factory(),__metadata("design:type",Function),__metadata("design:paramtypes",[r.Client,FxImpl.Features,e.Telemetry,f.Logging,o.Environment,h.AuthorizationState,c.PreloadData]),__metadata("design:returntype",t)],t,"create",null),t})();t.ExperimentationClient=w;v=(function(t){function i(i,r,f,e,o,h,c){function b(n,t,i,r){var u;return __awaiter(this,void 0,void 0,(function(){function nt(t,i){i===void 0&&(i=undefined);f.trace({source:"ExperimentationClient",action:"ExperimentationCall",actionModifier:t,duration:p()-ot,extension:n,data:i})}var g,tt,v,b,it,rt,ut,ft,et,ot,e,k,d,st,ht,ct,lt,h,at;return __generator(this,(function(f){switch(f.label){case 0:return g=n.toLowerCase(),tt="&extensionVersion="+t,[4,c];case 1:if(v=f.sent(),v===null||v===void 0?void 0:v.hasOwnProperty(g))return[2,v[g]];if(b=v===null||v===void 0?void 0:v.hubsextension,!r)return[2,b];it=o.effectiveLocale;rt=o.location;ut=o.sdkVersion;ft=o.sessionId;et=s.coerceUri(a+g+tt,rt);ot=p();f.label=2;case 2:f.trys.push([2,11,,12]);e=void 0;k=0;f.label=3;case 3:return(k<3)?[4,i.tryGetValidToken("fx","")]:[3,7];case 4:return(d=f.sent(),!d)?(w.warning("Null auth token. uri: ".concat(a,", Attempt: ").concat(k)),[3,6]):[4,y.fetch(et,{method:"GET",headers:{Authorization:d===null||d===void 0?void 0:d.header,"Content-Type":"application/json","x-ms-client-session-id":ft,"x-ms-effective-locale":it,"x-ms-version":ut}})];case 5:if(e=f.sent(),e.status!==401)return[3,7];w.warning("Ajax call unauthorized. uri: ".concat(a,", status code: ").concat(e.status,"}. Attempt: ").concat(k));f.label=6;case 6:return k++,[3,3];case 7:return!(e===null||e===void 0?void 0:e.ok)?(nt("Failed"),ht=(st=w).warning,lt=(ct="Ajax call failed. uri: ".concat(a,", status code: ").concat(e===null||e===void 0?void 0:e.status,", response: ")).concat,[4,(u=e===null||e===void 0?void 0:e.text)===null||u===void 0?void 0:u.call(e)]):[3,9];case 8:return ht.apply(st,[lt.apply(ct,[f.sent()])]),[2,null];case 9:return[4,e.json()];case 10:return h=f.sent(),b&&n!=="hubsextension"&&(h?(h.assignmentContext=(h.assignmentContext||"")+(b.assignmentContext||""),h.flights=l.union(h.flights,b.flights),h.variables=__assign(__assign({},b.variables),h.variables)):h=b),nt("Succeeded",h),[2,h];case 11:return at=f.sent(),nt("Failed"),[2,null];case 12:return[2]}}))}))}var v=t.call(this)||this,w;return v._cache=new Map,w=e.createLog(n),v.tryGetAndAssignFlights=function(n,t){return __awaiter(v,void 0,void 0,(function(){var e,f,o;return __generator(this,(function(s){switch(s.label){case 0:return r.isEnabled("experimentation")?(f=this._cache.get(n),f)?[3,2]:[4,b(n,t.pageVersion,h,t.enableExperimentation)]:[3,4];case 1:f=s.sent();s.label=2;case 2:return e=f,[4,u.setExtensionFlightsEndPoint.invoke(i,n,e)];case 3:o=s.sent();this._cache.set(n,o);s.label=4;case 4:return[2]}}))}))},v}return __extends(i,t),i})(w);t.ExperimentationClientImpl=v}));
define("ShellWorkerImpl/Core/ExtensionManager",["require","exports","Fx/DependencyInjectionCore","ShellWorkerImpl/Core/ExtensionManagerOptions","ShellWorkerImpl/Core/ExtensionLoader","ShellWorker/ExtensionManager","ShellWorkerImpl/Core/AuthorizationState","Fx/Diagnostics","ShellWorkerImpl/Core/Diagnostics","FxInternal/Rpc","FxInternal/Features","ShellWorkerImpl/Core/Environment","FxInternal","ShellWorkerImpl/Core/ExperimentationClient","FxInternal/AsyncLoaderCore"],(function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y){function it(n,t,i,r){var f;return n==="bundle"&&t[1]?f="/"+t[1]:n==="true"&&t[0]&&(f="/Content/Dynamic/"+t[0]+".js"),f&&u.coerceUri(i.prewarmUri,r)+f}var p,b,nt,k;Object.defineProperty(t,"__esModule",{value:!0});t.Extension=t.ExtensionManager=t.ExtensionFactory=t.setRequestedBladeEndPointHandler=t.RpcStarter=void 0;var tt=window,w=tt.fx.getTimestamp,d="ShellWorkerExtensionManager",g="ExtensionLoad";p=(function(){function t(n,t,i){this._rpcPort=n;this._features=t;this._environment=i;this._requestedBlades={}}return t.prototype.startRpc=function(n,t,i){var r=this,u=new h.RpcChannel(this._rpcPort);t.start({instanceIndex:0,loadChannelFunction:function(t,f){var e;if(t==="fx")return u;if(e=i[t],!e)throw new Error("Failed to load extension '".concat(t,"'."));var s=n.extensions[t],o=n.manifests[s.name],c=r._requestedBlades[t],h=(r._features.getValue(t+"_clientoptimizations")||r._features.getValue("clientoptimizations")||(s.isTestExtension?"false":r._environment.clientOptimizations)).toLowerCase(),l=r._features.isEnabled("bladeprefetch")&&o.prewarmerScript&&(e.name==="HubsExtension"||o.weaveBladesMap&&o.weaveBladesMap[c]&1),a=l?it(h,o.prewarmerScript,s,r._environment.location):null;return e.loadChannel(f,h,a)},originId:"fxw",shellChannel:undefined,windowRedirectMap:n.extensionRedirectMap})},t.prototype.setRequestedBlade=function(n,t){this._requestedBlades[n]=t},__decorate([__metadata("fx:diagnostics",[n,"RpcStarter"]),i.Value(),__metadata("design:paramtypes",[MessagePort,c.Features,l.Environment])],t)})();t.RpcStarter=p;t.setRequestedBladeEndPointHandler=y.defineHandler(f.setRequestedBladeEndPoint,(function(n){var i=n.diContainer,t=n.messageArg,r=t.extensionName,u=t.bladeName;i.get(p).setRequestedBlade(r,u)}));b=(function(){function t(n,t,i,r,u,f,e){this._options=n;this._features=t;this._logging=i;this._telemetry=r;this._authState=u;this._extensionLoaderFactory=f;this._experimentationClient=e}return t.prototype.createExtension=function(n,t){var i=this._options.manifests;return new k(n,i[n.name],this._authState,this._features,t,this._logging,this._telemetry,this._extensionLoaderFactory,this._experimentationClient)},__decorate([__metadata("fx:diagnostics",[n,"ExtensionFactory"]),i.Class(),__metadata("design:paramtypes",[r.ExtensionManagerOptions,c.Features,o.Logging,s.Telemetry,e.AuthorizationState,u.ExtensionLoaderFactory,v.ExperimentationClient])],t)})();t.ExtensionFactory=b;nt=(function(){function t(n,t,i,r){var u=function(n,i){a.isNullOrUndefined(i.loadTime)||t.getTotalRefCountTo(n).subscribe((function(t){u(n,{refCount:t})}));f.onExtensionStateChangeEndPoint.invoke(t,"fx",a.extend2(i,{name:n}))},e=Object.keys(r.extensions).reduce((function(t,i){var f=r.extensions[i];return t[i]=n.createExtension(f,(function(n){u(i,n)})),t}),{});i.startRpc(r,t,e);e.HubsExtension&&t.acquireWindow("HubsExtension",-1);t.acquireWindow("fx",-1)}return __decorate([__metadata("fx:diagnostics",[n,"ExtensionManager"]),i.Class(),__metadata("design:paramtypes",[b,h.Client,p,r.ExtensionManagerOptions])],t)})();t.ExtensionManager=nt;k=(function(){function t(t,i,r,u,f,e,o,s,h){this._manifest=i;this._authState=r;this._features=u;this._onExtensionStateChange=f;this._logging=e;this._telemetry=o;this._experimentationClient=h;this.name=t.name;this._canUsePortalArmToken=!!(t.flags&8);this._log=e.createLog(n);this._extensionLoader=s.create(this.name)}return t.prototype.loadChannel=function(n,t,i){var r=this,s=a.defer(),u=new h.RpcChannel(s.promise),c=function(n,t){var i="Error while loading extension ".concat(r.name,": ").concat(n.type),f={extVersion:r._manifest.pageVersion,timeThisExtensionFailed:w(),extensionTelemetry:r._extensionLoader.telemetry,error:n},e=a.createError(i,__assign({data:f},(n===null||n===void 0?void 0:n.error)instanceof Error&&{innerErrors:n.error}));r._log.error(e,0);r._logging.flush();t||(r._telemetry.trace({source:d,action:g,actionModifier:"cancel",data:f,name:r.name}),u.dispose(i),r._onExtensionStateChange({error:e}))},f,e,o;this._features.isEnabled("pushtokens")&&(e=this._authState.getUnvalidatedExtensionTokens(),f=e[this.name]&&a.extend({},e[this.name])||{},this._authState.getUnvalidatedPortalToken()&&this._canUsePortalArmToken&&(f[""]=this._authState.getUnvalidatedPortalToken()));o=w();Q.nextTick((function(){r._extensionLoader.loadExtension({clientOptimizations:t,errorHandler:function(n){c(n,!0)},instanceIndex:n,loadTimeout:9e4,prewarmerScriptUri:i,tokens:f,userObjectId:r._authState.userObjectId,isWritesDisallowedTenant:r._authState.isWritesDisallowedTenant}).then((function(n){var i=n.rpcPort,u=n.loadEndTime,t;s.resolve(i);t=u-o;r._telemetry.trace({source:d,action:g,actionModifier:"complete",duration:t,name:r.name,data:{shellSide:r._extensionLoader.telemetry,extVersion:r._manifest.pageVersion,extSide:undefined,totalTime:w()-o}});r._onExtensionStateChange({loadTime:t})}),(function(n){c(n,!1)}));r._experimentationClient.tryGetAndAssignFlights(r.name,r._manifest)}));u.onDispose((function(){r._onExtensionStateChange({loadTime:null});r._extensionLoader.unloadExtension()}));return u},t})();t.Extension=k}));
define("ShellWorkerImpl/RpcEndPoints",["require","exports","FxInternal/AsyncLoaderCore","ShellWorker/AssetTypes","ShellWorker/FeatureCards","FxHubs/RpcEndPointsCore","FxHubs/RpcEndPointsCore","ShellWorker/Browse","ShellWorker/Locations","FxInternal/ResourceManagement/LocationsCore","ShellWorker/Subscriptions","FxInternal/ResourceManagement/SubscriptionsCore","ShellWorker/GlobalResourceFilters","FxInternal/ResourceManagement/GlobalResourceFiltersCore","FxHubs/RpcEndPointsCore","ShellWorker/UserInfo","FxInternal/RpcEndPointsCore","ShellWorker/AuthorizationState","ShellWorker/ExtensionWorkerPrewarmer","ShellWorker/ExtensionManager","FxInternal","ShellWorker/PreloadData"],(function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt){function ht(n){var t={"ShellWorkerImpl/AssetTypes":{pushAssetTypesEndPointHandler:i.makeRegistration(r.pushAssetTypesEndPoint,"fx"),getAssetTypesInformationEndPointHandler:i.makeRegistration(rt),getSingleAssetTypeInformationEndPointHandler:i.makeRegistration(ut,["fx","HubsExtension"])},"ShellWorkerImpl/BrowseColumnsProvider":{onBrowseColumnsUpdatedEndPointHandler:i.makeRegistration(et,"HubsExtension")},"ShellWorkerImpl/BrowseFavoriteViewIdProvider":{onBrowseFavoriteViewIdUpdatedEndPointHandler:i.makeRegistration(ot,"HubsExtension")},"ShellWorkerImpl/BrowseMetadataProvider":{pushBrowseMetadataEndPointHandler:i.makeRegistration(o.pushBrowseMetadataEndPoint,"fx")},"ShellWorkerImpl/BrowsePrereqsProvider":{getBrowsePrereqsEndpointHandler:i.makeRegistration(ft,["fx","HubsExtension"]),getBrowseManifestsForResourceTypesEndpointHandler:i.makeRegistration(st,"fx")},"ShellWorkerImpl/FeatureCards":{pushFeatureCardsEndPointHandler:i.makeRegistration(u.pushFeatureCardsEndPoint,"fx")},"ShellWorkerImpl/LocationsProvider":{pushLocationsEndPointHandler:i.makeRegistration(s.pushLocationsEndPoint,"fx"),getLocationDisplayNamesEndPointHandler:i.makeRegistration(h.getLocationDisplayNamesEndPoint)},"ShellWorkerImpl/SubscriptionsProvider":{pushSelectedSubscriptionsEndpointHandler:i.makeRegistration(c.pushSelectedSubscriptionsEndpoint,"fx"),getInSessionSelectedSubscriptionsEndpointHandler:i.makeRegistration(l.getInSessionSelectedSubscriptionsEndPoint),pushStartupSubscriptionsEndpointHandler:i.makeRegistration(c.pushStartupSubscriptionsEndpoint,"fx"),getSubscriptionInfoEndPointHandler:i.makeRegistration(l.getSubscriptionInfoEndPoint),pushSubscriptionsCountEndpointHandler:i.makeRegistration(c.pushSubscriptionsCountEndpoint,"fx"),getAllSubscriptionsCountEndPointHandler:i.makeRegistration(it),pushGlobalFilterSubscriptionsEndpointHandler:i.makeRegistration(c.pushGlobalFilterSubscriptionsEndpoint,"fx")},"ShellWorkerImpl/GlobalResourceFiltersProvider":{pushActiveGlobalResourceFilterEndpointHandler:i.makeRegistration(a.pushActiveGlobalResourceFilterEndPoint,"fx"),getActiveGlobalResourceFilterEndpointHandler:i.makeRegistration(v.getActiveGlobalResourceFilterEndPoint)},"ShellWorkerImpl/UserInfoProvider":{pushUserInfoEndpointHandler:i.makeRegistration(p.pushUserInfoEndpoint,"fx"),getUserInfoEndPointHandler:i.makeRegistration(w.getUserInfoEndPoint)},"ShellWorkerImpl/Core/AuthorizationState":{pushShellAuthTokensEndPointHandler:i.makeRegistration(b.pushShellAuthTokensEndPoint,"fx")},"ShellWorkerImpl/Core/ExtensionManager":{setRequestedBladeEndPointHandler:i.makeRegistration(d.setRequestedBladeEndPoint,"fx")},"ShellWorkerImpl/Core/ExtensionWorkerPrewarmer":{pushNewWorkerEndPointHandler:i.makeRegistration(k.pushNewWorkerEndPoint,"fx"),onWorkerBootCompleteEndPointHandler:i.makeRegistration(k.onWorkerBootCompleteEndPoint,"fx")},"ShellWorkerImpl/Core/PreloadData":{pushPreloadDataEndPointHandler:i.makeRegistration(nt.pushPreloadDataEndPoint,"fx")}};g.forEachKey(t,ct);i.registerRpc(n,t)}function ct(n){tt.requirejs([n],g.noop,g.noop)}Object.defineProperty(t,"__esModule",{value:!0});t.registerRpc=void 0;var tt=window,it=y.Subscriptions.getAllSubscriptionsCountEndPoint,rt=f.AssetTypes.getAssetTypesInformationEndPoint,ut=f.AssetTypes.getSingleAssetTypeInformationEndPoint,ft=e.Browse.getBrowsePrereqsEndpoint,et=e.Browse.onBrowseColumnsUpdatedEndPoint,ot=e.Browse.onBrowseFavoriteViewIdUpdatedEndPoint,st=e.Browse.getBrowseManifestsForResourceTypesEndpoint;t.registerRpc=ht}));
define("ShellWorkerImpl/Init",["require","exports","ShellWorkerImpl/Core/ExtensionManager","ShellWorkerImpl/RpcEndPoints","ShellWorkerImpl/Core/PreloadData","FxInternal/Experimentation"],(function(n,t,i,r,u,f){function e(n){return __awaiter(this,void 0,void 0,(function(){function t(){var t,i;return __awaiter(this,void 0,void 0,(function(){var r;return __generator(this,(function(e){switch(e.label){case 0:return[4,n.get(u.PreloadData).getPreloadedData()];case 1:return r=(i=(t=e.sent())===null||t===void 0?void 0:t.variants)===null||i===void 0?void 0:i.hubsextension,n.get(f.ExperimentationManager).setExtensionFlights(r),[2]}}))}))}return __generator(this,(function(){return n.get(i.ExtensionManager),r.registerRpc(n),void t(),[2]}))}))}Object.defineProperty(t,"__esModule",{value:!0});t.init=void 0;t.init=e}));
define("ShellWorkerImpl/SubscriptionsProvider",["require","exports","Fx/DependencyInjectionCore","FxInternal/Rpc","ShellWorker/Subscriptions","FxInternal/ResourceManagement/SubscriptionsCore","FxHubs/RpcEndPointsCore","FxInternal/AsyncLoaderCore"],(function(n,t,i,r,u,f,e,o){Object.defineProperty(t,"__esModule",{value:!0});t.pushGlobalFilterSubscriptionsEndpointHandler=t.getAllSubscriptionsCountEndPointHandler=t.pushSubscriptionsCountEndpointHandler=t.getSubscriptionInfoEndPointHandler=t.pushStartupSubscriptionsEndpointHandler=t.getInSessionSelectedSubscriptionsEndpointHandler=t.pushSelectedSubscriptionsEndpointHandler=t.SubscriptionsProvider=void 0;var h=e.Subscriptions.getAllSubscriptionsCountEndPoint,s=(function(){function t(n){var t=this,i,e,o=new Promise(function(n){e=n}),r,u;this.onSelectedSubscriptionsChange=function(n){var t=n.inSession;i=t;e()};this.getInSessionSelectedSubscriptions=function(){return o.then((function(){return i}))};r=new Promise(function(n){t.resolveStartupSubscriptionsInfo=n});this.getSubscriptionInfo=function(i){return __awaiter(t,void 0,void 0,(function(){var t;return __generator(this,(function(u){switch(u.label){case 0:return[4,r];case 1:return t=u.sent().subscriptions,[2,t[i]||f.getSubscriptionInfoEndPoint.invoke(n,"fx",i)]}}))}))};u=new Promise(function(n){return t.resolveCountData=n});this.getAllSubscriptionsCount=function(){return u};this.setFilteredSubscriptions=function(n){r=Promise.resolve({subscriptions:n.reduce((function(n,t){return n[t.subscriptionId]=t,n}),Object.create(null))});u=Promise.resolve({type:1,value:n.length});i=n}}return __decorate([__metadata("fx:diagnostics",[n,"SubscriptionsProvider"]),i.Class(),__metadata("design:paramtypes",[r.Client])],t)})();t.SubscriptionsProvider=s;t.pushSelectedSubscriptionsEndpointHandler=o.defineHandler(u.pushSelectedSubscriptionsEndpoint,(function(n){var t=n.diContainer,i=n.messageArg;t.get(s).onSelectedSubscriptionsChange(i)}));t.getInSessionSelectedSubscriptionsEndpointHandler=o.defineHandler(f.getInSessionSelectedSubscriptionsEndPoint,(function(n){var t=n.diContainer;return t.get(s).getInSessionSelectedSubscriptions().then((function(n){return n.slice()}))}));t.pushStartupSubscriptionsEndpointHandler=o.defineHandler(u.pushStartupSubscriptionsEndpoint,(function(n){var t=n.diContainer,i=n.messageArg;t.get(s).resolveStartupSubscriptionsInfo(i)}));t.getSubscriptionInfoEndPointHandler=o.defineHandler(f.getSubscriptionInfoEndPoint,(function(n){var t=n.diContainer,i=n.messageArg;return t.get(s).getSubscriptionInfo(i).then((function(n){return __assign({},n)}))}));t.pushSubscriptionsCountEndpointHandler=o.defineHandler(u.pushSubscriptionsCountEndpoint,(function(n){var t=n.diContainer,i=n.messageArg;t.get(s).resolveCountData(i)}));t.getAllSubscriptionsCountEndPointHandler=o.defineHandler(h,(function(n){var t=n.diContainer;return t.get(s).getAllSubscriptionsCount().then((function(n){return __assign({},n)}))}));t.pushGlobalFilterSubscriptionsEndpointHandler=o.defineHandler(u.pushGlobalFilterSubscriptionsEndpoint,(function(n){var t=n.diContainer,i=n.messageArg;t.get(s).setFilteredSubscriptions(i)}))}));
define("ShellWorkerImpl/UserInfoProvider",["require","exports","Fx/DependencyInjectionCore","ShellWorker/UserInfo","FxInternal/RpcEndPointsCore","ShellWorkerImpl/Core/ExtensionManagerOptions","FxInternal/AsyncLoaderCore"],(function(n,t,i,r,u,f,e){Object.defineProperty(t,"__esModule",{value:!0});t.getUserInfoEndPointHandler=t.pushUserInfoEndpointHandler=t.UserInfoProvider=void 0;var o=(function(){function t(n){var t=n.extensions,i=this,r=new Promise(function(n){i.resolveUserInfo=n});this.getUserInfo=function(n){var i,u=(((i=t[n])===null||i===void 0?void 0:i.flags)||0)&16;return u?{}:r}}return __decorate([__metadata("fx:diagnostics",[n,"UserInfoProvider"]),i.Class(),__metadata("design:paramtypes",[f.ExtensionManagerOptions])],t)})();t.UserInfoProvider=o;t.pushUserInfoEndpointHandler=e.defineHandler(r.pushUserInfoEndpoint,(function(n){var t=n.diContainer,i=n.messageArg;t.get(o).resolveUserInfo(i)}));t.getUserInfoEndPointHandler=e.defineHandler(u.getUserInfoEndPoint,(function(n){var t=n.diContainer,i=n.messageContext.srcWindowId;return __awaiter(void 0,void 0,void 0,(function(){var n;return __generator(this,(function(r){switch(r.label){case 0:return[4,t.get(o).getUserInfo(i)];case 1:return n=r.sent(),[2,__assign({},n)]}}))}))}))}));
define("Weave/DirectMode",["require","exports","Weave/Core/InternalUtil"],(function(n,t,i){return i.WeaveTsx}))