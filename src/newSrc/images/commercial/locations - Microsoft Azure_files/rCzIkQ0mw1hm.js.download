define("@fluentui8/react/lib/utilities/decorators/withViewport",["require","exports","tslib","react","@fluentui8/react/lib/utilities/decorators/BaseDecorator","@fluentui8/react/lib/Utilities"],(function(n,t,i,r,u,f){"use strict";function s(n){return (function(t){function u(n){var i=t.call(this,n)||this;return i._root=r.createRef(),i._registerResizeObserver=function(){var n=f.getWindow(i._root.current);i._viewportResizeObserver=new n.ResizeObserver(i._onAsyncResize);i._viewportResizeObserver.observe(i._root.current)},i._unregisterResizeObserver=function(){i._viewportResizeObserver&&(i._viewportResizeObserver.disconnect(),delete i._viewportResizeObserver)},i._updateViewport=function(n){var u=i.state.viewport,e=i._root.current,s=f.findScrollableParent(e),t=f.getRect(s),r=f.getRect(e),h=function(){n&&i._composedComponentInstance&&i._composedComponentInstance.forceUpdate()},c=(r&&r.width)!==u.width||(t&&t.height)!==u.height;c&&i._resizeAttempts<o&&r&&t?(i._resizeAttempts++,i.setState({viewport:{width:r.width,height:t.height}},(function(){i._updateViewport(n)}))):(i._resizeAttempts=0,h())},i._async=new f.Async(i),i._events=new f.EventGroup(i),i._resizeAttempts=0,i.state={viewport:{width:0,height:0}},i}return i.__extends(u,t),u.prototype.componentDidMount=function(){var t=this,n=this.props,i=n.delayFirstMeasure,r=n.disableResizeObserver,u=n.skipViewportMeasures,o=f.getWindow(this._root.current);if(this._onAsyncResize=this._async.debounce(this._onAsyncResize,e,{leading:!1}),!u){if(!r&&this._isResizeObserverAvailable())this._registerResizeObserver();else this._events.on(o,"resize",this._onAsyncResize);i?this._async.setTimeout((function(){t._updateViewport()}),e):this._updateViewport()}},u.prototype.componentDidUpdate=function(n){var u=n.skipViewportMeasures,t=this.props,e=t.disableResizeObserver,i=t.skipViewportMeasures,r=f.getWindow(this._root.current);if(i!==u)if(i)this._unregisterResizeObserver(),this._events.off(r,"resize",this._onAsyncResize);else{if(!e&&this._isResizeObserverAvailable())this._viewportResizeObserver||this._registerResizeObserver();else this._events.on(r,"resize",this._onAsyncResize);this._updateViewport()}},u.prototype.componentWillUnmount=function(){this._events.dispose();this._async.dispose();this._unregisterResizeObserver()},u.prototype.render=function(){var t=this.state.viewport,u=t.width>0&&t.height>0?t:undefined;return r.createElement("div",{className:"ms-Viewport",ref:this._root,style:{minWidth:1,minHeight:1}},r.createElement(n,i.__assign({ref:this._updateComposedComponentRef,viewport:u},this.props)))},u.prototype.forceUpdate=function(){this._updateViewport(!0)},u.prototype._onAsyncResize=function(){this._updateViewport()},u.prototype._isResizeObserverAvailable=function(){var n=f.getWindow(this._root.current);return n&&n.ResizeObserver},u})(u.BaseDecorator)}Object.defineProperty(t,"__esModule",{value:!0});t.withViewport=void 0;var e=500,o=3;t.withViewport=s}))