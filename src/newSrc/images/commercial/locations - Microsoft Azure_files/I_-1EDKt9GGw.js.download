define("_generated/MsPortalImpl/Svg/Internal/CollapseAll.svg",["require","exports"],(function(e,t){"use strict";return{type:1,data:"<svg viewBox='0 0 18 18' class='msportalfx-svg-placeholder' role='presentation' focusable='false' xmlns:svg='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'><g><title></title><path d='M14.932 0 9 6.18 3.068 0 2.25.851 9 7.875 15.75.851 14.932 0ZM3.068 18 9 11.82 14.932 18l.818-.851L9 10.125l-6.75 7.024.818.851Z'/></g></svg>"}})),
define("_generated/MsPortalImpl/Svg/Internal/ExpandAll.svg",["require","exports"],(function(e,t){"use strict";return{type:1,data:"<svg viewBox='0 0 18 18' class='msportalfx-svg-placeholder' role='presentation' focusable='false' xmlns:svg='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'><g><title></title><path d='M14.932 7.875 9 1.695l-5.932 6.18-.818-.851L9 0l6.75 7.024-.818.851Zm-11.864 2.25L9 16.305l5.932-6.18.818.851L9 18l-6.75-7.024.818-.851Z'/></g></svg>"}})),
define("MsPortalImpl.Controls/Controls/Lists/Menu.Component",["require","exports","Weave/DirectMode","Weave","MsPortalImpl.Controls/Controls/Lists/List1/ListView1.Component","MsPortalImpl.Controls/Controls/SearchBox.Component","FxInternal/Weave","Fx","Fx/Images","_generated/MsPortalImpl/Svg/Internal/ExpandAll.svg","_generated/MsPortalImpl/Svg/Internal/CollapseAll.svg","MsPortalImpl/Resources/ImplScriptResources"],(function(e,t,s,i,l,n,a,o,r,c,d,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.menuItem=t.menuGroupHeader=t.MenuInner=void 0,t.MenuInner=function(e){const{state:t}=e,m=(0,o.isFeatureEnabled)("collapsiblemenu"),p=t.listState.vivaListViewModel.plugins.groupable;return s(i.Fragment,null,t.searchBoxViewModel?s("div",{className:"fxc-menu-header"},m?s("button",{className:"fxc-menu-collapseexpandall",image:(0,a.toComputation)(p.shouldCollapseOrExpand).compose((e=>"collapse"===e?r.Images.CustomImageWithOptions(d,{}):r.Images.CustomImageWithOptions(c,{}))),title:(0,a.toComputation)(p.shouldCollapseOrExpand).compose((e=>"collapse"===e?u.Menu.collapseAllHeaders:u.Menu.expandAllHeaders)),onClick:()=>p.toggleCollapseStatusOfAllGroupHeaders(),type:"button"}):null,s("div",{className:"fxc-menu-search"},s(n.SearchBoxInner,{vm:t.searchBoxViewModel,state:t.searchBoxState}))):s("div",{className:"fxc-menu-nosearch-placeholder"}),s("div",{className:"fxc-menu-scrollarea fxs-customscrollbar"},s("div",{className:"fxc-menu-grid"},s(l.ListViewInner,{vm:t.listViewModel,state:t.listState}))))},t.menuGroupHeader=function(e){const t=e.value!==MsPortalFx.Resources.Strings.Part.SettingList.Group.quickAccess,l=(0,o.isFeatureEnabled)("collapsiblemenu"),n=(0,a.toComputation)(e.isCollapsed);return s(i.Fragment,null,l?s("div",{image:n.compose((e=>e?r.Images.Chevron():r.Images.CaretDown())),className:["ext-fxc-menu-icon","ext-fxc-menu-groupheader-icon",t?"":"fxs-display-none"]}):null,s("div",{className:["ext-fxc-menu-groupheader",t?"":"fxs-display-none"]},e.value))},t.menuItem=function(e){return s(i.Fragment,null,s("div",{image:(0,a.toValueOrComputation)(e.icon),className:"ext-fxc-menu-icon msportalfx-svg-c07"}),s("div",{className:"ext-fxc-menu-listView-item","data-telemetryName":`Menu-${e.id}`},(0,a.toValueOrComputation)(e.displayText)))}})),
define("_generated/Less/MsPortalImpl.Controls/Controls/Lists/Menu.css",["module"],(function(e){"use strict";return{css:'.fxc-menu{display:flex;flex-direction:column}.ext-fxc-menu-groupheader{padding:0;font-size:13px;line-height:1.385;line-height:32px;border-bottom-color:inherit;border-bottom-style:solid;border-bottom-width:1px}.ext-menublade-part{height:100%}.fxc-menu-search{flex:0 0 auto;min-height:23px;margin:7px 35px 7px 20px}.fxc-menu-nosearch-placeholder{display:block;flex:0 0 24px}.fxc-menu-scrollarea{overflow:auto;flex:1 1 auto}.ext-fxc-menu-icon{height:15px;width:15px;flex:0 0 auto}.fxc-menu-grid{padding:0}.fxc-menu-grid .azc-listView-item{display:flex;font-size:13px;margin:0}.fxc-menu-grid .azc-listView-item[aria-disabled="true"] .ext-fxc-menu-listView-item,.fxc-menu-grid .azc-listView-item[aria-disabled="true"] .ext-fxc-menu-icon{opacity:.5}.fxc-menu-grid .ext-fxc-menu-item{display:flex;align-items:center;width:100%;padding:7px 20px;box-sizing:border-box;min-height:32px;overflow:hidden}.fxc-menu-grid .ext-fxc-menu-item:hover,.fxc-menu-grid .ext-fxc-menu-item:focus,.fxc-menu-grid .ext-fxc-menu-item:active{text-decoration:none}.fxc-menu-grid .ext-fxc-menu-icon{position:relative;padding-right:10px;align-self:flex-start;margin-top:2px}.fxc-menu-grid .ext-fxc-menu-icon.ext-fxc-menu-groupheader-icon{align-self:center;margin-top:0}.fxc-menu-grid .ext-fxc-menu-listView-item{overflow:hidden;text-overflow:ellipsis}.fxc-menu-grid .azc-listView-groupheader{margin:0 20px}.fxs-menublade .fxs-blade-content-container .fxs-blade-content-container-default{display:none}.fxs-menublade .fxs-blade-content-container .fxs-blade-content-container-default .fxs-part{overflow:hidden !important}.fxc-menu .azc-listView-group{margin-bottom:8px}@media(min-width:640px) and (min-height:500px){.fxs-menublade .fxs-blade-content-container .fxs-blade-content-container-default{display:flex}}.fxc-menu.fxc-collapsible-menu{flex-direction:column;align-content:flex-start}.fxc-menu.fxc-collapsible-menu li.fxs-portal-focus{border-radius:4px}.fxc-menu.fxc-collapsible-menu .azc-listView-collapsibleGroup{margin:0 20px}.fxc-menu.fxc-collapsible-menu .azc-listView-collapsibleGroup .ext-fxc-menu-groupheader-icon{height:12px;width:12px;padding:2px}.fxc-menu.fxc-collapsible-menu .azc-listView-collapsibleGroup .ext-fxc-menu-groupheader,.fxc-menu.fxc-collapsible-menu .azc-listView-collapsibleGroup .azc-listView-collapsible-groupheader{border:0;padding:0}.fxc-menu.fxc-collapsible-menu .azc-listView-collapsibleGroup .ext-fxc-menu-item,.fxc-menu.fxc-collapsible-menu .azc-listView-collapsibleGroup .azc-listView-collapsible-groupheader{column-gap:8px}.fxc-menu.fxc-collapsible-menu .azc-listView-collapsibleGroup ul{margin-left:24px}.fxc-menu.fxc-collapsible-menu .azc-listView-collapsibleGroup ul a.ext-fxc-menu-item{padding:0}.fxc-menu.fxc-collapsible-menu .azc-listView-collapsibleGroup ul a.ext-fxc-menu-item .ext-fxc-menu-icon{height:16px;width:16px;padding-right:0;align-self:auto}.fxc-menu.fxc-collapsible-menu .fxc-menu-header{display:flex;flex-flow:row;gap:4px;align-items:center;margin:7px 34px 7px 16px}.fxc-menu.fxc-collapsible-menu .fxc-menu-header .fxc-menu-search{flex-grow:1;flex-shrink:1;margin:0}.fxc-menu.fxc-collapsible-menu .fxc-menu-header .fxc-menu-collapseexpandall{height:24px;width:24px;display:flex;padding:8px;border:none}.fxc-menu.fxc-collapsible-menu .fxc-menu-header .fxc-menu-collapseexpandall>svg{width:8px;height:8px}.fxc-menu.fxc-collapsible-menu .fxc-menu-header .fxc-menu-collapseexpandall:hover{background-color:var(--colorControlBackgroundHover)}.fxc-menu.fxc-collapsible-menu .fxc-menu-header .fxc-menu-collapseexpandall:active{background-color:var(--colorControlBackgroundSelected)}',moduleId:e.id}})),
define("MsPortalImpl.Controls/Controls/Lists/Menu",["require","exports","MsPortalImpl.Controls/Controls/Base/Loadable","MsPortalImpl/Base/Base.Selectable2","Fx/Controls/SearchBox","MsPortalImpl/Base/Base.KeyboardHelper","MsPortalImpl/Base/Base.DeepLink","MsPortalImpl.Controls/Controls/Base/Base","MsPortalImpl.Controls/Controls/Lists/Menu.Component","MsPortalImpl.Controls/Controls/Lists/List1/ListView1","MsPortalImpl.Controls/Controls/SearchBox","MsPortalImpl.Controls/Controls/Lists/List1/ListView1.InternalViewModel","_oss/fuse","FxInternal/Css","_generated/Less/MsPortalImpl.Controls/Controls/Lists/Menu.css","FxInternal/Controls/ListView1"],(function(e,t,s,i,l,n,a,o,r,c,d,u,m,p,x,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Widget=t.InnerTsxComponent=t.WidgetUIState=void 0,(0,p.injectCss)(x);var h=MsPortalFx.Base.Promises;const b=i.getOrCreate,g="fxc-menu",v={shouldSort:!0,includeScore:!0,includeMatches:!0,tokenize:!0,threshold:.3,location:0,distance:100,maxPatternLength:32,minMatchCharLength:2,keys:[{name:"displayText",weight:.8},{name:"keywords",weight:.3}],getFn:(e,t)=>{const s=ko.unwrap(e[t]);return"displayText"===t?s:"string"==typeof s?s.split(","):s}};class I extends o.WidgetUIState{constructor(e){super(),this.queryString=ko.observable(""),this.searchMissCallbacks=$.Callbacks(),this.ariaLabel=ko.observable("");const t=e.vm,s=this.listViewModel=new u.ViewModel(this._ltm,f.Extensions.Selectable|f.Extensions.Groupable|f.Extensions.ContextMenu,{ariaLabel:this.ariaLabel,groupable:{groupKey:ko.observable("group"),order:ko.observable(f.GroupOrder.Collection),headerTsxFn:r.menuGroupHeader,searchState:ko.observable(0),selectedGroup:ko.observable()},selectable:{listRole:!0}},r.menuItem);s.outlineStyle(!1),s.extensionOptions.selectable.activateOnSelected=!0,this.listState=new c.WidgetUIState({vm:s,isTrusted:!0,sanitizationContext:e.sanitizationContext}),t.showSearch&&(this.searchBoxViewModel=l.create(this._ltm,{resultLimit:0,hideSuggestions:!0,update:e=>{var t,i,l,n;this.queryString(e);let a=[];return e.trim()?(null===(i=null===(t=s.extensionOptions)||void 0===t?void 0:t.groupable)||void 0===i||i.searchState(1),a=function(e,t){let s=S(e=e.trim(),t);if(e.split(" ").length>1){const i=S(e,t,!0);s.push(...i),s.sort(((e,t)=>e.score-t.score)),s=MsPortalFx.unique(s,((e,t)=>MsPortalFx.areEqual(e.item.id,t.item.id)))}return s.map((e=>ko.unwrap(e.item.displayText)))}(e.toLowerCase(),s.items()),0===a.length?(this.searchMissCallbacks.fire({query:this.queryString()}),s.items().forEach((e=>{const t=ko.unwrap(e.displayText);e.metadata.hidden(a.indexOf(t)<0)}))):s.items().forEach((e=>{const t=ko.unwrap(e.displayText);e.metadata.hidden(a.indexOf(t)<0)}))):(s.items().forEach((e=>{e.metadata.hidden(!1)})),null===(n=null===(l=s.extensionOptions)||void 0===l?void 0:l.groupable)||void 0===n||n.searchState(0)),Q(a)},submit:e=>(this.queryString(e),Q(!0))}),this.searchBoxState=new d.WidgetUIState({diContainer:e.diContainer,vm:this.searchBoxViewModel}))}}t.WidgetUIState=I,t.InnerTsxComponent=r.MenuInner;class w extends s.Widget{constructor(e,t,s,i){super(e,t,s,i),this._overview=ko.observable(),this._callbacks=$.Callbacks(),this._noDefaultIdDeferred=Q.defer(),this.selectedItemText=ko.observable(),this._partContainer=e.parent(),e.addClass(g),MsPortalFx.isFeatureEnabled("collapsiblemenu")&&e.addClass("fxc-collapsible-menu"),t.showSearch&&e.parents(".fxs-blade-content-wrapper").addClass("fxs-menu-show-search");const l=this.ltm;i.ariaLabel()||i.ariaLabel(e.closest(".fxs-blade").find(".fxs-blade-title-titleText").text());const{items:o,selectableMap:r,options:u}=this._data=t._msPortalFxData,m=this._data.menuDeepLink||ko.observable("");this.getResourceType=()=>(u.peek()||{}).resourceType;const p=ko.observableArray([]),x={};ko.explicitComputed(l,[o,this._overview],((e,t)=>{const s=this._overview(),i=[];s&&i.push(s),p(i.concat(e))})),m.subscribe(l,(e=>{e&&p().forEach((t=>{const s=t.id;x[s]((0,a.replaceMenuIdFromDeepLink)(e,s))}))})),this._visibleItems=p.map(l,((e,t)=>{const s=t.id;ko.ignoreDependencies((()=>{if(!x[s]){const e=m();x[s]=ko.observable(e&&this._selectedItem&&(0,a.replaceMenuIdFromDeepLink)(e,s)||"#")}}));const i=MsPortalFx.extend({metadata:{},url:x[s]},t);return!i.metadata.disabled&&(i.metadata.disabled=ko.observable(!1)),i.metadata.hidden=ko.observable(!1),i.enabled&&i.enabled.subscribeAndRun(e,(e=>i.metadata.disabled(!e))),i})).filter(l,(e=>!e.visible||e.visible()));const f=this.state.listViewModel;this._visibleItems.subscribeAndRun(l,f.items);const v=f.extensionOptions.selectable.selectedItem,I=new h.CancelationToken;v.subscribe(l,(e=>{var t;this.resetStartupLifetimeManager(),I.cancel();const s=this._overview();let i;if(e){let l;(null===(t=this._selectedTab)||void 0===t?void 0:t.menuId)===e.id?l=r()[this._selectedTab.tabMenuId]:(this._selectedTab=null,l=r()[e.id]);const n=b(this._diContainer,l);if(!n.isSelected()){this._clickSelectable(e.id,n);const t=this._selectedItem;this._selectedItem=e;const l=n.isSelected.subscribe(n.createChildLifetime(),(a=>{n.isCanceled&&t&&r()[t.id]&&(f.extensionOptions.selectable.selectedItem(t),this._selectedItem=t,i=(s&&s.id)===t.id?null:ko.unwrap(t.displayText)),e===f.extensionOptions.selectable.selectedItem()&&f.extensionOptions.selectable.selectedItem(null),l.dispose()}))}i=(s&&s.id)===e.id?null:ko.unwrap(e.displayText)}this.selectedItemText(i)})),v.subscribe(l,(e=>{var t,s;null===(s=null===(t=f.extensionOptions.groupable)||void 0===t?void 0:t.selectedGroup)||void 0===s||s.call(t,null==e?void 0:e.group)})),e.on("click",".ext-fxc-menu-item",(e=>{if(n.isCtrlOrCommandOnly(e)||e.shiftKey)return!0;e.preventDefault()})),e.trigger("fxregistermenu",this);const w={weaveContext:this.weaveContext};this.ltm.registerForDispose(new c.Widget(e.findByClassName("fxc-menu-grid"),f,w,this.state.listState)),this.state.searchBoxViewModel&&this.ltm.registerForDispose(new d.Widget(e.findByClassName("fxc-menu-search"),this.state.searchBoxViewModel,w,this.state.searchBoxState)),this.getTelemetryInfo=()=>{const e=u.peek()||{},t={itemCount:this._visibleItems.peek().length};return MsPortalFx.extendStringMapIntoMap(t,e,((e,t)=>MsPortalFx.isPrimitive(e)?e:void 0),!0),t}}onItemClick(e){this._callbacks.add(e)}onSearchMiss(e){this.state.searchMissCallbacks.add(e)}resetStartupLifetimeManager(){this._startupLifetimeManager&&this._startupLifetimeManager.dispose()}setDefaultId(e){const t=this.state.listViewModel,s=e.recommendedId,i=t.extensionOptions.selectable.selectedItem;i()&&i(null);const{selectableMap:l,options:n}=this._data;this.resetStartupLifetimeManager();const a=this._startupLifetimeManager=this.ltm.createChildLifetime(),o=ko.observable(),r=(e,s=!0)=>{s?t.extensionOptions.selectable.selectedItem(e):o()?t.extensionOptions.selectable.selectedItem(_(this._visibleItems(),o())):t.extensionOptions.selectable.selectedItem(MsPortalFx.first(this._visibleItems()))};ko.computed(a,[l,this._visibleItems,o],((t,i,l)=>{if(!t||!l)return;if(e.bladeReference&&t[s]){b(this._diContainer,t[s]).referenceOverride=e.bladeReference,e.bladeReference=null}const n=MsPortalFx.find(i,(e=>this._selectedItem&&e.id===this._selectedItem.id));(n?M(a,n,500,r):Promise.resolve(!1)).then((e=>{if(e||a.isDisposed())return;const s=_(i,l);if(s)C(s,l.toLowerCase())||(this._selectedTab={menuId:s.id,tabMenuId:l}),M(a,s,500,r);else if(t[l]){let e=!1;MsPortalFx.forEachKey(t,((s,l)=>{if(e)return;const n=b(this._diContainer,t[s]),o=MsPortalFx.find(i,(e=>e.id===s));o&&(!n.isSelected()||o.enabled&&!o.enabled()?ko.computed(a,[n.isSelected,o.enabled||ko.observable(!0)],((e,t)=>{e&&t&&(r(o),this.resetStartupLifetimeManager())})):(e=!0,r(o),Q.nextTick((()=>this.resetStartupLifetimeManager()))))}))}else{const e=MsPortalFx.first(i);e&&M(a,e,-1,r)}}))}));const c=n.subscribe(a,(e=>{if(!e)return;const t=e.overview;let i=e.defaultId;t?(this._overview(MsPortalFx.extend2(t,{group:MsPortalFx.Assets.QuickAccessGroupId,aggregatedKeywords:[t.displayText].concat(t.keywords).join(" ")})),i||(i=t.id)):this._overview(null),i=s||i,i?o(i):this._noDefaultIdDeferred.resolve()}));e.rebinding||c.callback(n())}switchItem(e,t){this._selectedTab=null;const s=this._visibleItems(),i=_(s,e),l=i||MsPortalFx.first(s);if(l.tabItems&&(this._selectedTab={menuId:i.id,tabMenuId:e}),this._selectedItem.id===e){b(this._diContainer,this._data.selectableMap()[i.id]).refresh()}if(t){const{selectableMap:s}=this._data,i=b(this._diContainer,s()[e]);i.referenceOverride=t,l&&this._clickSelectable(e,i)}else l&&this.state.listViewModel.extensionOptions.selectable.selectedItem(l)}internalGetAndSelectItem(e){const t=_(this._visibleItems(),e);if(this._selectedItem===t&&t.tabItems){this._selectedTab={menuId:t.id,tabMenuId:e};const s=k(t,e);if(s)return(s.supplyBladeReference?Promise.resolve(s.supplyBladeReference()):s.supplyBladeReferenceAsync()).then((t=>(t.menuId=e,t)))}return null}getSelectedItem(){if(this._selectedTab){return k(_(this._visibleItems(),this._selectedTab.menuId),this._selectedTab.tabMenuId)}return this._selectedItem}getPartContainer(){return this._partContainer}dispose(){this._cleanElement(g),super.dispose()}selectDefaultItem(){this.state.listViewModel.extensionOptions.selectable.selectedItem(this._visibleItems.peek()[0])}getDefaultItem(){return this._visibleItems.peek()[0]}_clickSelectable(e,t){t.onClick(),this._callbacks.fire(e,{query:this.state.queryString()})}}function M(e,t,s,i){const l=FxImpl.defer(),n=e.createChildLifetime();let a;return t.enabled?t.enabled.subscribeAndRun(n,(e=>{e&&l.resolve(!0)})):l.resolve(!0),-1!==s&&(a=setTimeout((()=>{l.resolve(!1)}),s)),l.promise.finally((()=>{a&&clearTimeout(a),n.dispose()})).then((e=>(i(t,e),e)))}function C(e,t){return e.id.toLowerCase()===t||e.id.toLowerCase()===t.replace(/\s/g,"")}function _(e,t){const s=t?t.toLowerCase():"";return MsPortalFx.find(e,(e=>C(e,s)||!!k(e,s)))}function k(e,t){const s=t?t.toLowerCase():"";return MsPortalFx.find(e.tabItems||[],(e=>C(e,s)))}function S(e,t,s){const i=s?MsPortalFx.extend({matchAllTokens:!0},v):v;let l=new m(t,i).search(e);l=l.filter((e=>e.score<=i.threshold));return l.reduce(((e,t)=>(t.score<=i.threshold&&e.push(t),e)),[]).sort(((e,t)=>e.score-t.score))||[]}t.Widget=w,w.flightNewRender=!0}));